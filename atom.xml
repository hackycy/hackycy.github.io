<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小小源Bの博客</title>
  
  <subtitle>zj&amp;ycy</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://hackycy.github.io/"/>
  <updated>2019-05-09T02:15:59.104Z</updated>
  <id>http://hackycy.github.io/</id>
  
  <author>
    <name>hackycy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>浅析JS中的模块化(CommonJS,AMD,CMD)</title>
    <link href="http://hackycy.github.io/2019/05/07/%E6%B5%85%E6%9E%90JS%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96-CommonJS-AMD-CMD/"/>
    <id>http://hackycy.github.io/2019/05/07/浅析JS中的模块化-CommonJS-AMD-CMD/</id>
    <published>2019-05-07T14:27:33.000Z</published>
    <updated>2019-05-09T02:15:59.104Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>历史上，JavaScript一直都没有模块（module）体系，这就导致了在大项目中无法拆分成互相依赖的小文件，再进行拼装。这对开发复杂的项目形成了巨大的障碍。</p><a id="more"></a><h1 id="模块化概念"><a href="#模块化概念" class="headerlink" title="模块化概念"></a>模块化概念</h1><p>理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。</p><p><strong>原始的写法</strong></p><p>模块就是实现某个特定功能的方法，只要把不同的函数或变量放在一起就算是一个模块</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// m1();</span></span><br><span class="line"><span class="comment">// m2();</span></span><br><span class="line"><span class="comment">// console.log(_count);</span></span><br></pre></td></tr></table></figure><p>这里的m1,m2方法组成了一个模块，使用的时候直接调用即可。但是这样很明显有一个缺点：“污染”全局变量，没有办法保证模块与模块之间不发生变量名或者方法名冲突，并且模块间与模块间并无法分清是否有直接联系。</p><p><strong>对象写法</strong></p><p>对于原始写法的缺点，将方法或者变量声明在某个对象中，像m1,m2函数都封装在对象体内，需要时再用对象进行调用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = &#123;</span><br><span class="line">    _count: <span class="number">0</span>,</span><br><span class="line">    m1: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    m2: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// module1.m1();</span></span><br><span class="line"><span class="comment">// module1.m2();</span></span><br><span class="line"><span class="comment">// console.log(module1._count);</span></span><br></pre></td></tr></table></figure><p>但是这样依然会有缺点：暴露出了模块的所有成员，内部状态可以被改写，比如内部_count变量会被外部直接改写。</p><p><strong>立即执行函数写法</strong></p><p>会涉及到闭包的概念，用‘立即执行函数’（Immediately-Invoked Function Expression，IIFE）即可以达到不暴露私有成员的目的。类似于jQuery的封装。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">m1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">m2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        m1: m1,</span><br><span class="line">        m2: m2,</span><br><span class="line">        getCount: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> _count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// module1.m1();</span></span><br><span class="line"><span class="comment">// module1.m2();</span></span><br><span class="line"><span class="comment">// console.log(module1._count); //undefined</span></span><br><span class="line"><span class="comment">// console.log(module1.getCount()); //0</span></span><br></pre></td></tr></table></figure><h1 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h1><p><a href="[http://wiki.commonjs.org/wiki/CommonJS](http://wiki.commonjs.org/wiki/CommonJS">CommonJS</a>) 是以在浏览器环境之外构建 JavaScript 生态系统为目标而产生的项目，比如在服务器和桌面环境中。</p><blockquote><p>2009年，美国程序员Ryan Dahl创造了node.js项目，将javascript语言用于服务器端编程。</p></blockquote><blockquote><p>这标志”Javascript模块化编程”正式诞生。前端的复杂程度有限，没有模块也是可以的，但是在服务器端，一定要有模块，与操作系统和其他应用程序互动，否则根本没法编程。</p></blockquote><blockquote><p>node编程中最重要的思想之一就是模块，而正是这个思想，让JavaScript的大规模工程成为可能。模块化编程在js界流行，也是基于此，随后在浏览器端，requirejs和seajs之类的工具包也出现了，可以说在对应规范下，require统治了ES6之前的所有模块化编程，即使现在，在ES6 module被完全实现之前，还是这样。</p></blockquote><p><img src="commonjs.png" alt=""></p><p>例如在Node中，Node 应用由模块组成，采用 CommonJS 模块规范。</p><p>每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。</p><p>CommonJS规范规定，每个模块内部，<code>module</code>变量代表当前模块。这个变量是一个对象，它的·<code>exports</code>属性（即·<code>module.exports</code>）是对外的接口。加载某个模块，其实是加载该模块的·<code>module.exports</code>属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//user.js</span></span><br><span class="line"><span class="keyword">var</span> _count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> expose_num = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">var</span> m1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> m2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getCount = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> _count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports.m1 = m1;</span><br><span class="line"><span class="built_in">module</span>.exports.m2 = m2;</span><br><span class="line"><span class="built_in">module</span>.exports.getCount = getCount;</span><br><span class="line"><span class="built_in">module</span>.exports.expose_num = expose_num;</span><br></pre></td></tr></table></figure><p>上面代码通过<code>module.exports</code>输出变量<code>expose_num</code>和函数<code>m1</code>,<code>m2</code>,<code>getCount</code>。</p><p><code>require</code>方法进行加载模块</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">const</span> module1 = <span class="built_in">require</span>(<span class="string">'./user.js'</span>);</span><br><span class="line">module1.m1(); <span class="comment">//m1</span></span><br><span class="line">module1.m2(); <span class="comment">//m2</span></span><br><span class="line"><span class="built_in">console</span>.log(module1.getCount()); <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(module1.expose_num); <span class="comment">//100</span></span><br></pre></td></tr></table></figure><p><strong>module.exports属性</strong></p><p><code>module.exports</code>属性表示当前模块对外输出的接口，其他文件加载该模块，实际上就是读取<code>module.exports</code>变量。</p><p><strong>exports变量</strong></p><p>为了方便，Node为每个模块提供一个<code>exports</code>变量，指向<code>module.exports</code>。这等同在每个模块头部，有一行这样的命令。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> exports = <span class="built_in">module</span>.exports;</span><br></pre></td></tr></table></figure><blockquote><p>如果你觉得，<code>exports</code>与<code>module.exports</code>之间的区别很难分清，一个简单的处理方法，就是放弃使用<code>exports</code>，只使用<code>module.exports</code>。</p><p>es6中为<code>export</code>,注意区分。</p></blockquote><p><strong>CommonJS模块的特点如下</strong></p><ul><li>所有代码都运行在模块作用域，不会污染全局作用域。</li><li>模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存了，以后再加载，就直接读取缓存结果。要想让模块再次运行，必须清除缓存。</li><li>模块加载的顺序，按照其在代码中出现的顺序。</li></ul><p>详细学习使用请参考链接：<a href="https://javascript.ruanyifeng.com/nodejs/module.html" target="_blank" rel="noopener">https://javascript.ruanyifeng.com/nodejs/module.html</a></p><h1 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h1><p>有了服务器端的模块化后，很自然客户端也需要进行模块化，最好两者能够兼容，并且在服务器和浏览器都能够运行。也由于一个重大的局限，使得CommonJS规范不适用于浏览器环境上。</p><p><img src="amd.png" alt=""></p><p>就例如上述中CommonJS中的案例代码，在未加载完第一行的<code>require(&#39;./user.js&#39;)</code>代码时，后面的<code>module1.m1()</code>等的方法都会进行等待第一行完成后才可以继续运行。这对服务端来说不是问题，因为所有的模块都存放在本地硬盘，没有网络等其他原因，可以很快的同步加载完成，只需要等待硬盘的读取时间。但是对于浏览器环境，却是一个很大的问题，因为所有的模块都放置于服务端，等待时间不是取决于硬盘，而是取决于网速的快慢，这就导致了可能会导致等待时间过长，导致浏览器出现’假死’状态。</p><p>因此浏览器端的模块不可以采用’同步加载’（synchronous），只能使用’异步加载’（asynchronous）。这就是<a href="[https://github.com/amdjs/amdjs-api/wiki/AMD-(%E4%B8%AD%E6%96%87%E7%89%88">AMD</a>](<a href="https://github.com/amdjs/amdjs-api/wiki/AMD-(中文版))规范的诞生背景。" target="_blank" rel="noopener">https://github.com/amdjs/amdjs-api/wiki/AMD-(中文版))规范的诞生背景。</a></p><blockquote><p>所谓AMD即Asynchronous Module Definition的缩写，意思就是’异步模块定义’。它采用异步方式加载模块，模块的加载不影响后面的语句的运行。所有依赖这个模块的语句，都定义在一个回调函数中，等到加载完成之后，这个回调函数才会运行。</p></blockquote><p>该规范只定义了一个函数 <code>define</code>，它是全局变量。函数的描述为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(id?, dependencies?, factory);</span><br></pre></td></tr></table></figure><ul><li>id：第一个参数，id，是个字符串。它指的是定义中模块的名字，这个参数是可选的</li><li>dependencies：第二个参数，dependencies，是个定义中模块所依赖模块的数组</li><li>factory：第三个参数，factory，为模块初始化要执行的函数或对象。</li></ul><p>例如在<code>RequireJS</code>中，</p><blockquote><p>RequireJS是一个工具库，主要用于客户端的模块管理。它可以让客户端的代码分成一个个模块，实现异步或动态加载，从而提高代码的性能和可维护性。它的模块管理遵守<a href="https://github.com/amdjs/amdjs-api/wiki/AMD" target="_blank" rel="noopener">AMD规范</a>（Asynchronous Module Definition）。</p></blockquote><blockquote><p>RequireJS的基本思想是，通过define方法，将代码定义为模块；通过require方法，实现代码的模块加载。</p></blockquote><p>首先，将require.js嵌入网页，然后就能在网页中进行模块化编程了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"app"</span> <span class="attr">src</span>=<span class="string">"https://requirejs.org/docs/release/2.3.6/comments/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上面代码的<code>data-main</code>属性不可省略，用于指定主代码所在的脚本文件，在上例中为当前目录下的<code>app.js</code>文件。用户自定义的代码就放在这个<code>app.js</code>文件中。</p><p><strong>define方法：定义模块</strong></p><ul><li>独立模块</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//user.js</span></span><br><span class="line">define(&#123;</span><br><span class="line">    m1:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    m2:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>另一种等价的写法是，把对象写成一个函数，该函数的返回值就是输出的模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//user.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        m1:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'m1'</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        m2:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'m2'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>后一种写法的自由度更高一点，可以在函数体内写一些模块初始化代码。值得指出的是，define定义的模块可以返回任何值，不限于对象。</p></blockquote><ul><li>非独立模块</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//cart.js</span></span><br><span class="line">define([<span class="string">'user'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'cart'</span>);</span><br><span class="line">    user.m1();</span><br><span class="line">    user.m2();</span><br><span class="line">    <span class="keyword">var</span> getCartCount = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        getCartCount:getCartCount</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>define方法的第一个参数是一个数组，它的成员是当前模块所依赖的模块。比如，[‘user’]表示我们定义的这个新模块依赖于user模块，只有先加载这两个模块，新模块才能正常运行。一般情况下，user模块指的是，当前目录下的user.js文件，等同于写成[’./user’]。</p><p>define方法的第二个参数是一个函数，当前面数组的所有成员加载成功后，它将被调用。它的参数与数组的成员一一对应，比如function(user)就表示，这个函数的第一个参数user对应user模块，以此类推。这个函数必须返回一个对象，供其他模块调用。</p><p><strong>require方法：调用模块</strong></p><p>require方法用于调用模块。它的参数与define方法类似。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'cart'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">cart</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//...do</span></span><br><span class="line">    <span class="built_in">console</span>.log(cart.getCartCount());</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//输出：</span></span><br><span class="line"><span class="comment">//cart</span></span><br><span class="line"><span class="comment">//m1</span></span><br><span class="line"><span class="comment">//m2</span></span><br><span class="line"><span class="comment">//100</span></span><br></pre></td></tr></table></figure><p>上面方法表示加载cart一个模块，当这一个模块都加载成功后，执行一个回调函数。该回调函数就用来完成具体的任务。而<code>cart.getCartCount()</code>和<code>cart</code>模块加载不是同步的，浏览器不会再发生假死状态，所以AMD规范更适合浏览器环境。</p><blockquote><p>require方法也可以用在define方法内部，即动态加载。</p></blockquote><p>define和require这两个定义模块、调用模块的方法，合称为AMD模式。它的模块定义的方法非常清晰，不会污染全局环境，能够清楚地显示依赖关系。</p><p>AMD模式可以用于浏览器环境，并且允许非同步加载模块，也可以根据需要动态加载模块。</p><p>详细学习使用请参考链接：<a href="https://javascript.ruanyifeng.com/tool/requirejs.html" target="_blank" rel="noopener">https://javascript.ruanyifeng.com/tool/requirejs.html</a></p><h1 id="AMD规范与CommonJS规范的兼容性"><a href="#AMD规范与CommonJS规范的兼容性" class="headerlink" title="AMD规范与CommonJS规范的兼容性"></a>AMD规范与CommonJS规范的兼容性</h1><p>CommonJS规范加载模块是同步的，也就是说，只有加载完成，才能执行后面的操作。AMD规范则是非同步加载模块，允许指定回调函数。由于Node.js主要用于服务器编程，模块文件一般都已经存在于本地硬盘，所以加载起来比较快，不用考虑非同步加载的方式，所以CommonJS规范比较适用。但是，如果是浏览器环境，要从服务器端加载模块，这时就必须采用非同步模式，因此浏览器端一般采用AMD规范。</p><p>AMD规范使用define方法定义模块，下面就是一个例子：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">define([<span class="string">'package/lib'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">lib</span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    lib.log(<span class="string">'hello world!'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: foo</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>AMD规范允许输出的模块兼容CommonJS规范，这时<code>define</code>方法需要写成下面这样：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> someModule = <span class="built_in">require</span>(<span class="string">"someModule"</span>);</span><br><span class="line">  <span class="keyword">var</span> anotherModule = <span class="built_in">require</span>(<span class="string">"anotherModule"</span>);</span><br><span class="line"></span><br><span class="line">  someModule.doTehAwesome();</span><br><span class="line">  anotherModule.doMoarAwesome();</span><br><span class="line"></span><br><span class="line">  exports.asplode = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    someModule.doTehAwesome();</span><br><span class="line">    anotherModule.doMoarAwesome();</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h1><p><a href="https://github.com/seajs/seajs/issues/242" target="_blank" rel="noopener">CMD</a> 是 SeaJS 在推广过程中对模块定义的规范化产出。</p><p>首先通过 <code>script</code> 引入 <code>sea.js</code> 后，有一段配置代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// seajs 的简单配置</span></span><br><span class="line">seajs.config(&#123;</span><br><span class="line">  base: <span class="string">"../sea-modules/"</span>,</span><br><span class="line">  alias: &#123;</span><br><span class="line">    <span class="string">"jquery"</span>: <span class="string">"jquery/jquery/1.10.1/jquery.js"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 加载入口模块</span></span><br><span class="line">seajs.use(<span class="string">"../static/hello/src/main"</span>)</span><br></pre></td></tr></table></figure><p><code>sea.js</code> 在下载完成后，会自动加载入口模块。页面中的代码就这么简单。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(id?, deps?, factory)</span><br></pre></td></tr></table></figure><ul><li>id：第一个参数，id，是个字符串。它指的是定义中模块的名字，这个参数是可选的</li><li>deps：第二个参数，dependencies，是个定义中模块所依赖模块的数组</li><li>factory：第三个参数，factory，为模块初始化要执行的函数或对象。</li></ul><blockquote><p>注意：带 id 和 dependencies 参数的 define 用法不属于 CMD 规范，而属于 Modules/Transport 规范。</p></blockquote><p>如果一个模块不依赖其他模块，那么可以直接定义在define()函数之中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所有模块都通过 define 来定义</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 通过 require 引入依赖</span></span><br><span class="line">  <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);</span><br><span class="line">  <span class="keyword">var</span> Spinning = <span class="built_in">require</span>(<span class="string">'./spinning'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 通过 exports 对外提供接口</span></span><br><span class="line">  exports.doSomething = ...</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 或者通过 module.exports 提供整个接口</span></span><br><span class="line">  <span class="built_in">module</span>.exports = ...</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>上面就是 Sea.js 推荐的 CMD 模块书写格式。如果你有使用过 Node.js，一切都很自然。</p><p>详细学习使用请参考链接：<a href="https://seajs.github.io/seajs/docs/#quick-start" target="_blank" rel="noopener">https://seajs.github.io/seajs/docs/#quick-start</a></p><h1 id="AMD和CMD的区别"><a href="#AMD和CMD的区别" class="headerlink" title="AMD和CMD的区别"></a>AMD和CMD的区别</h1><p>AMD和CMD最大的区别是对依赖模块的执行时机处理不同，而不是加载的时机或者方式不同，二者皆为异步加载模块。</p><ul><li><p>AMD依赖前置，js可以方便知道依赖模块是谁，立即加载；</p></li><li><p>CMD就近依赖，需要使用把模块变为字符串解析一遍才知道依赖了那些模块。</p></li><li><p>AMD 的 API 默认是<strong>一个当多个用</strong>，CMD 的 API 严格区分，推崇<strong>职责单一</strong>。比如 AMD 里，require 分全局 require 和局部 require，都叫 require。CMD 里，没有全局 require，而是根据模块系统的完备性，提供 seajs.use 来实现模块系统的加载启动。CMD 里，每个 API 都<strong>简单纯粹</strong>。</p></li></ul><p>CMD 推崇<strong>依赖就近</strong>，AMD 推崇<strong>依赖前置</strong></p><blockquote><p>RequireJS 从 2.0 开始，也改成可以延迟执行（根据写法不同，处理方式不同）。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CMD</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;   </span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">'./a'</span>)   </span><br><span class="line">a.doSomething()   </span><br><span class="line"> <span class="comment">// 此处略去 100 行   </span></span><br><span class="line"> <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">'./b'</span>) </span><br><span class="line"> <span class="comment">// 依赖可以就近书写   </span></span><br><span class="line"> b.doSomething()   </span><br><span class="line"> <span class="comment">// ... </span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AMD 默认推荐的是</span></span><br><span class="line">define([<span class="string">'./a'</span>, <span class="string">'./b'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;  </span><br><span class="line">  <span class="comment">// 依赖必须一开始就写好    </span></span><br><span class="line">  a.doSomething()    </span><br><span class="line"><span class="comment">// 此处略去 100 行    </span></span><br><span class="line">b.doSomething()    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>即使AMD也可以支持CMD的写法，因为define内部也可以使用require，前面有提到。但是RequireJS 的作者默认是最喜欢上面的写法，也是官方文档里默认的模块定义写法。</p><h1 id="ES6-Module"><a href="#ES6-Module" class="headerlink" title="ES6 Module"></a>ES6 Module</h1><p>ES6 模块的设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。</p><p><strong>export导出模块</strong></p><p>模块功能主要由两个命令构成：<code>export</code>和<code>import</code>。<code>export</code>命令用于规定模块的对外接口，<code>import</code>命令用于输入其他模块提供的功能。</p><p>一个模块就是一个独立的文件。该文件内部的所有变量，外部无法获取。如果你希望外部能够读取模块内部的某个变量，就必须使用<code>export</code>关键字输出该变量。下面是一个 JS 文件，里面使用<code>export</code>命令输出变量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// profile.js</span></span><br><span class="line"><span class="keyword">var</span> firstName = <span class="string">'Michael'</span>;</span><br><span class="line"><span class="keyword">var</span> lastName = <span class="string">'Jackson'</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">1958</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;firstName, lastName, year&#125;;</span><br></pre></td></tr></table></figure><p><code>export</code>命令除了输出变量，还可以输出函数或类（class）。</p><p><strong>import导入模块</strong></p><p>使用<code>export</code>命令定义了模块的对外接口以后，其他 JS 文件就可以通过<code>import</code>命令加载这个模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;firstName, lastName, year&#125; <span class="keyword">from</span> <span class="string">'./profile.js'</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">  element.textContent = firstName + <span class="string">' '</span> + lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码的<code>import</code>命令，用于加载<code>profile.js</code>文件，并从中输入变量。<code>import</code>命令接受一对大括号，里面指定要从其他模块导入的变量名。大括号里面的变量名，必须与被导入模块（<code>profile.js</code>）对外接口的名称相同。</p><p><strong>export default默认导出</strong></p><p>从前面的例子可以看出，使用<code>import</code>命令的时候，用户需要知道所要加载的变量名或函数名，否则无法加载。但是，用户肯定希望快速上手，未必愿意阅读文档，去了解模块有哪些属性和方法。</p><p>为了给用户提供方便，让他们不用阅读文档就能加载模块，就要用到<code>export default</code>命令，为模块指定默认输出。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// export-default.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码是一个模块文件<code>export-default.js</code>，它的默认输出是一个函数。</p><p>其他模块加载该模块时，<code>import</code>命令可以为该匿名函数指定任意名字。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import-default.js</span></span><br><span class="line"><span class="keyword">import</span> customName <span class="keyword">from</span> <span class="string">'./export-default'</span>;</span><br><span class="line">customName(); <span class="comment">// 'foo'</span></span><br></pre></td></tr></table></figure><p>ES6中Module还有很多语法，这里主要讲解es6前js的模块化概念，所以不多概述使用，详细使用参考下面链接。</p><p>详细学习使用请参考链接：<a href="https://es6.ruanyifeng.com/#docs/module" target="_blank" rel="noopener">https://es6.ruanyifeng.com/#docs/module</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;历史上，JavaScript一直都没有模块（module）体系，这就导致了在大项目中无法拆分成互相依赖的小文件，再进行拼装。这对开发复杂的项目形成了巨大的障碍。&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="http://hackycy.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://hackycy.github.io/tags/JavaScript/"/>
    
      <category term="CommonJS" scheme="http://hackycy.github.io/tags/CommonJS/"/>
    
      <category term="AMD" scheme="http://hackycy.github.io/tags/AMD/"/>
    
      <category term="CMD" scheme="http://hackycy.github.io/tags/CMD/"/>
    
  </entry>
  
  <entry>
    <title>PHP常用函数参考表</title>
    <link href="http://hackycy.github.io/2019/05/05/PHP%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83%E8%A1%A8/"/>
    <id>http://hackycy.github.io/2019/05/05/PHP常用函数参考表/</id>
    <published>2019-05-05T14:26:40.000Z</published>
    <updated>2019-05-05T15:28:36.958Z</updated>
    
    <content type="html"><![CDATA[<p>各种常用的php函数，包括php字符串函数,php数组函数,php数学函数,mysql函数,文件目录函数,GD库函数,SESSION函数,Date/Time 函数等，涵盖了php基本操作所涉及的各类常用函数，并针对各个函数提供了简单的解释说明，方便查阅</p><a id="more"></a><h1 id="字符串相关操作函数"><a href="#字符串相关操作函数" class="headerlink" title="字符串相关操作函数"></a>字符串相关操作函数</h1><h2 id="去除空格或其他字符"><a href="#去除空格或其他字符" class="headerlink" title="去除空格或其他字符"></a>去除空格或其他字符</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>trim</td><td>删除字符串两端空格或其他预定义字符</td></tr><tr><td>rtrim</td><td>删除字符串右边空格或其他预定义字符</td></tr><tr><td>chop</td><td>rtrim() 的别名 chop() 与 Perl 的 chop() 函数有所不同，它会删除字符串的最后一个字符。</td></tr><tr><td>ltrim</td><td>删除字符串左边空格或其他预定义字符</td></tr></tbody></table><h2 id="字符串生成与转换"><a href="#字符串生成与转换" class="headerlink" title="字符串生成与转换"></a>字符串生成与转换</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>str_pad</td><td>使用另一个字符串填充字符串为指定长度</td></tr><tr><td>str_replace</td><td>子字符串替换</td></tr><tr><td>str_split</td><td>将字符串转换为数组</td></tr><tr><td>strrev</td><td>反转字符串</td></tr><tr><td>wordwrap</td><td>打断字符串为指定数量的字串</td></tr><tr><td>str_shuffle</td><td>随机打乱一个字符串</td></tr><tr><td>parse_str</td><td>将字符串解析成变量</td></tr><tr><td>number_format</td><td>通过千位分组来格式化字符串</td></tr></tbody></table><h2 id="字符串大小写转换"><a href="#字符串大小写转换" class="headerlink" title="字符串大小写转换"></a>字符串大小写转换</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>strtolower</td><td>将字符串转化为小写</td></tr><tr><td>strtoupper</td><td>将字符串转化为大写</td></tr><tr><td>ucfirst</td><td>将字符串的首字母转换为大写</td></tr><tr><td>ucwords</td><td>将字符串中每个单词的首字母转换为大写</td></tr></tbody></table><h2 id="html标签关联"><a href="#html标签关联" class="headerlink" title="html标签关联"></a>html标签关联</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>htmlentities</td><td>将字符转换为HTML实体</td></tr><tr><td>htmlspecialchars</td><td>预定义字符串转HTML编码</td></tr><tr><td>nl2br</td><td>在字符串所有新行之前插入 HTML 换行标记 <code>\n</code>转换为<code>&lt;br&gt;</code>标签</td></tr><tr><td>strip_tags</td><td>从字符串中去除 HTML 和 PHP 标记</td></tr><tr><td>addcslashes</td><td>以 C 语言风格使用反斜线转义字符串中的字符</td></tr><tr><td>stripcslashes</td><td>反引用一个使用 addcslashes() 转义的字符串</td></tr><tr><td>addslashes</td><td>使用反斜线引用字符串</td></tr><tr><td>stripslashes</td><td>删除由addslashes添加的转义字符</td></tr><tr><td>quotemeta</td><td>字符串中某些预定义字符串前加反斜杠</td></tr><tr><td>chr</td><td>从指定的 ASCII 值返回字符</td></tr><tr><td>ord</td><td>返回字符串第一个字符的 ASCII 值</td></tr></tbody></table><h2 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>strcasecmp</td><td>不区分大小写比较两个字符串</td></tr><tr><td>strcmp</td><td>区分大小写比较两个字符串</td></tr><tr><td>strncmp</td><td>比较字符串前N个字符，区分大小写</td></tr><tr><td>strncasecmp</td><td>比较字符串前N个字符，不区分大小写</td></tr><tr><td>strnatmp</td><td>自然顺序法比较字符串长度，区分大小写</td></tr><tr><td>strnatcasecmp</td><td>自然顺序法比较字符串长度，不区分大小写</td></tr></tbody></table><h2 id="字符串查找替换"><a href="#字符串查找替换" class="headerlink" title="字符串查找替换"></a>字符串查找替换</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>str_replace</td><td>字符串替换操作，区分大小写</td></tr><tr><td>str_ireplace</td><td>字符串替换操作，不区分大小写</td></tr><tr><td>substr_count</td><td>统计一个字符串，在另一个字符串中出现的次数</td></tr><tr><td>substr_replace</td><td>替换字符串中某串为另一个字符串</td></tr><tr><td>similar_text</td><td>返回两字符串相同字符的数量</td></tr><tr><td>strrchr</td><td>返回一个字符串在另一个字符串中最后一次出现位置开始到末尾的字符串</td></tr><tr><td>strstr</td><td>返回一个字符串在另一个字符串中开始位置到结束位置的字符串</td></tr><tr><td>strchr</td><td>strstr的别名，返回一个字符串在另一个中首次出现位置开始到末尾的字符串</td></tr><tr><td>stristr</td><td>返回一个字符串在另一个字符串中开始位置到结束位置的字符串，不区分大小写</td></tr><tr><td>strtr</td><td>转换字符串中某些字符</td></tr><tr><td>strpos</td><td>寻找字符中某些字符最先出现的位置</td></tr><tr><td>stripos</td><td>寻找字符中某些字符最先出现的位置，不区分大小写</td></tr><tr><td>strrpos</td><td>寻找字符中某些字符最后出现的位置</td></tr><tr><td>strripos</td><td>寻找字符中某些字符最后出现的位置，不区分大小写</td></tr><tr><td>strspn</td><td>返回字符串中首次符合mask的字符串长度</td></tr><tr><td>strcspn</td><td>返回字符串中不符合mask的字符串的长度</td></tr></tbody></table><h2 id="字符串统计"><a href="#字符串统计" class="headerlink" title="字符串统计"></a>字符串统计</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>str_word_count</td><td>统计字符串含有的单词数</td></tr><tr><td>strlen</td><td>统计字符串长度</td></tr><tr><td>count_chars</td><td>统计字符串中所有字母出现的次数（0..255）</td></tr></tbody></table><h2 id="字符串编码"><a href="#字符串编码" class="headerlink" title="字符串编码"></a>字符串编码</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>md5</td><td>计算字符串的 MD5 散列值</td></tr><tr><td>hash</td><td>生成一个哈希码</td></tr></tbody></table><h1 id="数组相关函数"><a href="#数组相关函数" class="headerlink" title="数组相关函数"></a>数组相关函数</h1><h2 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>array</td><td>生成一个数组</td></tr><tr><td>array_combine</td><td>生成一个数组，用一个数组的值作为键名，另一个数组的值作为值</td></tr><tr><td>range</td><td>创建并返回一个包含指定范围的元素的数组</td></tr><tr><td>compact</td><td>创建一个由参数所带变量组成的数组</td></tr><tr><td>array_fill</td><td>用给定的值填充生成数组</td></tr></tbody></table><h2 id="数组合并和拆分"><a href="#数组合并和拆分" class="headerlink" title="数组合并和拆分"></a>数组合并和拆分</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>array_chunk</td><td>把一个数组分割为新的数组块</td></tr><tr><td>array_merge</td><td>把两个或多个数组合并成一个数组</td></tr><tr><td>array_slice</td><td>在数组中根据条件取出一段值，并返回。</td></tr></tbody></table><h2 id="数组比较"><a href="#数组比较" class="headerlink" title="数组比较"></a>数组比较</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>array_diff</td><td>返回两个数组的差集数组</td></tr><tr><td>array_intersect</td><td>返回两个或多个数组的交集数组</td></tr></tbody></table><h2 id="数组查找替换"><a href="#数组查找替换" class="headerlink" title="数组查找替换"></a>数组查找替换</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>array_search</td><td>在数组中查找一个键值</td></tr><tr><td>array_splice</td><td>把数组一部分删除把其他值替代</td></tr><tr><td>array_sum</td><td>返回数组中所有值的总和</td></tr><tr><td>in_array</td><td>在数组中搜索指定的值，区分大小写</td></tr><tr><td>array_key_exists</td><td>判断某个数组中是否存在指定的key</td></tr></tbody></table><h2 id="数组指针操作"><a href="#数组指针操作" class="headerlink" title="数组指针操作"></a>数组指针操作</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>key</td><td>返回数组内部指针当前指向的键名</td></tr><tr><td>current</td><td>返回数组中的当前元素</td></tr><tr><td>next</td><td>把指向当前元素的指针移动到下一个元素位置，并返回当前元素的值</td></tr><tr><td>prev</td><td>把指向当前元素的指针移动到上一个元素位置，并返回当前元素的值</td></tr><tr><td>end</td><td>将数组内部指针指向最后一个元素，并返回该元素的值（如果成功）</td></tr><tr><td>reset</td><td>把数组内部指针指向第一个元素，并返回该元素的值</td></tr><tr><td>list</td><td>用数组中的元素为一组变量赋值</td></tr><tr><td>array_shift</td><td>删除数组中的第一个元素，并返回被删除元素的值</td></tr><tr><td>array_unshif</td><td>在数组开头插入一个或者多个元素</td></tr><tr><td>array_push</td><td>向数组最后压入一个或多个元素</td></tr><tr><td>array_pop</td><td>删除数组最后一个元素</td></tr></tbody></table><h2 id="数组键值操作"><a href="#数组键值操作" class="headerlink" title="数组键值操作"></a>数组键值操作</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>shuffle</td><td>将数组打乱，保留键名</td></tr><tr><td>count</td><td>计算数组中单元个数或者对象属性个数</td></tr><tr><td>array_flip</td><td>返回一个键值翻转后的数组</td></tr><tr><td>array_keys</td><td>返回数组所有键，组成一个数组</td></tr><tr><td>array_values</td><td>返回数组所有值，组成一个数组</td></tr><tr><td>array_reverse</td><td>返回一个元素顺序相反的数组</td></tr><tr><td>array_count_values</td><td>统计数组中所有值出现的次数</td></tr><tr><td>array_rand</td><td>从数组中随机抽取一个或者多个元素，注意是键名</td></tr><tr><td>each</td><td>返回数组中当前的键／值对并将数组指针向前移动一步</td></tr><tr><td>array_unique</td><td>移除数组中重复的值</td></tr></tbody></table><h2 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h2><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>sort</td><td>对数组排序</td></tr><tr><td>rsort</td><td>对数组逆向排序</td></tr><tr><td>asort</td><td>对数组进行排序并保持索引关系</td></tr><tr><td>arsort</td><td>对数组进行逆向排序并保持索引关系</td></tr><tr><td>ksort</td><td>对数组按照键名排序</td></tr><tr><td>krsort</td><td>对数组按照键名逆向排序</td></tr><tr><td>natsort</td><td>用“自然排序”算法对数组排序</td></tr><tr><td>natcasesort</td><td>用“自然排序”算法对数组进行不区分大小写字母的排序</td></tr></tbody></table><h1 id="数学相关函数"><a href="#数学相关函数" class="headerlink" title="数学相关函数"></a>数学相关函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>abs</td><td>求绝对值</td></tr><tr><td>ceil</td><td>进一法取整</td></tr><tr><td>floor</td><td>舍去法取整</td></tr><tr><td>fmod</td><td>返回除法的浮点数余数</td></tr><tr><td>pow</td><td>返回数的N次方</td></tr><tr><td>round</td><td>浮点数四舍五入法</td></tr><tr><td>sqrt</td><td>求平方根</td></tr><tr><td>max</td><td>求最大值</td></tr><tr><td>min</td><td>求最小值</td></tr><tr><td>mt_rand</td><td>更好的随机数</td></tr><tr><td>rand</td><td>随机数</td></tr><tr><td>pi</td><td>获得圆周率</td></tr><tr><td>octdec</td><td>八进制转换为十进制</td></tr></tbody></table><h1 id="mysql相关函数"><a href="#mysql相关函数" class="headerlink" title="mysql相关函数"></a>mysql相关函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>mysql_affected_rows</td><td>取得前一次 MySQL 操作所影响的记录行数</td></tr><tr><td>mysql_client_encoding</td><td>返回字符集的名称</td></tr><tr><td>mysql_close</td><td>关闭 MySQL 连接</td></tr><tr><td>mysql_connect</td><td>打开一个到 MySQL 服务器的连接</td></tr><tr><td>mysql_create_db</td><td>新建一个 MySQL 数据库</td></tr><tr><td>mysql_data_seek</td><td>移动内部结果的指针</td></tr><tr><td>mysql_db_name</td><td>取得结果数据</td></tr><tr><td>mysql_db_query</td><td>发送一条 MySQL 查询</td></tr><tr><td>mysql_drop_db</td><td>丢弃（删除）一个 MySQL 数据库</td></tr><tr><td>mysql_errno</td><td>返回上一个 MySQL 操作中的错误信息的数字编码</td></tr><tr><td>mysql_error</td><td>返回上一个 MySQL 操作产生的文本错误信息</td></tr><tr><td>mysql_escape_string</td><td>转义一个字符串用于 mysql_query</td></tr><tr><td>mysql_fetch_array</td><td>从结果集中取得一行作为关联数组，或数字数组，或二者兼有</td></tr><tr><td>mysql_fetch_assoc</td><td>从结果集中取得一行作为关联数组</td></tr><tr><td>mysql_fetch_field</td><td>从结果集中取得列信息并作为对象返回</td></tr><tr><td>mysql_fetch_lengths</td><td>取得结果集中每个输出的长度</td></tr><tr><td>mysql_fetch_object</td><td>从结果集中取得一行作为对象</td></tr><tr><td>mysql_fetch_object</td><td>从结果集中取得一行作为枚举数组</td></tr><tr><td>mysql_field_flags</td><td>从结果中取得和指定字段关联的标志</td></tr><tr><td>mysql_field_len</td><td>返回指定字段的长度</td></tr><tr><td>mysql_field_name</td><td>取得结果中指定字段的字段名</td></tr><tr><td>mysql_field_seek</td><td>将结果集中的指针设定为制定的字段偏移量</td></tr><tr><td>mysql_field_table</td><td>取得指定字段所在的表名</td></tr><tr><td>mysql_field_type</td><td>取得结果集中指定字段的类型</td></tr><tr><td>mysql_free_result</td><td>释放结果内存</td></tr><tr><td>mysql_get_client_info</td><td>取得 MySQL 客户端信息</td></tr><tr><td>mysql_get_host_info</td><td>取得 MySQL 主机信息</td></tr><tr><td>mysql_get_proto_info</td><td>取得 MySQL 协议信息</td></tr><tr><td>mysql_get_server_info</td><td>取得 MySQL 服务器信息</td></tr><tr><td>mysql_info</td><td>取得最近一条查询的信息</td></tr><tr><td>mysql_insert_id</td><td>取得上一步 INSERT 操作产生的 ID</td></tr><tr><td>mysql_list_dbs</td><td>列出 MySQL 服务器中所有的数据库</td></tr><tr><td>mysql_list_fields</td><td>列出 MySQL 结果中的字段</td></tr><tr><td>mysql_list_processes</td><td>列出 MySQL 进程</td></tr><tr><td>mysql_list_tables</td><td>列出 MySQL 数据库中的表</td></tr><tr><td>mysql_num_fields</td><td>取得结果集中字段的数目</td></tr><tr><td>mysql_num_rows</td><td>取得结果集中行的数目</td></tr><tr><td>mysql_pconnect</td><td>打开一个到 MySQL 服务器的持久连接</td></tr><tr><td>mysql_ping</td><td>Ping 一个服务器连接，如果没有连接则重新连接</td></tr><tr><td>mysql_query</td><td>发送一条 MySQL 查询</td></tr><tr><td>mysql_real_escape_string</td><td>转义 SQL 语句中使用的字符串中的特殊字符，并考虑到连接的当前字符集</td></tr><tr><td>mysql_result</td><td>取得结果数据</td></tr><tr><td>mysql_select_db</td><td>选择 MySQL 数据库</td></tr><tr><td>mysql_set_charset</td><td>设置客户端字符集</td></tr><tr><td>mysql_stat</td><td>取得当前系统状态</td></tr><tr><td>mysql_tablename</td><td>取得表名</td></tr><tr><td>mysql_thread_id</td><td>返回当前线程的 ID</td></tr><tr><td>mysql_unbuffered_query</td><td>向 MySQL 发送一条 SQL 查询，并不获取和缓存结果的行</td></tr></tbody></table><h1 id="文件目录处理相关函数"><a href="#文件目录处理相关函数" class="headerlink" title="文件目录处理相关函数"></a>文件目录处理相关函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>basename</td><td>返回路径中的文件名部分</td></tr><tr><td>chgrp</td><td>改变文件所属的组</td></tr><tr><td>chmod</td><td>改变文件模式</td></tr><tr><td>chown</td><td>改变文件的所有者</td></tr><tr><td>clearstatcache</td><td>清除文件状态缓存</td></tr><tr><td>copy</td><td>拷贝文件</td></tr><tr><td>delete</td><td>参见 unlink 或 unset</td></tr><tr><td>dirname</td><td>返回路径中的目录部分</td></tr><tr><td>disk_free_space</td><td>返回目录中的可用空间</td></tr><tr><td>disk_total_space</td><td>返回一个目录的磁盘总大小</td></tr><tr><td>diskfreespace</td><td>disk_free_space 的别名</td></tr><tr><td>fclose</td><td>关闭一个已打开的文件指针</td></tr><tr><td>feof</td><td>测试文件指针是否到了文件结束的位置</td></tr><tr><td>fflush</td><td>将缓冲内容输出到文件</td></tr><tr><td>fgetc</td><td>从文件指针中读取字符</td></tr><tr><td>fgetcsv</td><td>从文件指针中读入一行并解析 CSV 字段</td></tr><tr><td>fgets</td><td>从文件指针中读取一行</td></tr><tr><td>fgetss</td><td>从文件指针中读取一行并过滤掉 HTML 标记</td></tr><tr><td>file_exists</td><td>检查文件或目录是否存在</td></tr><tr><td>file_get_contents</td><td>将整个文件读入一个字符串</td></tr><tr><td>file_put_contents</td><td>将一个字符串写入文件</td></tr><tr><td>file</td><td>把整个文件读入一个数组中</td></tr><tr><td>fileatime</td><td>取得文件的上次访问时间</td></tr><tr><td>filectime</td><td>取得文件的 inode 修改时间</td></tr><tr><td>filegroup</td><td>取得文件的组</td></tr><tr><td>fileinode</td><td>取得文件的 inode</td></tr><tr><td>filemtime</td><td>取得文件修改时间</td></tr><tr><td>fileowner</td><td>取得文件的所有者</td></tr><tr><td>fileperms</td><td>取得文件的权限</td></tr><tr><td>filesize</td><td>取得文件大小</td></tr><tr><td>filetype</td><td>取得文件类型</td></tr><tr><td>flock</td><td>轻便的咨询文件锁定</td></tr><tr><td>fnmatch</td><td>用模式匹配文件名</td></tr><tr><td>fopen</td><td>打开文件或者 URL</td></tr><tr><td>fpassthru</td><td>输出文件指针处的所有剩余数据</td></tr><tr><td>fputcsv</td><td>将行格式化为 CSV 并写入文件指针</td></tr><tr><td>fputs</td><td>fwrite 的别名</td></tr><tr><td>fread</td><td>读取文件（可安全用于二进制文件)</td></tr><tr><td>fscanf</td><td>从文件中格式化输入</td></tr><tr><td>fseek</td><td>在文件指针中定位</td></tr><tr><td>fstat</td><td>通过已打开的文件指针取得文件信息</td></tr><tr><td>ftell</td><td>返回文件指针读/写的位置</td></tr><tr><td>ftruncate</td><td>将文件截断到给定的长度</td></tr><tr><td>fwrite</td><td>写入文件（可安全用于二进制文件）</td></tr><tr><td>glob</td><td>寻找与模式匹配的文件路径</td></tr><tr><td>is_dir</td><td>判断给定文件名是否是一个目录</td></tr><tr><td>is_executable</td><td>判断给定文件名是否可执行</td></tr><tr><td>is_file</td><td>判断给定文件名是否为一个正常的文件</td></tr><tr><td>is_link</td><td>判断给定文件名是否为一个符号连接</td></tr><tr><td>is_readable</td><td>判断给定文件名是否可读</td></tr><tr><td>is_uploaded_file</td><td>判断文件是否是通过 HTTP POST 上传的</td></tr><tr><td>is_writable</td><td>判断给定的文件名是否可写</td></tr><tr><td>is_writeable</td><td>is_writable 的别名</td></tr><tr><td>lchgrp</td><td>Changes group ownership of symlink</td></tr><tr><td>lchown</td><td>Changes user ownership of symlink</td></tr><tr><td>link</td><td>建立一个硬连接</td></tr><tr><td>linkinfo</td><td>获取一个连接的信息</td></tr><tr><td>lstat</td><td>给出一个文件或符号连接的信息</td></tr><tr><td>mkdir</td><td>新建目录</td></tr><tr><td>move_uploaded_file</td><td>将上传的文件移动到新位置</td></tr><tr><td>parse_ini_file</td><td>解析一个配置文件</td></tr><tr><td>parse_ini_string</td><td>Parse a configuration string</td></tr><tr><td>pathinfo</td><td>返回文件路径的信息</td></tr><tr><td>pclose</td><td>关闭进程文件指针</td></tr><tr><td>popen</td><td>打开进程文件指针</td></tr><tr><td>readfile</td><td>输出一个文件</td></tr><tr><td>readlink</td><td>返回符号连接指向的目标</td></tr><tr><td>realpath_cache_get</td><td>Get realpath cache entries</td></tr><tr><td>realpath_cache_size</td><td>Get realpath cache size</td></tr><tr><td>realpath</td><td>返回规范化的绝对路径名</td></tr><tr><td>rename</td><td>重命名一个文件或目录</td></tr><tr><td>rewind</td><td>倒回文件指针的位置</td></tr><tr><td>rmdir</td><td>删除目录</td></tr><tr><td>set_file_buffer</td><td>stream_set_write_buffer 的别名</td></tr><tr><td>stat</td><td>给出文件的信息</td></tr><tr><td>symlink</td><td>建立符号连接</td></tr><tr><td>tempnam</td><td>建立一个具有唯一文件名的文件</td></tr><tr><td>tmpfile</td><td>建立一个临时文件</td></tr><tr><td>touch</td><td>设定文件的访问和修改时间</td></tr><tr><td>umask</td><td>改变当前的 umask</td></tr><tr><td>unlink</td><td>删除文件</td></tr></tbody></table><h1 id="GD-Image函数"><a href="#GD-Image函数" class="headerlink" title="GD/Image函数"></a>GD/Image函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>gd_info</td><td>取得当前安装的 GD 库的信息</td></tr><tr><td>getimagesize</td><td>取得图像大小</td></tr><tr><td>getimagesizefromstring</td><td>Get the size of an image from a string</td></tr><tr><td>image_type_to_extension</td><td>取得图像类型的文件后缀</td></tr><tr><td>image_type_to_mime_type</td><td>取得 getimagesize，exif_read_data，exif_thumbnail，exif_imagetype 所返回的图像类型的 MIME 类型</td></tr><tr><td>image2wbmp</td><td>以 WBMP 格式将图像输出到浏览器或文件</td></tr><tr><td>imagealphablending</td><td>设定图像的混色模式</td></tr><tr><td>imageantialias</td><td>是否使用抗锯齿（antialias）功能</td></tr><tr><td>imagearc</td><td>画椭圆弧</td></tr><tr><td>imagechar</td><td>水平地画一个字符</td></tr><tr><td>imagecharup</td><td>垂直地画一个字符</td></tr><tr><td>imagecolorallocate</td><td>为一幅图像分配颜色</td></tr><tr><td>imagecolorallocatealpha</td><td>为一幅图像分配颜色 + alpha</td></tr><tr><td>imagecolorat</td><td>取得某像素的颜色索引值</td></tr><tr><td>imagecolorclosest</td><td>取得与指定的颜色最接近的颜色的索引值</td></tr><tr><td>imagecolorclosestalpha</td><td>取得与指定的颜色加透明度最接近的颜色</td></tr><tr><td>imagecolorclosesthwb</td><td>取得与给定颜色最接近的色度的黑白色的索引</td></tr><tr><td>imagecolordeallocate</td><td>取消图像颜色的分配</td></tr><tr><td>imagecolorexact</td><td>取得指定颜色的索引值</td></tr><tr><td>imagecolorexactalpha</td><td>取得指定的颜色加透明度的索引值</td></tr><tr><td>imagecolormatch</td><td>使一个图像中调色板版本的颜色与真彩色版本更能匹配</td></tr><tr><td>imagecolorresolve</td><td>取得指定颜色的索引值或有可能得到的最接近的替代值</td></tr><tr><td>imagecolorresolvealpha</td><td>取得指定颜色 + alpha 的索引值或有可能得到的最接近的替代值</td></tr><tr><td>imagecolorset</td><td>给指定调色板索引设定颜色</td></tr><tr><td>imagecolorsforindex</td><td>取得某索引的颜色</td></tr><tr><td>imagecolorstotal</td><td>取得一幅图像的调色板中颜色的数目</td></tr><tr><td>imagecolortransparent</td><td>将某个颜色定义为透明色</td></tr><tr><td>imageconvolution</td><td>用系数 div 和 offset 申请一个 3x3 的卷积矩阵</td></tr><tr><td>imagecopy</td><td>拷贝图像的一部分</td></tr><tr><td>imagecopymerge</td><td>拷贝并合并图像的一部分</td></tr><tr><td>imagecopymergegray</td><td>用灰度拷贝并合并图像的一部分</td></tr><tr><td>imagecopyresampled</td><td>重采样拷贝部分图像并调整大小</td></tr><tr><td>imagecopyresized</td><td>拷贝部分图像并调整大小</td></tr><tr><td>imagecreate</td><td>新建一个基于调色板的图像</td></tr><tr><td>imagecreatefromgd2</td><td>从 GD2 文件或 URL 新建一图像</td></tr><tr><td>imagecreatefromgd2part</td><td>从给定的 GD2 文件或 URL 中的部分新建一图像</td></tr><tr><td>imagecreatefromgd</td><td>从 GD 文件或 URL 新建一图像</td></tr><tr><td>imagecreatefromgif</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatefromjpeg</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatefrompng</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatefromstring</td><td>从字符串中的图像流新建一图像</td></tr><tr><td>imagecreatefromwbmp</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatefromxbm</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatefromxpm</td><td>由文件或URL创建一个新图象</td></tr><tr><td>imagecreatetruecolor</td><td>新建一个真彩色图像</td></tr><tr><td>imagedashedline</td><td>画一虚线</td></tr><tr><td>imagedestroy</td><td>销毁一图像</td></tr><tr><td>imageellipse</td><td>画一个椭圆</td></tr><tr><td>imagefill</td><td>区域填充</td></tr><tr><td>imagefilledarc</td><td>画一椭圆弧且填充</td></tr><tr><td>imagefilledellipse</td><td>画一椭圆并填充</td></tr><tr><td>imagefilledpolygon</td><td>画一多边形并填充</td></tr><tr><td>imagefilledrectangle</td><td>画一矩形并填充</td></tr><tr><td>imagefilltoborder</td><td>区域填充到指定颜色的边界为止</td></tr><tr><td>imagefilter</td><td>对图像使用过滤器</td></tr><tr><td>imagefontheight</td><td>取得字体高度</td></tr><tr><td>imagefontwidth</td><td>取得字体宽度</td></tr><tr><td>imageftbbox</td><td>给出一个使用 FreeType 2 字体的文本框</td></tr><tr><td>imagefttext</td><td>使用 FreeType 2 字体将文本写入图像</td></tr><tr><td>imagegammacorrect</td><td>对 GD 图像应用 gamma 修正</td></tr><tr><td>imagegd2</td><td>将 GD2 图像输出到浏览器或文件</td></tr><tr><td>imagegd</td><td>将 GD 图像输出到浏览器或文件</td></tr><tr><td>imagegif</td><td>输出图象到浏览器或文件</td></tr><tr><td>imagegrabscreen</td><td>Captures the whole screen</td></tr><tr><td>imagegrabwindow</td><td>Captures a window</td></tr><tr><td>imageinterlace</td><td>激活或禁止隔行扫描</td></tr><tr><td>imageistruecolor</td><td>检查图像是否为真彩色图像</td></tr><tr><td>imagejpeg</td><td>输出图象到浏览器或文件</td></tr><tr><td>imagelayereffect</td><td>设定 alpha 混色标志以使用绑定的 libgd 分层效果</td></tr><tr><td>imageline</td><td>画一条线段</td></tr><tr><td>imageloadfont</td><td>载入一新字体</td></tr><tr><td>imagepalettecopy</td><td>将调色板从一幅图像拷贝到另一幅</td></tr><tr><td>imagepng</td><td>以 PNG 格式将图像输出到浏览器或文件</td></tr><tr><td>imagepolygon</td><td>画一个多边形</td></tr><tr><td>imagepsbbox</td><td>给出一个使用 PostScript Type1 字体的文本方框</td></tr><tr><td>imagepsencodefont</td><td>改变字体中的字符编码矢量</td></tr><tr><td>imagepsextendfont</td><td>扩充或精简字体</td></tr><tr><td>imagepsfreefont</td><td>释放一个 PostScript Type 1 字体所占用的内存</td></tr><tr><td>imagepsloadfont</td><td>从文件中加载一个 PostScript Type 1 字体</td></tr><tr><td>imagepsslantfont</td><td>倾斜某字体</td></tr><tr><td>imagepstext</td><td>用 PostScript Type1 字体把文本字符串画在图像上</td></tr><tr><td>imagerectangle</td><td>画一个矩形</td></tr><tr><td>imagerotate</td><td>用给定角度旋转图像</td></tr><tr><td>imagesavealpha</td><td>设置标记以在保存 PNG 图像时保存完整的 alpha 通道信息（与单一透明色相反）</td></tr><tr><td>imagesetbrush</td><td>设定画线用的画笔图像</td></tr><tr><td>imagesetpixel</td><td>画一个单一像素</td></tr><tr><td>imagesetstyle</td><td>设定画线的风格</td></tr><tr><td>imagesetthickness</td><td>设定画线的宽度</td></tr><tr><td>imagesettile</td><td>设定用于填充的贴图</td></tr><tr><td>imagestring</td><td>水平地画一行字符串</td></tr><tr><td>imagestringup</td><td>垂直地画一行字符串</td></tr><tr><td>imagesx</td><td>取得图像宽度</td></tr><tr><td>imagesy</td><td>取得图像高度</td></tr><tr><td>imagetruecolortopalette</td><td>将真彩色图像转换为调色板图像</td></tr><tr><td>imagettfbbox</td><td>取得使用 TrueType 字体的文本的范围</td></tr><tr><td>imagettftext</td><td>用 TrueType 字体向图像写入文本</td></tr><tr><td>imagetypes</td><td>返回当前 PHP 版本所支持的图像类型</td></tr><tr><td>imagewbmp</td><td>以 WBMP 格式将图像输出到浏览器或文件</td></tr><tr><td>imagexbm</td><td>将 XBM 图像输出到浏览器或文件</td></tr><tr><td>iptcembed</td><td>将二进制 IPTC 数据嵌入到一幅 JPEG 图像中</td></tr><tr><td>iptcparse</td><td>将二进制 IPTC <a href="http://www.iptc.org/" target="_blank" rel="noopener">http://www.iptc.org/</a> 块解析为单个标记</td></tr><tr><td>jpeg2wbmp</td><td>将 JPEG 图像文件转换为 WBMP 图像文件</td></tr><tr><td>png2wbmp</td><td>将 PNG 图像文件转换为 WBMP 图像文件</td></tr></tbody></table><h1 id="session函数"><a href="#session函数" class="headerlink" title="session函数"></a>session函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>session_cache_expire</td><td>返回当前缓存到期</td></tr><tr><td>session_cache_limiter</td><td>get和set the current缓存限制/金</td></tr><tr><td>session_commit</td><td>session_write_close 的别名</td></tr><tr><td>session_decode</td><td>将会话数据从一个会话编码的字符串</td></tr><tr><td>session_destroy</td><td>销毁已注册到会话的所有数据</td></tr><tr><td>session_encode</td><td>将当前会话数据编码为一个字符串</td></tr><tr><td>session_get_cookie_params</td><td>获得会话饼干参数</td></tr><tr><td>session_id</td><td>获得和/或设置当前会话标识</td></tr><tr><td>session_is_registered</td><td>检查变量是否在会话中已经注册</td></tr><tr><td>session_module_name</td><td>获得和/或设置当前会话模块</td></tr><tr><td>session_name</td><td>获得和/或设置当前会话名称</td></tr><tr><td>session_regenerate_id</td><td>更新新生成的会话标识</td></tr><tr><td>session_register_shutdown</td><td>会话关机功能</td></tr><tr><td>session_register</td><td>注册一个或多个全局变量与当前会话</td></tr><tr><td>session_save_path</td><td>获取和/或设置当前会话保存路径</td></tr><tr><td>session_set_cookie_params</td><td>设置会话饼干参数</td></tr><tr><td>session_set_save_handler</td><td>设置用户级会话存储功能</td></tr><tr><td>session_start</td><td>开始新的或恢复现有的会话</td></tr><tr><td>session_status</td><td>返回当前会话状态</td></tr><tr><td>session_unregister</td><td>注销当前会话的一个全局变量</td></tr><tr><td>session_unset</td><td>自由所有会话变量</td></tr><tr><td>session_write_close</td><td>写会话数据和结束会话</td></tr></tbody></table><h1 id="cookie函数"><a href="#cookie函数" class="headerlink" title="cookie函数"></a>cookie函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>setcookie</td><td>设置cookie</td></tr><tr><td>setrawcookie</td><td>发送没有URL编码的cookie</td></tr></tbody></table><h1 id="Date-Time-函数"><a href="#Date-Time-函数" class="headerlink" title="Date/Time 函数"></a>Date/Time 函数</h1><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>checkdate</td><td>验证一个格里高里日期</td></tr><tr><td>date_add</td><td>别名 DateTime::add</td></tr><tr><td>date_create_from_format</td><td>别名 DateTime::createFromFormat</td></tr><tr><td>date_create</td><td>别名 DateTime::__construct</td></tr><tr><td>date_date_set</td><td>别名 DateTime::setDate</td></tr><tr><td>date_default_timezone_get</td><td>取得一个脚本中所有日期时间函数所使用的默认时区</td></tr><tr><td>date_default_timezone_set</td><td>设定用于一个脚本中所有日期时间函数的默认时区</td></tr><tr><td>date_diff</td><td>别名 DateTime::diff</td></tr><tr><td>date_format</td><td>别名 DateTime::format</td></tr><tr><td>date_get_last_errors</td><td>别名 DateTime::getLastErrors</td></tr><tr><td>date_interval_create_from_date_string</td><td>别名 DateInterval::createFromDateString</td></tr><tr><td>date_interval_format</td><td>别名 DateInterval::format</td></tr><tr><td>date_isodate_set</td><td>别名 DateTime::setISODate</td></tr><tr><td>date_modify</td><td>别名 DateTime::modify</td></tr><tr><td>date_offset_get</td><td>别名 DateTime::getOffset</td></tr><tr><td>date_parse_from_format</td><td>Get info about given date formatted according to the specified format</td></tr><tr><td>date_parse</td><td>Returns associative array with detailed info about given date</td></tr><tr><td>date_sub</td><td>别名 DateTime::sub</td></tr><tr><td>date_sun_info</td><td>Returns an array with information about sunset/sunrise and twilight begin/end</td></tr><tr><td>date_sunrise</td><td>返回给定的日期与地点的日出时间</td></tr><tr><td>date_sunset</td><td>返回给定的日期与地点的日落时间</td></tr><tr><td>date_time_set</td><td>别名 DateTime::setTime</td></tr><tr><td>date_timestamp_get</td><td>别名 DateTime::getTimestamp</td></tr><tr><td>date_timestamp_set</td><td>别名 DateTime::setTimestamp</td></tr><tr><td>date_timezone_get</td><td>别名 DateTime::getTimezone</td></tr><tr><td>date_timezone_set</td><td>别名 DateTime::setTimezone</td></tr><tr><td>date</td><td>格式化一个本地时间／日期</td></tr><tr><td>getdate</td><td>取得日期／时间信息</td></tr><tr><td>gettimeofday</td><td>取得当前时间</td></tr><tr><td>gmdate</td><td>格式化一个 GMT/UTC 日期／时间</td></tr><tr><td>gmmktime</td><td>取得 GMT 日期的 UNIX 时间戳</td></tr><tr><td>gmstrftime</td><td>根据区域设置格式化 GMT/UTC 时间／日期</td></tr><tr><td>idate</td><td>将本地时间日期格式化为整数</td></tr><tr><td>localtime</td><td>取得本地时间</td></tr><tr><td>microtime</td><td>返回当前 Unix 时间戳和微秒数</td></tr><tr><td>mktime</td><td>取得一个日期的 Unix 时间戳</td></tr><tr><td>strftime</td><td>根据区域设置格式化本地时间／日期</td></tr><tr><td>strptime</td><td>解析由 strftime 生成的日期／时间</td></tr><tr><td>strtotime</td><td>将任何英文文本的日期时间描述解析为 Unix 时间戳</td></tr><tr><td>time</td><td>返回当前的 Unix 时间戳</td></tr><tr><td>timezone_abbreviations_list</td><td>别名 DateTimeZone::listAbbreviations</td></tr><tr><td>timezone_identifiers_list</td><td>别名 DateTimeZone::listIdentifiers</td></tr><tr><td>timezone_location_get</td><td>别名 DateTimeZone::getLocation</td></tr><tr><td>timezone_name_from_abbr</td><td>Returns the timezone name from abbreviation</td></tr><tr><td>timezone_name_get</td><td>别名 DateTimeZone::getName</td></tr><tr><td>timezone_offset_get</td><td>别名 DateTimeZone::getOffset</td></tr><tr><td>timezone_open</td><td>别名 DateTimeZone::__construct</td></tr><tr><td>timezone_transitions_get</td><td>别名 DateTimeZone::getTransitions</td></tr><tr><td>timezone_version_get</td><td>Gets the version of the timezonedb</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;各种常用的php函数，包括php字符串函数,php数组函数,php数学函数,mysql函数,文件目录函数,GD库函数,SESSION函数,Date/Time 函数等，涵盖了php基本操作所涉及的各类常用函数，并针对各个函数提供了简单的解释说明，方便查阅&lt;/p&gt;
    
    </summary>
    
      <category term="PHP" scheme="http://hackycy.github.io/categories/PHP/"/>
    
    
      <category term="PHP" scheme="http://hackycy.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>HTTP状态代码</title>
    <link href="http://hackycy.github.io/2019/05/05/HTTP%E7%8A%B6%E6%80%81%E4%BB%A3%E7%A0%81/"/>
    <id>http://hackycy.github.io/2019/05/05/HTTP状态代码/</id>
    <published>2019-05-05T09:06:34.000Z</published>
    <updated>2019-05-05T14:12:11.546Z</updated>
    
    <content type="html"><![CDATA[<p>HTTP 状态代码指示特定 HTTP 请求是否已成功完成。响应分为五类：信息响应，成功响应，重定向，客户端错误和服务器错误。</p><a id="more"></a><h1 id="常见的状态代码"><a href="#常见的状态代码" class="headerlink" title="常见的状态代码"></a>常见的状态代码</h1><ul><li>200 服务器成功返回内容</li><li>301/2 永久/临时重定向</li><li>304 未修改 Not Modified</li><li>307 重定向中保留原始数据</li><li>404 请求的页面不存在</li><li>500 服务器内部错误</li><li>503 服务器暂时不可用</li></ul><h1 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>1**</td><td>信息，服务器收到请求，需要请求者继续执行操作</td></tr><tr><td>2**</td><td>成功，操作被成功接收并处理</td></tr><tr><td>3**</td><td>重定向，需要进一步的操作以完成请求</td></tr><tr><td>4**</td><td>客户端错误，请求包含语法错误或无法完成请求</td></tr><tr><td>5**</td><td>服务器错误，服务器在处理请求的过程中发生了错误</td></tr></tbody></table><h1 id="信息响应"><a href="#信息响应" class="headerlink" title="信息响应"></a>信息响应</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>100 Continue</td><td>这个临时响应表明，迄今为止的所有内容都是可行的，客户端应该继续请求，如果已经完成，则忽略它。</td></tr><tr><td>101 Switching Protocol</td><td>该代码是响应客户端的 Upgrade 标头发送的，并且指示服务器也正在切换的协议。</td></tr><tr><td>102 Processing</td><td>此代码表示服务器已收到并正在处理该请求，但没有响应可用。</td></tr><tr><td>103 Early Hints</td><td>此状态代码主要用于与Link 链接头一起使用，以允许用户代理在服务器仍在准备响应时开始预加载资源</td></tr></tbody></table><h1 id="成功响应"><a href="#成功响应" class="headerlink" title="成功响应"></a>成功响应</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>200 OK</td><td>请求成功。成功的含义取决于HTTP方法：GET：资源已被提取并在消息正文中传输。HEAD：实体标头位于消息正文中。POST：描述动作结果的资源在消息体中传输。TRACE：消息正文包含服务器收到的请求消息</td></tr><tr><td>201 Created</td><td>该请求已成功，并因此创建了一个新的资源。这通常是在PUT请求之后发送的响应。</td></tr><tr><td>202 Accepted</td><td>请求已经接收到，但还未响应，没有结果。意味着不会有一个异步的响应去表明当前请求的结果，预期另外的进程和服务去处理请求，或者批处理。</td></tr><tr><td>203 Non-Authoritative Information</td><td>服务器已成功处理了请求，但返回的实体头部元信息不是在原始服务器上有效的确定集合，而是来自本地或者第三方的拷贝。当前的信息可能是原始版本的子集或者超集。例如，包含资源的元数据可能导致原始服务器知道元信息的超集。使用此状态码不是必须的，而且只有在响应不使用此状态码便会返回200 OK的情况下才是合适的。</td></tr><tr><td>204 No Content</td><td>服务器成功处理了请求，但不需要返回任何实体内容，并且希望返回更新了的元信息。响应可能通过实体头部的形式，返回新的或更新后的元信息。如果存在这些头部信息，则应当与所请求的变量相呼应。如果客户端是浏览器的话，那么用户浏览器应保留发送了该请求的页面，而不产生任何文档视图上的变化，即使按照规范新的或更新后的元信息应当被应用到用户浏览器活动视图中的文档。由于204响应被禁止包含任何消息体，因此它始终以消息头后的第一个空行结尾。</td></tr><tr><td>205 Reset Content</td><td>服务器成功处理了请求，且没有返回任何内容。但是与204响应不同，返回此状态码的响应要求请求者重置文档视图。该响应主要是被用于接受用户输入后，立即重置表单，以便用户能够轻松地开始另一次输入。与204响应一样，该响应也被禁止包含任何消息体，且以消息头后的第一个空行结束。</td></tr><tr><td>206 Partial Content</td><td>服务器已经成功处理了部分 GET 请求。类似于 FlashGet 或者迅雷这类的 HTTP 下载工具都是使用此类响应实现断点续传或者将一个大文档分解为多个下载段同时下载。该请求必须包含 Range 头信息来指示客户端希望得到的内容范围，并且可能包含 If-Range 来作为请求条件。</td></tr><tr><td>207 Multi-Status</td><td>由WebDAV(RFC 2518)扩展的状态码，代表之后的消息体将是一个XML消息，并且可能依照之前子请求数量的不同，包含一系列独立的响应代码。</td></tr><tr><td>208 Multi-Status</td><td>在 DAV 里面使用: propstat 响应元素以避免重复枚举多个绑定的内部成员到同一个集合。</td></tr><tr><td>226 IM Used</td><td>服务器已经完成了对资源的 GET 请求，并且响应是对当前实例应用的一个或多个实例操作结果的表示。</td></tr></tbody></table><h1 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>300 Multiple Choice</td><td>被请求的资源有一系列可供选择的回馈信息，每个都有自己特定的地址和浏览器驱动的商议信息。用户或浏览器能够自行选择一个首选的地址进行重定向。</td></tr><tr><td>301 Moved Permanently</td><td>被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。</td></tr><tr><td>302 Found</td><td>请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。</td></tr><tr><td>303 See Other</td><td>对应当前请求的响应可以在另一个 URI 上被找到，而且客户端应当采用 GET 的方式访问那个资源。这个方法的存在主要是为了允许由脚本激活的POST请求输出重定向到一个新的资源。</td></tr><tr><td>304 Not Modified</td><td>如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。304 响应禁止包含消息体，因此始终以消息头后的第一个空行结尾。</td></tr><tr><td><del>305 Use Proxy</del></td><td>被请求的资源必须通过指定的代理才能被访问。Location 域中将给出指定的代理所在的 URI 信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。只有原始服务器才能建立305响应。</td></tr><tr><td><del>306 unused</del></td><td>在最新版的规范中，306 状态码已经不再被使用。</td></tr><tr><td>307 Temporary Redirect</td><td>请求的资源现在临时从不同的URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。</td></tr><tr><td>308 Permanent Redirect</td><td>这意味着资源现在永久位于由 Location: HTTP Response 标头指定的另一个 URI。 这与 301 Moved Permanently HTTP 响应代码具有相同的语义，但用户代理不能更改所使用的 HTTP 方法：如果在第一个请求中使用 POST，则必须在第二个请求中使用 POST。</td></tr></tbody></table><h1 id="客户端响应"><a href="#客户端响应" class="headerlink" title="客户端响应"></a>客户端响应</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>400 Bad Request</td><td>1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。2、请求参数有误。</td></tr><tr><td>401 Unauthorized</td><td>当前请求需要用户验证。该响应必须包含一个适用于被请求资源的 WWW-Authenticate 信息头用以询问用户信息。客户端可以重复提交一个包含恰当的 Authorization 头信息的请求。如果当前请求已经包含了 Authorization 证书，那么401响应代表着服务器验证已经拒绝了那些证书。如果401响应包含了与前一个响应相同的身份验证询问，且浏览器已经至少尝试了一次验证，那么浏览器应当向用户展示响应中包含的实体信息，因为这个实体信息中可能包含了相关诊断信息。</td></tr><tr><td><del>402 Payment Required</del></td><td>此响应码保留以便将来使用，创造此响应码的最初目的是用于数字支付系统，然而现在并未使用</td></tr><tr><td>403 Forbidden</td><td>服务器已经理解请求，但是拒绝执行它。与 401 响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。如果这不是一个 HEAD 请求，而且服务器希望能够讲清楚为何请求不能被执行，那么就应该在实体内描述拒绝的原因。当然服务器也可以返回一个 404 响应，假如它不希望让客户端获得任何信息。</td></tr><tr><td>404 Not Found</td><td>请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。</td></tr><tr><td>405 Method Not Allowed</td><td>请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow 头信息用以表示出当前资源能够接受的请求方法的列表。 鉴于 PUT，DELETE 方法会对服务器上的资源进行写操作，因而绝大部分的网页服务器都不支持或者在默认配置下不允许上述请求方法，对于此类请求均会返回405错误。</td></tr><tr><td>406 Not Acceptable</td><td>请求的资源的内容特性无法满足请求头中的条件，因而无法生成响应实体。</td></tr><tr><td>407 Proxy Authentication Required</td><td>与401响应类似，只不过客户端必须在代理服务器上进行身份验证。代理服务器必须返回一个 Proxy-Authenticate 用以进行身份询问。客户端可以返回一个 Proxy-Authorization 信息头用以验证。</td></tr><tr><td>408 Request Timeout</td><td>请求超时。客户端没有在服务器预备等待的时间内完成一个请求的发送。客户端可以随时再次提交这一请求而无需进行任何更改。</td></tr><tr><td>409 Conflict</td><td>由于和被请求的资源的当前状态之间存在冲突，请求无法完成。这个代码只允许用在这样的情况下才能被使用：用户被认为能够解决冲突，并且会重新提交新的请求。该响应应当包含足够的信息以便用户发现冲突的源头。</td></tr><tr><td>410 Gone</td><td>被请求的资源在服务器上已经不再可用，而且没有任何已知的转发地址。这样的状况应当被认为是永久性的。如果可能，拥有链接编辑功能的客户端应当在获得用户许可后删除所有指向这个地址的引用。如果服务器不知道或者无法确定这个状况是否是永久的，那么就应该使用 404 状态码。除非额外说明，否则这个响应是可缓存的。</td></tr><tr><td>411 Length Required</td><td>服务器拒绝在没有定义 Content-Length 头的情况下接受请求。在添加了表明请求消息体长度的有效 Content-Length 头之后，客户端可以再次提交该请求。</td></tr><tr><td>412 Precondition Failed</td><td>服务器在验证在请求的头字段中给出先决条件时，没能满足其中的一个或多个。这个状态码允许客户端在获取资源时在请求的元信息（请求头字段数据）中设置先决条件，以此避免该请求方法被应用到其希望的内容以外的资源上。</td></tr><tr><td>413 Payload Too Large</td><td>服务器拒绝处理当前请求，因为该请求提交的实体数据大小超过了服务器愿意或者能够处理的范围。此种情况下，服务器可以关闭连接以免客户端继续发送此请求。如果这个状况是临时的，服务器应当返回一个 Retry-After 的响应头，以告知客户端可以在多少时间以后重新尝试。</td></tr><tr><td>414 URI Too Long</td><td>请求的URI 长度超过了服务器能够解释的长度，因此服务器拒绝对该请求提供服务。这比较少见，通常的情况包括：本应使用POST方法的表单提交变成了GET方法，导致查询字符串（Query String）过长。</td></tr><tr><td>415 Unsupported Media Type</td><td>对于当前请求的方法和所请求的资源，请求中提交的实体并不是服务器中所支持的格式，因此请求被拒绝。</td></tr><tr><td>416 Requested Range Not Satisfiable</td><td>如果请求中包含了 Range 请求头，并且 Range 中指定的任何数据范围都与当前资源的可用范围不重合，同时请求中又没有定义 If-Range 请求头，那么服务器就应当返回416状态码。</td></tr><tr><td>417 Expectation Failed</td><td>此响应代码意味着服务器无法满足 Expect 请求标头字段指示的期望值。</td></tr><tr><td>418 I’m a teapot</td><td>服务器拒绝尝试用 “茶壶冲泡咖啡”。</td></tr><tr><td>421 Misdirected Request</td><td>该请求针对的是无法产生响应的服务器。 这可以由服务器发送，该服务器未配置为针对包含在请求 URI 中的方案和权限的组合产生响应。</td></tr><tr><td>422 Unprocessable Entity</td><td>请求格式良好，但由于语义错误而无法遵循。</td></tr><tr><td>423 Locked</td><td>正在访问的资源被锁定</td></tr><tr><td>424 Failed Dependency</td><td>由于先前的请求失败，所以此次请求失败。</td></tr><tr><td>425 Too Early</td><td>服务器不愿意冒着风险去处理可能重播的请求.</td></tr><tr><td>426 Upgrade Required</td><td>服务器拒绝使用当前协议执行请求，但可能在客户机升级到其他协议后愿意这样做。 服务器在 426 响应中发送 Upgrade 头以指示所需的协议。</td></tr><tr><td>428 Precondition Required</td><td>原始服务器要求该请求是有条件的。 旨在防止“丢失更新”问题，即客户端获取资源状态，修改该状态并将其返回服务器，同时第三方修改服务器上的状态，从而导致冲突。</td></tr><tr><td>429 Too Many Requests</td><td>用户在给定的时间内发送了太多请求（“限制请求速率”）。</td></tr><tr><td>431 Request Header Fields Too Large</td><td>服务器不愿意处理请求，因为它的 请求头字段太大（ Request Header Fields Too Large）。 请求可以在减小请求头字段的大小后重新提交。</td></tr><tr><td>451 Unavailable For Legal Reasons</td><td>用户请求非法资源，例如：由政府审查的网页。</td></tr></tbody></table><h1 id="服务端响应"><a href="#服务端响应" class="headerlink" title="服务端响应"></a>服务端响应</h1><table><thead><tr><th>代码</th><th>说明</th></tr></thead><tbody><tr><td>500 Internal Server Error</td><td>服务器遇到了不知道如何处理的情况。</td></tr><tr><td>501 Not Implemented</td><td>此请求方法不被服务器支持且无法被处理。只有GET和HEAD是要求服务器支持的，它们必定不会返回此错误代码。</td></tr><tr><td>502 Bad Gateway</td><td>此错误响应表明服务器作为网关需要得到一个处理这个请求的响应，但是得到一个错误的响应。</td></tr><tr><td>503 Service Unavailable</td><td>服务器没有准备好处理请求。 常见原因是服务器因维护或重载而停机。 请注意，与此响应一起，应发送解释问题的用户友好页面。 这个响应应该用于临时条件和 Retry-After：如果可能的话，HTTP头应该包含恢复服务之前的估计时间。 网站管理员还必须注意与此响应一起发送的与缓存相关的标头，因为这些临时条件响应通常不应被缓存。</td></tr><tr><td>504 Gateway Timeout</td><td>当服务器作为网关，不能及时得到响应时返回此错误代码。</td></tr><tr><td>505 HTTP Version Not Supported</td><td>服务器不支持请求中所使用的HTTP协议版本。</td></tr><tr><td>506 Variant Also Negotiates</td><td>服务器有一个内部配置错误：对请求的透明内容协商导致循环引用。</td></tr><tr><td>507 Insufficient Storage</td><td>服务器有内部配置错误：所选的变体资源被配置为参与透明内容协商本身，因此不是协商过程中的适当端点。</td></tr><tr><td>508 Loop Detected</td><td>服务器在处理请求时检测到无限循环。</td></tr><tr><td>510 Not Extended</td><td>客户端需要对请求进一步扩展，服务器才能实现它。服务器会回复客户端发出扩展请求所需的所有信息。</td></tr><tr><td>511 Network Authentication Required</td><td>511 状态码指示客户端需要进行身份验证才能获得网络访问权限。</td></tr></tbody></table><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;HTTP 状态代码指示特定 HTTP 请求是否已成功完成。响应分为五类：信息响应，成功响应，重定向，客户端错误和服务器错误。&lt;/p&gt;
    
    </summary>
    
      <category term="HTTP" scheme="http://hackycy.github.io/categories/HTTP/"/>
    
    
      <category term="HTTP" scheme="http://hackycy.github.io/tags/HTTP/"/>
    
  </entry>
  
  <entry>
    <title>Mac Homebrew常用命令</title>
    <link href="http://hackycy.github.io/2019/05/04/Mac-Homebrew%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <id>http://hackycy.github.io/2019/05/04/Mac-Homebrew常用命令/</id>
    <published>2019-05-04T04:02:34.000Z</published>
    <updated>2019-05-09T13:23:05.637Z</updated>
    
    <content type="html"><![CDATA[<p>Homebrew是Mac OSX上的软件包管理工具，能在Mac中方便的安装软件或者卸载软件， 使用命令，非常方便。</p><a id="more"></a><h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ brew --<span class="built_in">help</span>        <span class="comment">#简洁命令帮助</span></span><br><span class="line">$ man brew           <span class="comment">#完整命令帮助</span></span><br><span class="line">$ brew install git   <span class="comment">#安装软件包(这里是示例安装的Git版本控制)</span></span><br><span class="line">$ brew uninstall git <span class="comment">#卸载软件包</span></span><br><span class="line">$ brew search git    <span class="comment">#搜索软件包</span></span><br><span class="line">$ brew list          <span class="comment">#显示已经安装的所有软件包</span></span><br><span class="line">$ brew update        <span class="comment">#同步远程最新更新情况，对本机已经安装并有更新的软件用*标明</span></span><br><span class="line">$ brew outdated      <span class="comment">#查看已安装的哪些软件包需要更新</span></span><br><span class="line">$ brew upgrade git   <span class="comment">#更新单个软件包</span></span><br><span class="line">$ brew info git      <span class="comment">#查看软件包信息</span></span><br><span class="line">$ brew home git      <span class="comment">#访问软件包官方站</span></span><br><span class="line">$ brew cleanup       <span class="comment">#清理所有已安装软件包的历史老版本</span></span><br><span class="line">$ brew cleanup git   <span class="comment">#清理单个已安装软件包的历史版本</span></span><br><span class="line">$ brew tap  <span class="comment">#可以为brew的软件的 跟踪,更新,安装添加更多的的tap formulae</span></span><br></pre></td></tr></table></figure><h1 id="程序安装路径及文件夹"><a href="#程序安装路径及文件夹" class="headerlink" title="程序安装路径及文件夹"></a>程序安装路径及文件夹</h1><ul><li>bin          #用于存放所安装程序的启动链接（相当于快捷方式）</li><li>Cellar       #所有brew安装的程序，都将以[程序名/版本号]存放于本目录下</li><li>etc          #brew安装程序的配置文件默认存放路径</li><li>Library      #Homebrew 系统自身文件夹<ul><li>Formula     #程序的下载路径和编译参数及安装路径等配置文件存放地</li><li>Homebrew    #brew程序自身命令集</li></ul></li></ul><h1 id="替换及重置Homebrew默认源"><a href="#替换及重置Homebrew默认源" class="headerlink" title="替换及重置Homebrew默认源"></a>替换及重置Homebrew默认源</h1><ul><li>替换brew.git:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="string">"<span class="variable">$(brew --repo)</span>"</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url origin https://mirrors.ustc.edu.cn/brew.git</span><br></pre></td></tr></table></figure><p>​    <strong>可选镜像源：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://git.coding.net/homebrew/homebrew.git - Coding</span><br><span class="line">https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git - 清华</span><br><span class="line">https://mirrors.ustc.edu.cn/brew.git - 中科大</span><br></pre></td></tr></table></figure><ul><li>替换homebrew-core.git:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="string">"<span class="variable">$(brew --repo)</span>/Library/Taps/homebrew/homebrew-core"</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url origin https://mirrors.ustc.edu.cn/homebrew-core.git</span><br></pre></td></tr></table></figure><ul><li>重置brew.git:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="string">"<span class="variable">$(brew --repo)</span>"</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url origin https://github.com/Homebrew/brew.git</span><br></pre></td></tr></table></figure><ul><li>重置homebrew-core.git:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> <span class="string">"<span class="variable">$(brew --repo)</span>/Library/Taps/homebrew/homebrew-core"</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url origin https://github.com/Homebrew/homebrew-core.git</span><br></pre></td></tr></table></figure><h1 id="LaunchRocket"><a href="#LaunchRocket" class="headerlink" title="LaunchRocket"></a>LaunchRocket</h1><p>LaunchRecket是管理homebrew所安装应用的一个管理器，它在系统设置中。</p><p><a href="https://github.com/jimbojsb/launchrocket" target="_blank" rel="noopener">https://github.com/jimbojsb/launchrocket</a></p><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Homebrew是Mac OSX上的软件包管理工具，能在Mac中方便的安装软件或者卸载软件， 使用命令，非常方便。&lt;/p&gt;
    
    </summary>
    
      <category term="程序人生" scheme="http://hackycy.github.io/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"/>
    
    
      <category term="Homebrew" scheme="http://hackycy.github.io/tags/Homebrew/"/>
    
  </entry>
  
  <entry>
    <title>MacOS Apache配置</title>
    <link href="http://hackycy.github.io/2019/05/04/MacOS-Apache%E9%85%8D%E7%BD%AE/"/>
    <id>http://hackycy.github.io/2019/05/04/MacOS-Apache配置/</id>
    <published>2019-05-04T03:08:05.000Z</published>
    <updated>2019-05-04T09:23:38.015Z</updated>
    
    <content type="html"><![CDATA[<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul><li>macOS Mojave 10.14.4</li><li>Apache/2.4.38</li></ul><a id="more"></a><h1 id="查看Apache"><a href="#查看Apache" class="headerlink" title="查看Apache"></a>查看Apache</h1><p>macOS系统自带Apache软件，我们直接在命令行下查看Apache版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ httpd -v</span><br><span class="line">Server version: Apache/2.4.38 (Unix)</span><br><span class="line">Server built:   Feb 10 2019 02:48:38</span><br></pre></td></tr></table></figure><h1 id="启动Apache"><a href="#启动Apache" class="headerlink" title="启动Apache"></a>启动Apache</h1><p>命令行直接启动，如果是普通用户下需要<code>sudo</code>，普通用户没有权限操作<code>apachectl</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apachectl start</span><br><span class="line">$ sudo apachectl stop</span><br><span class="line">$ sudo apachectl restart</span><br></pre></td></tr></table></figure><p>mac 下 <code>Apache</code> 默认的目录在 <code>/Library/WebServer</code> 下</p><h1 id="开启Apache多用户主目录"><a href="#开启Apache多用户主目录" class="headerlink" title="开启Apache多用户主目录"></a>开启Apache多用户主目录</h1><p>执行 <code>sudo vim /etc/apache2/httpd.conf</code> 打开 <code>httpd.conf</code> 文件，然后查找 <code>userdir</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># User home directories</span><br><span class="line">#Include /private/etc/apache2/extra/httpd-userdir.conf</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#LoadModule userdir_module libexec/apache2/mod_userdir.so</span><br></pre></td></tr></table></figure><p>去掉前面<code>#</code>注释即可。</p><p>接着再编辑 <code>/private/etc/apache2/extra/httpd-userdir.conf</code> 文件，增加内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UserDir Sites</span><br></pre></td></tr></table></figure><p>如果有则不用添加了。</p><h1 id="配置虚拟主机"><a href="#配置虚拟主机" class="headerlink" title="配置虚拟主机"></a>配置虚拟主机</h1><p>执行 <code>sudo vim /etc/apache2/httpd.conf</code>，查找<code>vhost</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Virtual hosts</span><br><span class="line">#Include /private/etc/apache2/extra/httpd-vhosts.conf</span><br></pre></td></tr></table></figure><p>去掉前面<code>#</code>注释即可。再修改<code>/private/etc/apache2/extra/httpd-vhosts.conf</code>配置即可。</p><h1 id="使用Homebrew代替自带的"><a href="#使用Homebrew代替自带的" class="headerlink" title="使用Homebrew代替自带的"></a>使用Homebrew代替自带的</h1><p>由于之前不知道搞了什么，自带的怎么更改都不生效，所以重新安装了。</p><h2 id="安装apache"><a href="#安装apache" class="headerlink" title="安装apache"></a>安装apache</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ brew tap homebrew/apache</span><br><span class="line">$ brew tap homebrew/php</span><br><span class="line">$ brew install httpd</span><br></pre></td></tr></table></figure><h2 id="配置apache"><a href="#配置apache" class="headerlink" title="配置apache"></a>配置apache</h2><p>配置文件路径为<code>/usr/local/etc/apache2/2.4/httpd.conf</code>，配置的方法和上述自带无差别。只是配置路径发生了变化。</p><h2 id="配置PHP模块"><a href="#配置PHP模块" class="headerlink" title="配置PHP模块"></a>配置PHP模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">LoadModule php7_module /usr/local/Cellar/php@7.1/7.1.26/lib/httpd/modules/libphp7.so</span><br><span class="line">&lt;IfModule mod_php7.c&gt;</span><br><span class="line"></span><br><span class="line">    AddType application/x-httpd-php .php</span><br><span class="line">    AddType application/x-httpd-php-source .phps</span><br><span class="line"></span><br><span class="line">    &lt;IfModule mod_dir.c&gt;</span><br><span class="line">        DirectoryIndex index.html index.php</span><br><span class="line">    &lt;/IfModule&gt;</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure><p>找到所在php的so文件添加进配置即可，php版本可根据自己需要更改。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;环境&quot;&gt;&lt;a href=&quot;#环境&quot; class=&quot;headerlink&quot; title=&quot;环境&quot;&gt;&lt;/a&gt;环境&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;macOS Mojave 10.14.4&lt;/li&gt;
&lt;li&gt;Apache/2.4.38&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Apache" scheme="http://hackycy.github.io/categories/Apache/"/>
    
    
      <category term="环境搭建" scheme="http://hackycy.github.io/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    
      <category term="Apache" scheme="http://hackycy.github.io/tags/Apache/"/>
    
  </entry>
  
  <entry>
    <title>Apache配置文件详解</title>
    <link href="http://hackycy.github.io/2019/04/29/Apache%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3/"/>
    <id>http://hackycy.github.io/2019/04/29/Apache配置文件详解/</id>
    <published>2019-04-29T12:39:51.000Z</published>
    <updated>2019-05-04T08:26:09.385Z</updated>
    
    <content type="html"><![CDATA[<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul><li>Centos7</li></ul><h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p>找到apache所在的配置文件，在本文环境下即centos7以yum源安装的httpd所在的配置环境路径为<code>/etc/httpd/conf</code>。也可以使用命令找到该配置文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo find / -name <span class="string">'httpd.conf'</span></span><br></pre></td></tr></table></figure><blockquote><p>以下以本文中的配置路径为准，其他系统下路径可能不一致。<br>在 Ubnutu/Mac 上，apache 服务叫 apache2，而不是 httpd（在 Centos 上叫 httpd），主配置文件为 /etc/apache2/apache2.conf</p></blockquote><a id="more"></a><h1 id="Apache配置文件"><a href="#Apache配置文件" class="headerlink" title="Apache配置文件"></a>Apache配置文件</h1><p>Apache提供了灵活的web服务配置，理解其参数的含义很重要。</p><p>Apache配置文件中英文对照：<a href="http://www.cnblogs.com/adamite/p/apache_configuration.html" target="_blank" rel="noopener">http://www.cnblogs.com/adamite/p/apache_configuration.html</a></p><h2 id="Apache主目录"><a href="#Apache主目录" class="headerlink" title="Apache主目录"></a>Apache主目录</h2><p><code>ServerRoot &quot;/etc/httpd&quot;</code></p><h2 id="监听端口"><a href="#监听端口" class="headerlink" title="监听端口"></a>监听端口</h2><p><code>Listen 80</code></p><h2 id="加载动态模块"><a href="#加载动态模块" class="headerlink" title="加载动态模块"></a>加载动态模块</h2><p><code>LoadModule php5_module modules/libphp5.so</code></p><p>或者加载动态模块的配置文件</p><p><code>Include conf.modules.d/*.conf</code></p><h2 id="Apache的进程执行者"><a href="#Apache的进程执行者" class="headerlink" title="Apache的进程执行者"></a>Apache的进程执行者</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User apache</span><br><span class="line">Group apache</span><br></pre></td></tr></table></figure><h2 id="服务器域名"><a href="#服务器域名" class="headerlink" title="服务器域名"></a>服务器域名</h2><p>该项可配置也可不配置 <code>ServerName www.example.com:80</code></p><h2 id="网站根目录"><a href="#网站根目录" class="headerlink" title="网站根目录"></a>网站根目录</h2><p><code>DocumentRoot &quot;/var/www/html&quot;</code></p><h2 id="设置网站根目录的访问权限"><a href="#设置网站根目录的访问权限" class="headerlink" title="设置网站根目录的访问权限"></a>设置网站根目录的访问权限</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html&quot;&gt;</span><br><span class="line">    #</span><br><span class="line">    # Possible values for the Options directive are &quot;None&quot;, &quot;All&quot;,</span><br><span class="line">    # or any combination of:</span><br><span class="line">    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews</span><br><span class="line">    #</span><br><span class="line">    # Note that &quot;MultiViews&quot; must be named *explicitly* --- &quot;Options All&quot;</span><br><span class="line">    # doesn&apos;t give it to you.</span><br><span class="line">    #</span><br><span class="line">    # The Options directive is both complicated and important.  Please see</span><br><span class="line">    # http://httpd.apache.org/docs/2.4/mod/core.html#options</span><br><span class="line">    # for more information.</span><br><span class="line">    #</span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line"></span><br><span class="line">    #</span><br><span class="line">    # AllowOverride controls what directives may be placed in .htaccess files.</span><br><span class="line">    # It can be &quot;All&quot;, &quot;None&quot;, or any combination of the keywords:</span><br><span class="line">    #   Options FileInfo AuthConfig Limit</span><br><span class="line">    #</span><br><span class="line">    AllowOverride None</span><br><span class="line"></span><br><span class="line">    #</span><br><span class="line">    # Controls who can get stuff from this server.</span><br><span class="line">    #</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p><strong>参数详解</strong></p><ul><li><code>Allow from all</code> 参数允许所有人访问<code>/var/www/html</code>下的资源</li><li><code>Deny from all</code> 参数拒绝所有人访问<code>/var/www/html</code>下的资源</li><li><code>Options Indexes</code> 参数:访问目录时,如果不存在默认首页则展示站点列表 该行建议改成 Options None</li><li><code>Options FollowSymLinks</code> 参数:是否允许快捷方式(ln -s 软连接)</li><li><code>Options MultiViews</code> 多视图,访问<code>/index</code>等同访问<code>index.php</code>或<code>index.html</code></li></ul><h3 id="Apache服务器访问权限控制包括"><a href="#Apache服务器访问权限控制包括" class="headerlink" title="Apache服务器访问权限控制包括:"></a>Apache服务器访问权限控制包括:</h3><h4 id="Apache-服务权限"><a href="#Apache-服务权限" class="headerlink" title="Apache 服务权限"></a>Apache 服务权限</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deny from all (**403 forbidden** error!)</span><br><span class="line">allow from all</span><br></pre></td></tr></table></figure><h4 id="Linux-系统权限"><a href="#Linux-系统权限" class="headerlink" title="Linux 系统权限"></a>Linux 系统权限</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">selinux</span><br><span class="line">iptables</span><br><span class="line">httpd进程执行者对根目录的权限(**403 forbidden** error!)</span><br></pre></td></tr></table></figure><h2 id="设置目录默认首页"><a href="#设置目录默认首页" class="headerlink" title="设置目录默认首页"></a>设置目录默认首页</h2><p>优先级从左往右依次降低</p><p><code>DirectoryIndex index.html index.php</code></p><h2 id="错误日志"><a href="#错误日志" class="headerlink" title="错误日志"></a>错误日志</h2><p><code>ErrorLog &quot;logs/error_log&quot;</code></p><h2 id="访问日志"><a href="#访问日志" class="headerlink" title="访问日志"></a>访问日志</h2><p><code>CustomLog &quot;logs/access_log&quot; common</code></p><h2 id="解析php脚本"><a href="#解析php脚本" class="headerlink" title="解析php脚本"></a>解析php脚本</h2><p><code>AddType application/x-httpd-php .php</code></p><h2 id="控制错误页面的输出"><a href="#控制错误页面的输出" class="headerlink" title="控制错误页面的输出"></a>控制错误页面的输出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ErrorDocument 500 &quot;The server made a boo boo.&quot;</span><br><span class="line">#ErrorDocument 404 /missing.html</span><br><span class="line">#ErrorDocument 404 &quot;/cgi-bin/missing_handler.pl&quot;</span><br><span class="line">#ErrorDocument 402 http://www.example.com/subscription_info.html</span><br></pre></td></tr></table></figure><h2 id="包含外部配置文件"><a href="#包含外部配置文件" class="headerlink" title="包含外部配置文件"></a>包含外部配置文件</h2><p><code>Include extra/httpd-vhosts.conf</code></p><h2 id="虚拟目录"><a href="#虚拟目录" class="headerlink" title="虚拟目录"></a>虚拟目录</h2><p><code>http://localhost/mnt</code> mnt目录并不在网站根目录下,目录资源在<code>/tmp/mnt</code>目录下 在<code>/usr/local/apache2/etc/http.conf</code>文件里增加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Alias /mnt &quot;/mnt/www&quot; # 虚拟目录（目录别名）</span><br><span class="line">&lt;Directory &quot;/mnt/www&quot;&gt;</span><br><span class="line">    Options none</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Deny from all # 拒绝所有</span><br><span class="line">    Allow from all # 允许所有</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p><code>http://localhost/mnt</code> 重启apache后访问的资源便是 <code>/mnt/www</code>目录下的资源</p><h1 id="Apache虚拟主机配置"><a href="#Apache虚拟主机配置" class="headerlink" title="Apache虚拟主机配置"></a>Apache虚拟主机配置</h1><p>基于域名的虚拟主机，指定服务器IP（和可能的端口）使主机接受请求。用<code>NameVirtualHost</code>进行配置。 如果服务器上所有的IP地址都会用到，可以用<code>*</code>作为<code>NameVirtualHost</code>的参数。在<code>NameVirtualHost</code>指令中指明IP地址不会使服务器自动侦听那个IP地址。</p><h2 id="找到Apache的主配置文件httpd-conf"><a href="#找到Apache的主配置文件httpd-conf" class="headerlink" title="找到Apache的主配置文件httpd.conf"></a>找到Apache的主配置文件<code>httpd.conf</code></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd /etc/httpd/conf</span><br><span class="line">$ vim httpd.conf</span><br></pre></td></tr></table></figure><p>我们搜索关键字<code>vhosts</code>，如果没有则在文件后添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Load vhost-config files in the &quot;/etc/httpd/vhost-conf.d&quot; directory if any</span><br><span class="line">Include vhost.d/*.conf</span><br></pre></td></tr></table></figure><blockquote><p>不使用官方原版的单个配置文件有个好处是 每个虚拟主机配置独立开来 减少操作的误差</p></blockquote><p>然后我们到<code>/etc/httpd/</code>目录下创建<code>vhost.d</code>文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir vhost.d</span><br><span class="line">$ <span class="built_in">cd</span> vhost.d</span><br><span class="line">$ <span class="built_in">pwd</span></span><br><span class="line">/etc/httpd/vhost.d</span><br><span class="line">$ vim www_sweetlover_cn_net.conf</span><br></pre></td></tr></table></figure><p><strong>添加以下内容</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;VirtualHost *:80&gt;</span><br><span class="line">    ServerAdmin zjyzy@www.sweetlover.net.cn</span><br><span class="line">    DocumentRoot /var/www/html/sweetlover</span><br><span class="line">    ServerName www.sweetlover.net.cn</span><br><span class="line">    RewriteEngine On</span><br><span class="line">    Options All</span><br><span class="line">    &lt;Directory &quot;/var/www/html/sweetlover&quot;&gt;</span><br><span class="line">        # Options -Indexes FollowSymLinks </span><br><span class="line">        # 为了服务器的安全 Indexes参数一般要取消</span><br><span class="line">        Options FollowSymLinks </span><br><span class="line">        AllowOverride All</span><br><span class="line">        Allow from all</span><br><span class="line">    &lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">    ErrorLog logs/www_sweetlover_net_cn-error_log</span><br><span class="line">    CustomLog logs/www_sweetlover_net_cn-access_log common</span><br><span class="line">&lt;/VirtualHost&gt;</span><br></pre></td></tr></table></figure><p><strong>再次修改主配置文件<code>httpd.conf</code>,找到<code>Listen 80</code>，添加以下代码</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Listen 80</span><br><span class="line">NameVirtualHost *:80</span><br></pre></td></tr></table></figure><p><strong>我们再配置一个同域名下不同端口虚拟主机，配置<code>8080</code>端口下的</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /etc/httpd/vhost.d</span><br><span class="line">$ vim www_sweetlover_net_cn_8080.conf</span><br></pre></td></tr></table></figure><p>针对<code>www_sweetlover_cn_net.conf</code>改变相应的配置，即修改<code>ServerName</code>为<code>www.sweetlover.net.cn:8080</code>，<code>DocumentRoot</code>和<code>Directory</code>修改为<code>/var/www/html/sweetlover@8080</code>。</p><p><strong>修改主配置文件，添加</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Listen 8080</span><br><span class="line">NameVirtualHost *:8080</span><br></pre></td></tr></table></figure><blockquote><p>由于环境下为虚拟机环境，直接访问ip加端口号即可访问到配置的网站。在上述配置的DocumentRoot下创建index.html或者index.php即可访问网页。</p></blockquote><p><strong>如果出现该错误</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[warn] default VirtualHost overlap on port 80, the first has precedence</span><br></pre></td></tr></table></figure><blockquote><p>打开apache主配置文件在任意位置添加一行,在 40行的Listion:80后添加一行内容如下:<code>NameVirtualHost *:80</code></p></blockquote><blockquote><p>如果使用源码编译安装的，直接去掉注释即可，然后再修改配置文件</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Virtual hosts</span><br><span class="line">#Include /private/etc/apache2/extra/httpd-vhosts.conf</span><br></pre></td></tr></table></figure><p>去掉前面<code>#</code>注释即可。再修改<code>/private/etc/apache2/extra/httpd-vhosts.conf</code>配置即可。</p><h1 id="Apache常见错误"><a href="#Apache常见错误" class="headerlink" title="Apache常见错误"></a>Apache常见错误</h1><h2 id="ServerName配置未填写或错误"><a href="#ServerName配置未填写或错误" class="headerlink" title="ServerName配置未填写或错误"></a>ServerName配置未填写或错误</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd: Could not reliably determine the server<span class="string">'s fully qualified domain name, using luo.centos6.5 for ServerName</span></span><br></pre></td></tr></table></figure><p>在Apache主配置文件<code>httpd.conf</code>的98行左右<code>#ServerName www.example.com:80</code>前面的<code>#</code>去掉，换成自己的域名或者ip地址。<br>例如：修改为<code>ServerName localhost:80</code>或者<code>ServerName 127.0.0.1:80</code></p><h2 id="403-Forbidden错误"><a href="#403-Forbidden错误" class="headerlink" title="403 Forbidden错误"></a>403 Forbidden错误</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">403 - Forbidden（禁止访问）,服务器拒绝请求</span><br><span class="line">    - forbidden request (matches a deny filter) =&gt; HTTP 403</span><br><span class="line">    - The request was a legal request, but the server is refusing to respond to it.</span><br></pre></td></tr></table></figure><p><strong>原因1：apache的配置文件没有对站点目录许可</strong></p><p>apache配置文件中没有对站点目录的权限许可配置，这通常是在初始化安装apahce后，更改了默认的apache站点目录导致。</p><p>解决办法可能是：通过给主配置文件增加<code>&lt;Directory &quot;/var/www/html&quot;&gt;&lt;/Directory&gt;</code>标签实现对指定目录的权限控制<br>典型如下(对/var/www目录下的文件允许访问)：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www&quot;&gt;</span><br><span class="line">    Options -Indexes FollowSymLinks # 为了服务器的安全 Indexes参数一般要取消</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny # 允许未被明确拒绝的</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p><strong>原因2：站点目录下没有首页文件，而apache 的配置又禁止了目录的浏览</strong></p><p>站点目录下没有首页文件(index.php、index.html等默认文件)，而apache的配置又禁止了目录浏览（#Indexes参数:访问目录时,如果不存在默认首页则展示站点列表，该行建议改成<code>Options None</code>，也会提示403错误。<br>解决办法：在站点目录添加默认首页文件或者将配置文件中<code>Options Index</code>增加上。</p><p><strong>原因3：deny from all 禁用了所有来访者访问</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www&quot;&gt;</span><br><span class="line">    Options -Indexes FollowSymLinks # 为了服务器的安全 Indexes参数一般要取消</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny # 允许未被明确拒绝的</span><br><span class="line">    Deny from all</span><br><span class="line">    # Deny from </span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p><strong>解决办法：</strong>参考原因2解决方法配置<code>&lt;Directory &gt;&lt;/Directory&gt;</code>参数。</p><p><strong>站点目录权限问题</strong></p><p>站点目录需要apache的用户有访问权限，否则就会报403错误(一般web站点目录权限给755，站点文件权限给644，上传程序通过另外的上传服务器提供文件上传)。</p><h1 id="Apache服务器优化"><a href="#Apache服务器优化" class="headerlink" title="Apache服务器优化"></a>Apache服务器优化</h1><h2 id="错误页面优雅显示"><a href="#错误页面优雅显示" class="headerlink" title="错误页面优雅显示"></a>错误页面优雅显示</h2><p>可以将404 500等的错误信息页面重定向到网站首页或其他页面，提升用户体验。</p><p>编辑apache主配置文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim httpd.conf</span><br></pre></td></tr></table></figure></p><p>修改如下内容<code>ErrorDocument 404 http://www.domain.com</code></p><h2 id="mod-defalte文件压缩功能"><a href="#mod-defalte文件压缩功能" class="headerlink" title="mod_defalte文件压缩功能"></a><code>mod_defalte</code>文件压缩功能</h2><p>gzip是把文件先在服务器端进行压缩然后再传输，传输完毕后浏览器会重新对压缩过得内容进行解压缩。这样可以显著减少文件传输的大小，没有特殊情况，所有的文本内容都应该被gzip压缩（html,css,js,xml,txt..）</p><p>添加如下内容到<code>httpd.conf</code>或者<code>vhost.conf</code>中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ifmodule mod_deflate.c&gt;</span><br><span class="line">    DeflateCompressionLevel 9</span><br><span class="line">    SetOutputFilter DEFLATE</span><br><span class="line">    AddOutputFilterByType DEFLATE text/html text/plain text/xml</span><br><span class="line">    AddOutputFilterByType DEFLATE application/javscript</span><br><span class="line">    AddOutputFilterByType DEFLATE text/css</span><br><span class="line">&lt;/ifmodule&gt;</span><br></pre></td></tr></table></figure><h2 id="更改apache的默认用户"><a href="#更改apache的默认用户" class="headerlink" title="更改apache的默认用户"></a>更改apache的默认用户</h2><p>创建apache用户，用于子进程和线程</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ useradd -M -s /sbin/nologin webadmin</span><br></pre></td></tr></table></figure><p>编辑apache的主配置文件,添加或者修改如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User webadmin</span><br><span class="line">Group webadmin</span><br></pre></td></tr></table></figure><h2 id="开启apache防盗链功能"><a href="#开启apache防盗链功能" class="headerlink" title="开启apache防盗链功能"></a>开启apache防盗链功能</h2><p>主配置文件中增加如下配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule rewrite_module&gt;</span><br><span class="line">RewriteEngine On</span><br><span class="line">RewriteCond %&#123;HTTP_REFERER&#125; !^http://domain.com/.*$ [NC]</span><br><span class="line">RewriteCond %&#123;HTTP_REFERER&#125; !^http://www.domain.com/.*$ [NC]</span><br><span class="line"></span><br><span class="line">RewriteRule .*\.(gif|jpg|swf)$ http://www.domain.com [R,NC]</span><br><span class="line"># RewriteRule .*\.(gif|jpg|swf)$ http://www.domain.com/about/no.png [R,NC]</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure><h2 id="禁止目录Index"><a href="#禁止目录Index" class="headerlink" title="禁止目录Index"></a>禁止目录Index</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html&quot;&gt;</span><br><span class="line">    Options -Indexes FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html&quot;&gt;</span><br><span class="line">    Options FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h2 id="禁止用户覆盖-重载-配置文件"><a href="#禁止用户覆盖-重载-配置文件" class="headerlink" title="禁止用户覆盖(重载)配置文件"></a>禁止用户覆盖(重载)配置文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html&quot;&gt;</span><br><span class="line">    Options FollowSymLinks</span><br><span class="line">    AllowOverride None  # 禁止用户覆盖(重载)配置文件, All即为开启</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h2 id="关闭CGI-Common-Gateway-Interface-通用网关接口"><a href="#关闭CGI-Common-Gateway-Interface-通用网关接口" class="headerlink" title="关闭CGI(Common Gateway Interface 通用网关接口)"></a>关闭CGI(Common Gateway Interface 通用网关接口)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule alias_module&gt;</span><br><span class="line">ScriptAlias /cgi-bin/ &quot;/var/www/cgi-bin/&quot;</span><br><span class="line">&lt;/IfModule&gt;</span><br><span class="line">&lt;Directory &quot;/var/www/cgi-bin&quot;&gt;</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Options None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h2 id="避免使用-htaccess文件-分布式配置文件"><a href="#避免使用-htaccess文件-分布式配置文件" class="headerlink" title="避免使用.htaccess文件(分布式配置文件)"></a>避免使用.htaccess文件(分布式配置文件)</h2><p><strong>默认选项：</strong><code>AccessFileName .htaccess</code> 改为 <code># AccessFileName .htaccess</code></p><p>先考虑性能，如果AllowOverride启用了.haccess文件，则apache需要在每个目录中查找.htaccess文件，因此无论是否真正用到启用.htaccess文件都会导致服务器性能的下降。<br>　　另外对于每一个请求，都需要读取一次.htaccess文件。<br>　　其次是安全考虑，这样会允许用户自己修改服务器的配置，这可能会导致某些意想不到的修改，所以请认真考虑是否应道给予用户这样的特权。</p><blockquote><p>PHP开启路由重写下需要使用</p></blockquote><h2 id="apache-的安全模块"><a href="#apache-的安全模块" class="headerlink" title="apache 的安全模块"></a>apache 的安全模块</h2><p><code>mod_evasive20</code>( 防DDOS攻击)<br><code>mod_limittipconn</code>(针对单站点)配置<br><code>mod_security</code>(防止SQL注入)</p><h2 id="apache日志授予root-700权限"><a href="#apache日志授予root-700权限" class="headerlink" title="apache日志授予root 700权限"></a>apache日志授予root 700权限</h2><p><strong>不需要在日志目录给apache用户读或者写权限许可，因为apache的初始进程用户为root</strong></p><h2 id="禁止PHP解析指点站点目录"><a href="#禁止PHP解析指点站点目录" class="headerlink" title="禁止PHP解析指点站点目录"></a>禁止PHP解析指点站点目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Directory &quot;/var/www/html/bbs/Uploads&quot;&gt;</span><br><span class="line">    Options FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from all</span><br><span class="line">    php_flag engine off # 注意这行</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://www.kancloud.cn/curder/apache/91272" target="_blank" rel="noopener">https://www.kancloud.cn/curder/apache/91272</a></p><p><a href="https://www.linuxidc.com/Linux/2017-05/143590.htm" target="_blank" rel="noopener">https://www.linuxidc.com/Linux/2017-05/143590.htm</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;环境&quot;&gt;&lt;a href=&quot;#环境&quot; class=&quot;headerlink&quot; title=&quot;环境&quot;&gt;&lt;/a&gt;环境&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Centos7&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;配置文件&quot;&gt;&lt;a href=&quot;#配置文件&quot; class=&quot;headerlink&quot; title=&quot;配置文件&quot;&gt;&lt;/a&gt;配置文件&lt;/h1&gt;&lt;p&gt;找到apache所在的配置文件，在本文环境下即centos7以yum源安装的httpd所在的配置环境路径为&lt;code&gt;/etc/httpd/conf&lt;/code&gt;。也可以使用命令找到该配置文件。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo find / -name &lt;span class=&quot;string&quot;&gt;&#39;httpd.conf&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;以下以本文中的配置路径为准，其他系统下路径可能不一致。&lt;br&gt;在 Ubnutu/Mac 上，apache 服务叫 apache2，而不是 httpd（在 Centos 上叫 httpd），主配置文件为 /etc/apache2/apache2.conf&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Apache" scheme="http://hackycy.github.io/categories/Apache/"/>
    
    
      <category term="服务器运维" scheme="http://hackycy.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
      <category term="Apache" scheme="http://hackycy.github.io/tags/Apache/"/>
    
  </entry>
  
  <entry>
    <title>Centos7搭建LAMP环境</title>
    <link href="http://hackycy.github.io/2019/04/29/Centos7%E6%90%AD%E5%BB%BALAMP%E7%8E%AF%E5%A2%83/"/>
    <id>http://hackycy.github.io/2019/04/29/Centos7搭建LAMP环境/</id>
    <published>2019-04-29T08:06:59.000Z</published>
    <updated>2019-05-09T13:27:23.369Z</updated>
    
    <content type="html"><![CDATA[<p>LAMP即：(Linux + Apache + Mysql + PHP)</p><p><strong>apache的特点和应用场合</strong></p><p>apache功能强大、配置简单、速度快、应用广泛、性能稳定可靠，并可做代理服务器或负载均衡来使用。</p><p><strong>apache的应用场合</strong></p><p>使用apache运行静态HTML页、图片(处理静态小文件能力不及nginx)；<br>　　使用apache结合PHP引擎运行PHP、Perl等程序，LAMP被称之为经典组合；<br>　　使用apache结合tomcat/resin运行JSP、JAVA等程序，成为中小企业的首选；<br>　　使用apache做代理、负载均衡、rewrite规则过滤等。</p><a id="more"></a><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul><li>Centos7</li><li>Apache2.4</li></ul><h1 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install –y net-tools</span><br></pre></td></tr></table></figure><blockquote><p>完成后就可以使用ifconfig命令了</p></blockquote><p><strong>该环境下防火墙为关闭</strong></p><p>关闭命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl stop firewalld</span><br><span class="line">$ systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure><h1 id="安装Apache"><a href="#安装Apache" class="headerlink" title="安装Apache"></a>安装Apache</h1><h2 id="yum源安装"><a href="#yum源安装" class="headerlink" title="yum源安装"></a>yum源安装</h2><p>httpd是Apache服务器的主程序，被设计为一个独立运行的后台进程，它会建立一个处理请求的子进程或线程的池。接下来安装httpd。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y httpd</span><br></pre></td></tr></table></figure><p>httpd目录路径为<code>/etc/httpd</code></p><p>完成后开启httpd服务，并且让其在重启系统时自启动。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl start httpd.service <span class="comment"># 开启</span></span><br><span class="line">$ systemctl <span class="built_in">enable</span> httpd.service <span class="comment"># 开机自启动</span></span><br><span class="line">$ systemctl <span class="built_in">disable</span> httpd.service <span class="comment"># 关闭开机自启动</span></span><br><span class="line">$ systemctl stop httpd.service <span class="comment"># 停止</span></span><br></pre></td></tr></table></figure><p>开浏览器访问服务器的80端口，出现网页内容及正常安装完成</p><h2 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h2><p><a href="https://www.cnblogs.com/52php/p/5668845.html" target="_blank" rel="noopener">https://www.cnblogs.com/52php/p/5668845.html</a></p><h3 id="卸载系统默认自带的apache软件包"><a href="#卸载系统默认自带的apache软件包" class="headerlink" title="卸载系统默认自带的apache软件包"></a>卸载系统默认自带的apache软件包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -qa |grep httpd <span class="comment"># 如果机器没有查找到表示没有安装，则不用卸载</span></span><br><span class="line">httpd-tools-2.4.6-88.el7.centos.x86_64</span><br><span class="line">httpd-2.4.6-88.el7.centos.x86_64</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li><code>-q</code> 等同于<code>-query</code> 查询的意思</li><li><code>-a</code> 等同于<code>-all</code>  表示范围是系统所有软件</li></ul><p>卸载查询到的apache</p><p>通过<code>rpm -e -nodeps</code>后面分别是查询到的apache软件包名称即可卸载当前系统通过rpm安装方式安装的apache软件包，具体卸载操作过程如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -e --nodeps httpd-2.4.6-88.el7.centos.x86_64</span><br><span class="line">$ rpm -e --nodeps httpd-tools-2.4.6-88.el7.centos.x86_64</span><br><span class="line">$ rpm -qa | grep httpd</span><br></pre></td></tr></table></figure><h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><p>apache: <a href="https://httpd.apache.org/download.cgi" target="_blank" rel="noopener">https://httpd.apache.org/download.cgi</a><br>apr: <a href="http://apr.apache.org/download.cgi" target="_blank" rel="noopener">http://apr.apache.org/download.cgi</a></p><p>官方安装文档：<a href="https://httpd.apache.org/docs/2.4/install.html" target="_blank" rel="noopener">https://httpd.apache.org/docs/2.4/install.html</a></p><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install zlib-devel -y</span><br></pre></td></tr></table></figure><p>具体步骤:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /etc/apache2 <span class="comment"># 创建目录存放编译后的文件</span></span><br><span class="line">$ <span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/</span><br><span class="line">$ wget http://apache.mirrors.pair.com//httpd/httpd-2.4.39.tar.gz</span><br><span class="line">$ tar xf httpd-2.4.39.tar.gz <span class="comment"># 解压操作</span></span><br><span class="line">$ <span class="built_in">cd</span> httpd-2.4.39.tar.gz <span class="comment"># 进入到apache的目录</span></span><br><span class="line">$ ./configure --prefix=/etc/apache2</span><br><span class="line">$ make &amp;&amp; make install <span class="comment"># 执行编译</span></span><br></pre></td></tr></table></figure><p>至此,apache的安装工作完成。</p><h3 id="启动apache并检查"><a href="#启动apache并检查" class="headerlink" title="启动apache并检查"></a>启动apache并检查</h3><p>apache安装完成后并不能直接提供服务，需要先启动apache服务，操作如下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ /etc/apache2/bin/apachectl start</span><br><span class="line">$ ps aux |grep httpd</span><br><span class="line">root     10776  0.0  0.2  75256  2388 ?        Ss   17:14   0:00 /etc/apache2/bin/httpd -k start</span><br><span class="line">daemon   10777  0.0  0.4 364220  4248 ?        Sl   17:14   0:00 /etc/apache2/bin/httpd -k start</span><br><span class="line">daemon   10778  0.0  0.4 364220  4248 ?        Sl   17:14   0:00 /etc/apache2/bin/httpd -k start</span><br><span class="line">daemon   10779  0.0  0.4 429756  4752 ?        Sl   17:14   0:00 /etc/apache2/bin/httpd -k start</span><br><span class="line">root     10862  0.0  0.0 112724   988 pts/0    S+   17:14   0:00 grep --color=auto httpd</span><br><span class="line"></span><br><span class="line">$ netstat -tunpl|grep :80</span><br><span class="line">tcp6       0      0 :::80                   :::*                    LISTEN      10776/httpd</span><br></pre></td></tr></table></figure><p>打开浏览器访问服务器的80端口，看到如下内容<code>It works!</code>表示安装成功且正常启动了apache。</p><h3 id="报错及解决方案"><a href="#报错及解决方案" class="headerlink" title="报错及解决方案"></a>报错及解决方案</h3><p><strong>安装时遇到的错误1</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">checking <span class="keyword">for</span> chosen layout... Apache</span><br><span class="line">checking <span class="keyword">for</span> working mkdir -p... yes</span><br><span class="line">checking <span class="keyword">for</span> grep that handles long lines and -e... /usr/bin/grep</span><br><span class="line">checking <span class="keyword">for</span> egrep... /usr/bin/grep -E</span><br><span class="line">checking build system <span class="built_in">type</span>... x86_64-pc-linux-gnu</span><br><span class="line">checking host system <span class="built_in">type</span>... x86_64-pc-linux-gnu</span><br><span class="line">checking target system <span class="built_in">type</span>... x86_64-pc-linux-gnu</span><br><span class="line">configure: </span><br><span class="line">configure: Configuring Apache Portable Runtime library...</span><br><span class="line">configure: </span><br><span class="line">checking <span class="keyword">for</span> APR... no</span><br><span class="line">configure: error: APR not found.  Please <span class="built_in">read</span> the documentation.</span><br></pre></td></tr></table></figure><p>则需要下载<code>APR</code>和<code>APR-UTIL</code>并将其解压缩到<code>“./srclib/apr”</code>和<code>“./srclib/apr-util”</code>文件夹中</p><blockquote><p>可以不解压到指定目录，可以下载完成后直接安装，但是安装完同样步骤是<code>./configure</code>-&gt;<code>make &amp;&amp; make install</code><br>例如安装apr-util命令<code>./configure --prefix=/usr/loca/apr-util</code>-&gt;<code>make &amp;&amp; make install</code>,后面安装apache时需要添加参数指定该安装目录<code>--with-apr-util=/usr/local/apr-util</code></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://mirrors.tuna.tsinghua.edu.cn/apache//apr/apr-1.7.0.tar.gz</span><br><span class="line">$ wget http://mirrors.tuna.tsinghua.edu.cn/apache//apr/apr-util-1.6.1.tar.gz</span><br><span class="line">$ tar xf apr-util-1.6.1.tar.gz </span><br><span class="line">$ rm -rf apr-1.7.0.tar.gz</span><br><span class="line">$ ls</span><br><span class="line">ABOUT_APACHE     BuildBin.dsp    emacs-style     libhttpd.dsp   README.cmake</span><br><span class="line">acinclude.m4     buildconf       httpd.dep       libhttpd.mak   README.platforms</span><br><span class="line">Apache-apr2.dsw  CHANGES         httpd.dsp       LICENSE        ROADMAP</span><br><span class="line">Apache.dsw       CMakeLists.txt  httpd.mak       Makefile.in    server</span><br><span class="line">apache_probes.d  config.layout   httpd.spec      Makefile.win   srclib</span><br><span class="line">ap.d             config.log      include         modules        support</span><br><span class="line">apr-1.7.0        config.nice     INSTALL         NOTICE         <span class="built_in">test</span></span><br><span class="line">apr-util-1.6.1   configure       InstallBin.dsp  NWGNUmakefile  VERSIONING</span><br><span class="line">build            configure.in    LAYOUT          os</span><br><span class="line">BuildAll.dsp     docs</span><br><span class="line"></span><br><span class="line">$ mv apr-1.7.0 apr</span><br><span class="line">$ mv apr-util-1.6.1 apr-util</span><br><span class="line">$ ls</span><br><span class="line">ABOUT_APACHE     BuildBin.dsp    emacs-style     libhttpd.dsp   README.cmake</span><br><span class="line">acinclude.m4     buildconf       httpd.dep       libhttpd.mak   README.platforms</span><br><span class="line">Apache-apr2.dsw  CHANGES         httpd.dsp       LICENSE        ROADMAP</span><br><span class="line">Apache.dsw       CMakeLists.txt  httpd.mak       Makefile.in    server</span><br><span class="line">apache_probes.d  config.layout   httpd.spec      Makefile.win   srclib</span><br><span class="line">ap.d             config.log      include         modules        support</span><br><span class="line">apr              config.nice     INSTALL         NOTICE         <span class="built_in">test</span></span><br><span class="line">apr-util         configure       InstallBin.dsp  NWGNUmakefile  VERSIONING</span><br><span class="line">build            configure.in    LAYOUT          os</span><br><span class="line">BuildAll.dsp     docs            libhttpd.dep    README</span><br><span class="line"></span><br><span class="line">$ mv apr srclib</span><br><span class="line">$ mv apr-util srclib</span><br><span class="line">$ <span class="built_in">cd</span> srclib</span><br><span class="line">$ ls</span><br><span class="line">apr  apr-util  Makefile.in</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> ..</span><br><span class="line">$ ./configure --prefix=/etc/apache2</span><br></pre></td></tr></table></figure><p><strong>安装时遇到的错误2</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">configure: error: no acceptable C compiler found <span class="keyword">in</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>解决办法:安装GCC组件库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y gcc gcc-c++</span><br></pre></td></tr></table></figure><p><strong>安装时遇到的错误3</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm: cannot remove <span class="string">'libtoolT'</span>: No such file or directory</span><br></pre></td></tr></table></figure><p>解决办法：</p><p>修改<code>srclib/apr</code>下的<code>configure</code>文件</p><p>将文件中的<code>$RM &quot;$cfgfile&quot;</code>改为<code>$RM -f &quot;$cfgfile&quot;</code>即可。</p><p><strong>安装时遇到的错误4</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">configure: error: pcre-config <span class="keyword">for</span> libpcre not found. PCRE is required and available from http://pcre.org/</span><br></pre></td></tr></table></figure><p>解决办法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install pcre-devel -y</span><br></pre></td></tr></table></figure><p><strong>安装时遇到的错误5</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xml/apr_xml.c:35:19: 致命错误：expat.h：没有那个文件或目录</span><br></pre></td></tr></table></figure><p>centos编译apr-util-1.6.0出错 缺少expat.h，安装即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install expat-devel -y</span><br></pre></td></tr></table></figure><p><strong>安装时遇到的错误6</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">collect2: error: ld returned 1 <span class="built_in">exit</span> status</span><br><span class="line">make[2]: *** [htpasswd] 错误 1</span><br><span class="line">make[2]: 离开目录“/usr/<span class="built_in">local</span>/src/httpd-2.4.39/support”</span><br><span class="line">make[1]: *** [all-recursive] 错误 1</span><br><span class="line">make[1]: 离开目录“/usr/<span class="built_in">local</span>/src/httpd-2.4.39/support”</span><br><span class="line">make: *** [all-recursive] 错误 1</span><br></pre></td></tr></table></figure><p><strong>解决方法</strong></p><p>缺少了xml相关的库，需要安装libxml2-devel包。直接安装并不能解决问题，因为httpd调用的apr-util已经安装好了，但是apr-util并没有libxml2-devel包支持。</p><p>安装libxml2-devel包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y libxml2-devel</span><br></pre></td></tr></table></figure><h2 id="部分参数说明"><a href="#部分参数说明" class="headerlink" title="部分参数说明"></a>部分参数说明</h2><p>可以使用<code>./configure --help</code>来查看更多参数</p><ul><li><code>--prefix=/etc/apache2</code>表示指定安装路径为/etc/apache2,如果不指定安装路径默认安装在<code>/usr/local/apache2</code></li><li><code>--enable-deflate</code>提供对内容的压缩传输编码支持，一般html，css，js等内容的站点，使用此参数功能会大大提高传输速度，提升用户体验。在生产环境中,这是apache调优的一个重要选项之一。</li><li><code>--enable-expires</code>激活允许通过配置文件控制HTTP的“Expries:”和“Cache-Control:”头内容，即对站点图片、js、css等内容提供在客户端浏览器缓存设置在生产环境中,这是apache调优的一个重要选项之一。</li><li><code>--enable-headers</code> 提供允许对http请求头的控制</li><li><code>--enable-modules=most</code> 安装模块</li><li><code>--enable-so</code>激活apahce服务的DSO(动态共享对象)支持，即在以后可以以DSO的方式编译安装共享模块，这个模块本身不能以DSO方式编译</li><li><code>--with-mpm=worker</code> 选择apache mpm的模式为worker模式，因worker模式原理是更多的使用线程来处理请求，所以可以处理更多的并发请求，而系统资源的开销小于基于MPM prefork。如果不指定此参数，默认的模式为prefork进程模式；</li><li><code>--enable-rewrite</code> 提供基于URL规则的重写功能，提供伪静态功能使用该模块实现</li></ul><p><strong>完整参数列表</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br></pre></td><td class="code"><pre><span class="line">`configure<span class="string">' configures this package to adapt to many kinds of systems.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Usage: ./configure [OPTION]... [VAR=VALUE]...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">To assign environment variables (e.g., CC, CFLAGS...), specify them as</span></span><br><span class="line"><span class="string">VAR=VALUE.  See below for descriptions of some of the useful variables.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Defaults for the options are specified in brackets.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Configuration:</span></span><br><span class="line"><span class="string">  -h, --help              display this help and exit</span></span><br><span class="line"><span class="string">      --help=short        display options specific to this package</span></span><br><span class="line"><span class="string">      --help=recursive    display the short help of all the included packages</span></span><br><span class="line"><span class="string">  -V, --version           display version information and exit</span></span><br><span class="line"><span class="string">  -q, --quiet, --silent   do not print `checking ...'</span> messages</span><br><span class="line">      --cache-file=FILE   cache <span class="built_in">test</span> results <span class="keyword">in</span> FILE [disabled]</span><br><span class="line">  -C, --config-cache      <span class="built_in">alias</span> <span class="keyword">for</span> `--cache-file=config.cache<span class="string">'</span></span><br><span class="line"><span class="string">  -n, --no-create         do not create output files</span></span><br><span class="line"><span class="string">      --srcdir=DIR        find the sources in DIR [configure dir or `..'</span>]</span><br><span class="line"></span><br><span class="line">Installation directories:</span><br><span class="line">  --prefix=PREFIX         install architecture-independent files <span class="keyword">in</span> PREFIX</span><br><span class="line">                          [/usr/<span class="built_in">local</span>/apache2]</span><br><span class="line">  --<span class="built_in">exec</span>-prefix=EPREFIX   install architecture-dependent files <span class="keyword">in</span> EPREFIX</span><br><span class="line">                          [PREFIX]</span><br><span class="line"></span><br><span class="line">By default, `make install<span class="string">' will install all the files in</span></span><br><span class="line"><span class="string">`/usr/local/apache2/bin'</span>, `/usr/<span class="built_in">local</span>/apache2/lib<span class="string">' etc.  You can specify</span></span><br><span class="line"><span class="string">an installation prefix other than `/usr/local/apache2'</span> using `--prefix<span class="string">',</span></span><br><span class="line"><span class="string">for instance `--prefix=$HOME'</span>.</span><br><span class="line"></span><br><span class="line">For better control, use the options below.</span><br><span class="line"></span><br><span class="line">Fine tuning of the installation directories:</span><br><span class="line">  --bindir=DIR            user executables [EPREFIX/bin]</span><br><span class="line">  --sbindir=DIR           system admin executables [EPREFIX/sbin]</span><br><span class="line">  --libexecdir=DIR        program executables [EPREFIX/libexec]</span><br><span class="line">  --sysconfdir=DIR        <span class="built_in">read</span>-only single-machine data [PREFIX/etc]</span><br><span class="line">  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]</span><br><span class="line">  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]</span><br><span class="line">  --runstatedir=DIR       modifiable per-process data [LOCALSTATEDIR/run]</span><br><span class="line">  --libdir=DIR            object code libraries [EPREFIX/lib]</span><br><span class="line">  --includedir=DIR        C header files [PREFIX/include]</span><br><span class="line">  --oldincludedir=DIR     C header files <span class="keyword">for</span> non-gcc [/usr/include]</span><br><span class="line">  --datarootdir=DIR       <span class="built_in">read</span>-only arch.-independent data root [PREFIX/share]</span><br><span class="line">  --datadir=DIR           <span class="built_in">read</span>-only architecture-independent data [DATAROOTDIR]</span><br><span class="line">  --infodir=DIR           info documentation [DATAROOTDIR/info]</span><br><span class="line">  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]</span><br><span class="line">  --mandir=DIR            man documentation [DATAROOTDIR/man]</span><br><span class="line">  --docdir=DIR            documentation root [DATAROOTDIR/doc/PACKAGE]</span><br><span class="line">  --htmldir=DIR           html documentation [DOCDIR]</span><br><span class="line">  --dvidir=DIR            dvi documentation [DOCDIR]</span><br><span class="line">  --pdfdir=DIR            pdf documentation [DOCDIR]</span><br><span class="line">  --psdir=DIR             ps documentation [DOCDIR]</span><br><span class="line"></span><br><span class="line">System types:</span><br><span class="line">  --build=BUILD     configure <span class="keyword">for</span> building on BUILD [guessed]</span><br><span class="line">  --host=HOST       cross-compile to build programs to run on HOST [BUILD]</span><br><span class="line">  --target=TARGET   configure <span class="keyword">for</span> building compilers <span class="keyword">for</span> TARGET [HOST]</span><br><span class="line"></span><br><span class="line">Optional Features:</span><br><span class="line">  --<span class="built_in">disable</span>-option-checking  ignore unrecognized --<span class="built_in">enable</span>/--with options</span><br><span class="line">  --<span class="built_in">disable</span>-FEATURE       <span class="keyword">do</span> not include FEATURE (same as --<span class="built_in">enable</span>-FEATURE=no)</span><br><span class="line">  --<span class="built_in">enable</span>-FEATURE[=ARG]  include FEATURE [ARG=yes]</span><br><span class="line">  --<span class="built_in">enable</span>-layout=LAYOUT</span><br><span class="line">  --<span class="built_in">enable</span>-dtrace         Enable DTrace probes</span><br><span class="line">  --<span class="built_in">enable</span>-hook-probes    Enable APR hook probes</span><br><span class="line">  --<span class="built_in">enable</span>-exception-hook Enable fatal exception hook</span><br><span class="line">  --<span class="built_in">enable</span>-load-all-modules</span><br><span class="line">                          Load all modules</span><br><span class="line">  --<span class="built_in">enable</span>-maintainer-mode</span><br><span class="line">                          Turn on debugging and compile time warnings and load</span><br><span class="line">                          all compiled modules</span><br><span class="line">  --<span class="built_in">enable</span>-debugger-mode  Turn on debugging and compile time warnings and turn</span><br><span class="line">                          off optimization</span><br><span class="line">  --<span class="built_in">enable</span>-pie            Build httpd as a Position Independent Executable</span><br><span class="line">  --<span class="built_in">enable</span>-modules=MODULE-LIST</span><br><span class="line">                          Space-separated list of modules to <span class="built_in">enable</span> | <span class="string">"all"</span> |</span><br><span class="line">                          <span class="string">"most"</span> | <span class="string">"few"</span> | <span class="string">"none"</span> | <span class="string">"reallyall"</span></span><br><span class="line">  --<span class="built_in">enable</span>-mods-shared=MODULE-LIST</span><br><span class="line">                          Space-separated list of shared modules to <span class="built_in">enable</span> |</span><br><span class="line">                          <span class="string">"all"</span> | <span class="string">"most"</span> | <span class="string">"few"</span> | <span class="string">"reallyall"</span></span><br><span class="line">  --<span class="built_in">enable</span>-mods-static=MODULE-LIST</span><br><span class="line">                          Space-separated list of static modules to <span class="built_in">enable</span> |</span><br><span class="line">                          <span class="string">"all"</span> | <span class="string">"most"</span> | <span class="string">"few"</span> | <span class="string">"reallyall"</span></span><br><span class="line">  --<span class="built_in">disable</span>-authn-file    file-based authentication control</span><br><span class="line">  --<span class="built_in">enable</span>-authn-dbm      DBM-based authentication control</span><br><span class="line">  --<span class="built_in">enable</span>-authn-anon     anonymous user authentication control</span><br><span class="line">  --<span class="built_in">enable</span>-authn-dbd      SQL-based authentication control</span><br><span class="line">  --<span class="built_in">enable</span>-authn-socache  Cached authentication control</span><br><span class="line">  --<span class="built_in">disable</span>-authn-core    core authentication module</span><br><span class="line">  --<span class="built_in">disable</span>-authz-host    host-based authorization control</span><br><span class="line">  --<span class="built_in">disable</span>-authz-groupfile</span><br><span class="line">                          <span class="string">'require group'</span> authorization control</span><br><span class="line">  --<span class="built_in">disable</span>-authz-user    <span class="string">'require user'</span> authorization control</span><br><span class="line">  --<span class="built_in">enable</span>-authz-dbm      DBM-based authorization control</span><br><span class="line">  --<span class="built_in">enable</span>-authz-owner    <span class="string">'require file-owner'</span> authorization control</span><br><span class="line">  --<span class="built_in">enable</span>-authz-dbd      SQL based authorization and Login/Session support</span><br><span class="line">  --<span class="built_in">disable</span>-authz-core    core authorization provider vector module</span><br><span class="line">  --<span class="built_in">enable</span>-authnz-ldap    LDAP based authentication</span><br><span class="line">  --<span class="built_in">enable</span>-authnz-fcgi    FastCGI authorizer-based authentication and</span><br><span class="line">                          authorization</span><br><span class="line">  --<span class="built_in">disable</span>-access-compat mod_access compatibility</span><br><span class="line">  --<span class="built_in">disable</span>-auth-basic    basic authentication</span><br><span class="line">  --<span class="built_in">enable</span>-auth-form      form authentication</span><br><span class="line">  --<span class="built_in">enable</span>-auth-digest    RFC2617 Digest authentication</span><br><span class="line">  --<span class="built_in">enable</span>-allowmethods   restrict allowed HTTP methods</span><br><span class="line">  --<span class="built_in">enable</span>-isapi          isapi extension support</span><br><span class="line">  --<span class="built_in">enable</span>-file-cache     File cache</span><br><span class="line">  --<span class="built_in">enable</span>-cache          dynamic file caching. At least one storage</span><br><span class="line">                          management module (e.g. mod_cache_disk) is also</span><br><span class="line">                          necessary.</span><br><span class="line">  --<span class="built_in">enable</span>-cache-disk     disk caching module</span><br><span class="line">  --<span class="built_in">enable</span>-cache-socache  shared object caching module</span><br><span class="line">  --<span class="built_in">enable</span>-socache-shmcb  shmcb small object cache provider</span><br><span class="line">  --<span class="built_in">enable</span>-socache-dbm    dbm small object cache provider</span><br><span class="line">  --<span class="built_in">enable</span>-socache-memcache</span><br><span class="line">                          memcache small object cache provider</span><br><span class="line">  --<span class="built_in">enable</span>-socache-redis  redis small object cache provider</span><br><span class="line">  --<span class="built_in">enable</span>-socache-dc     distcache small object cache provider</span><br><span class="line">  --<span class="built_in">enable</span>-so             DSO capability. This module will be automatically</span><br><span class="line">                          enabled unless you build all modules statically.</span><br><span class="line">  --<span class="built_in">enable</span>-watchdog       Watchdog module</span><br><span class="line">  --<span class="built_in">enable</span>-macro          Define and use macros <span class="keyword">in</span> configuration files</span><br><span class="line">  --<span class="built_in">enable</span>-dbd            Apache DBD Framework</span><br><span class="line">  --<span class="built_in">enable</span>-bucketeer      buckets manipulation filter. Useful only <span class="keyword">for</span></span><br><span class="line">                          developers and testing purposes.</span><br><span class="line">  --<span class="built_in">enable</span>-dumpio         I/O dump filter</span><br><span class="line">  --<span class="built_in">enable</span>-echo           ECHO server</span><br><span class="line">  --<span class="built_in">enable</span>-example-hooks  Example hook callback handler module</span><br><span class="line">  --<span class="built_in">enable</span>-case-filter    Example uppercase conversion filter</span><br><span class="line">  --<span class="built_in">enable</span>-case-filter-in Example uppercase conversion input filter</span><br><span class="line">  --<span class="built_in">enable</span>-example-ipc    Example of shared memory and mutex usage</span><br><span class="line">  --<span class="built_in">enable</span>-buffer         Filter Buffering</span><br><span class="line">  --<span class="built_in">enable</span>-data           RFC2397 data encoder</span><br><span class="line">  --<span class="built_in">enable</span>-ratelimit      Output Bandwidth Limiting</span><br><span class="line">  --<span class="built_in">disable</span>-reqtimeout    Limit time waiting <span class="keyword">for</span> request from client</span><br><span class="line">  --<span class="built_in">enable</span>-ext-filter     external filter module</span><br><span class="line">  --<span class="built_in">enable</span>-request        Request Body Filtering</span><br><span class="line">  --<span class="built_in">enable</span>-include        Server Side Includes</span><br><span class="line">  --<span class="built_in">disable</span>-filter        Smart Filtering</span><br><span class="line">  --<span class="built_in">enable</span>-reflector      Reflect request through the output filter stack</span><br><span class="line">  --<span class="built_in">enable</span>-substitute     response content rewrite-like filtering</span><br><span class="line">  --<span class="built_in">enable</span>-sed            filter request and/or response bodies through sed</span><br><span class="line">  --<span class="built_in">disable</span>-charset-lite  character <span class="built_in">set</span> translation. Enabled by default only</span><br><span class="line">                          on EBCDIC systems.</span><br><span class="line">  --<span class="built_in">enable</span>-charset-lite   character <span class="built_in">set</span> translation. Enabled by default only</span><br><span class="line">                          on EBCDIC systems.</span><br><span class="line">  --<span class="built_in">enable</span>-deflate        Deflate transfer encoding support</span><br><span class="line">  --<span class="built_in">enable</span>-xml2enc        i18n support <span class="keyword">for</span> markup filters</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-html     Fix HTML Links <span class="keyword">in</span> a Reverse Proxy</span><br><span class="line">  --<span class="built_in">enable</span>-brotli         Brotli compression support</span><br><span class="line">  --<span class="built_in">enable</span>-http           HTTP protocol handling. The http module is a basic</span><br><span class="line">                          one that enables the server to <span class="keyword">function</span> as an HTTP</span><br><span class="line">                          server. It is only useful to <span class="built_in">disable</span> it <span class="keyword">if</span> you want</span><br><span class="line">                          to use another protocol module instead. Don<span class="string">'t</span></span><br><span class="line"><span class="string">                          disable this module unless you are really sure what</span></span><br><span class="line"><span class="string">                          you are doing. Note: This module will always be</span></span><br><span class="line"><span class="string">                          linked statically.</span></span><br><span class="line"><span class="string">  --disable-mime          mapping of file-extension to MIME. Disabling this</span></span><br><span class="line"><span class="string">                          module is normally not recommended.</span></span><br><span class="line"><span class="string">  --enable-ldap           LDAP caching and connection pooling services</span></span><br><span class="line"><span class="string">  --disable-log-config    logging configuration. You won'</span>t be able to <span class="built_in">log</span></span><br><span class="line">                          requests to the server without this module.</span><br><span class="line">  --<span class="built_in">enable</span>-log-debug      configurable debug logging</span><br><span class="line">  --<span class="built_in">enable</span>-log-forensic   forensic logging</span><br><span class="line">  --<span class="built_in">enable</span>-logio          input and output logging</span><br><span class="line">  --<span class="built_in">enable</span>-lua            Apache Lua Framework</span><br><span class="line">  --<span class="built_in">enable</span>-luajit         Enable LuaJit Support</span><br><span class="line">  --<span class="built_in">disable</span>-env           clearing/setting of ENV vars</span><br><span class="line">  --<span class="built_in">enable</span>-mime-magic     automagically determining MIME <span class="built_in">type</span></span><br><span class="line">  --<span class="built_in">enable</span>-cern-meta      CERN-type meta files</span><br><span class="line">  --<span class="built_in">enable</span>-expires        Expires header control</span><br><span class="line">  --<span class="built_in">disable</span>-headers       HTTP header control</span><br><span class="line">  --<span class="built_in">enable</span>-ident          RFC 1413 identity check</span><br><span class="line">  --<span class="built_in">enable</span>-usertrack      user-session tracking</span><br><span class="line">  --<span class="built_in">enable</span>-unique-id      per-request unique ids</span><br><span class="line">  --<span class="built_in">disable</span>-setenvif      basing ENV vars on headers</span><br><span class="line">  --<span class="built_in">disable</span>-version       determining httpd version <span class="keyword">in</span> config files</span><br><span class="line">  --<span class="built_in">enable</span>-remoteip       translate header contents to an apparent client</span><br><span class="line">                          remote_ip</span><br><span class="line">  --<span class="built_in">enable</span>-proxy          Apache proxy module</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-connect  Apache proxy CONNECT module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-ftp      Apache proxy FTP module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-http     Apache proxy HTTP module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-fcgi     Apache proxy FastCGI module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-scgi     Apache proxy SCGI module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-uwsgi    Apache proxy UWSGI module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-fdpass   Apache proxy to Unix Daemon Socket module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-wstunnel Apache proxy Websocket Tunnel module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-ajp      Apache proxy AJP module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-balancer Apache proxy BALANCER module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-express  mass reverse-proxy module. Requires --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-hcheck   reverse-proxy health-check module. Requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy and --<span class="built_in">enable</span>-watchdog.</span><br><span class="line">  --<span class="built_in">enable</span>-session        session module</span><br><span class="line">  --<span class="built_in">enable</span>-session-cookie session cookie module</span><br><span class="line">  --<span class="built_in">enable</span>-session-crypto session crypto module</span><br><span class="line">  --<span class="built_in">enable</span>-session-dbd    session dbd module</span><br><span class="line">  --<span class="built_in">enable</span>-slotmem-shm    slotmem provider that uses shared memory</span><br><span class="line">  --<span class="built_in">enable</span>-slotmem-plain  slotmem provider that uses plain memory</span><br><span class="line">  --<span class="built_in">enable</span>-ssl            SSL/TLS support (mod_ssl)</span><br><span class="line">  --<span class="built_in">enable</span>-ssl-staticlib-deps</span><br><span class="line">                          link mod_ssl with dependencies of OpenSSL<span class="string">'s static</span></span><br><span class="line"><span class="string">                          libraries (as indicated by "pkg-config --static").</span></span><br><span class="line"><span class="string">                          Must be specified in addition to --enable-ssl.</span></span><br><span class="line"><span class="string">  --enable-optional-hook-export</span></span><br><span class="line"><span class="string">                          example optional hook exporter</span></span><br><span class="line"><span class="string">  --enable-optional-hook-import</span></span><br><span class="line"><span class="string">                          example optional hook importer</span></span><br><span class="line"><span class="string">  --enable-optional-fn-import</span></span><br><span class="line"><span class="string">                          example optional function importer</span></span><br><span class="line"><span class="string">  --enable-optional-fn-export</span></span><br><span class="line"><span class="string">                          example optional function exporter</span></span><br><span class="line"><span class="string">  --enable-dialup         rate limits static files to dialup modem speeds</span></span><br><span class="line"><span class="string">  --enable-static-support Build a statically linked version of the support</span></span><br><span class="line"><span class="string">                          binaries</span></span><br><span class="line"><span class="string">  --enable-static-htpasswd</span></span><br><span class="line"><span class="string">                          Build a statically linked version of htpasswd</span></span><br><span class="line"><span class="string">  --enable-static-htdigest</span></span><br><span class="line"><span class="string">                          Build a statically linked version of htdigest</span></span><br><span class="line"><span class="string">  --enable-static-rotatelogs</span></span><br><span class="line"><span class="string">                          Build a statically linked version of rotatelogs</span></span><br><span class="line"><span class="string">  --enable-static-logresolve</span></span><br><span class="line"><span class="string">                          Build a statically linked version of logresolve</span></span><br><span class="line"><span class="string">  --enable-static-htdbm   Build a statically linked version of htdbm</span></span><br><span class="line"><span class="string">  --enable-static-ab      Build a statically linked version of ab</span></span><br><span class="line"><span class="string">  --enable-static-checkgid</span></span><br><span class="line"><span class="string">                          Build a statically linked version of checkgid</span></span><br><span class="line"><span class="string">  --enable-static-htcacheclean</span></span><br><span class="line"><span class="string">                          Build a statically linked version of htcacheclean</span></span><br><span class="line"><span class="string">  --enable-static-httxt2dbm</span></span><br><span class="line"><span class="string">                          Build a statically linked version of httxt2dbm</span></span><br><span class="line"><span class="string">  --enable-static-fcgistarter</span></span><br><span class="line"><span class="string">                          Build a statically linked version of fcgistarter</span></span><br><span class="line"><span class="string">  --enable-http2          HTTP/2 protocol handling in addition to HTTP</span></span><br><span class="line"><span class="string">                          protocol handling. Implemented by mod_http2. This</span></span><br><span class="line"><span class="string">                          module requires a libnghttp2 installation. See</span></span><br><span class="line"><span class="string">                          --with-nghttp2 on how to manage non-standard</span></span><br><span class="line"><span class="string">                          locations. This module is usually linked shared and</span></span><br><span class="line"><span class="string">                          requires loading.</span></span><br><span class="line"><span class="string">  --enable-nghttp2-staticlib-deps</span></span><br><span class="line"><span class="string">                          link mod_http2 with dependencies of libnghttp2'</span>s</span><br><span class="line">                          static libraries (as indicated by <span class="string">"pkg-config</span></span><br><span class="line"><span class="string">                          --static"</span>). Must be specified <span class="keyword">in</span> addition to</span><br><span class="line">                          --<span class="built_in">enable</span>-http2.</span><br><span class="line">  --<span class="built_in">enable</span>-proxy-http2    HTTP/2 proxy module. This module requires a</span><br><span class="line">                          libnghttp2 installation. See --with-nghttp2 on how</span><br><span class="line">                          to manage non-standard locations. Also requires</span><br><span class="line">                          --<span class="built_in">enable</span>-proxy.</span><br><span class="line">  --<span class="built_in">enable</span>-md             Managed Domain handling</span><br><span class="line">  --<span class="built_in">enable</span>-jansson-staticlib-deps</span><br><span class="line">                          link mod_md with dependencies of libjansson<span class="string">'s static</span></span><br><span class="line"><span class="string">                          libraries (as indicated by "pkg-config --static").</span></span><br><span class="line"><span class="string">                          Must be specified in addition to --enable-md.</span></span><br><span class="line"><span class="string">  --enable-curl-staticlib-deps</span></span><br><span class="line"><span class="string">                          link mod_md with dependencies of libcurl'</span>s static</span><br><span class="line">                          libraries (as indicated by <span class="string">"pkg-config --static"</span>).</span><br><span class="line">                          Must be specified <span class="keyword">in</span> addition to --<span class="built_in">enable</span>-md.</span><br><span class="line">  --<span class="built_in">enable</span>-lbmethod-byrequests</span><br><span class="line">                          Apache proxy Load balancing by request counting</span><br><span class="line">  --<span class="built_in">enable</span>-lbmethod-bytraffic</span><br><span class="line">                          Apache proxy Load balancing by traffic counting</span><br><span class="line">  --<span class="built_in">enable</span>-lbmethod-bybusyness</span><br><span class="line">                          Apache proxy Load balancing by busyness</span><br><span class="line">  --<span class="built_in">enable</span>-lbmethod-heartbeat</span><br><span class="line">                          Apache proxy Load balancing from Heartbeats</span><br><span class="line">  --<span class="built_in">enable</span>-mpms-shared=MPM-LIST</span><br><span class="line">                          Space-separated list of MPM modules to <span class="built_in">enable</span> <span class="keyword">for</span></span><br><span class="line">                          dynamic loading. MPM-LIST=list | <span class="string">"all"</span></span><br><span class="line">  --<span class="built_in">enable</span>-unixd          unix specific support</span><br><span class="line">  --<span class="built_in">enable</span>-privileges     Per-virtualhost Unix UserIDs and enhanced security</span><br><span class="line">                          <span class="keyword">for</span> Solaris</span><br><span class="line">  --<span class="built_in">enable</span>-heartbeat      Generates Heartbeats</span><br><span class="line">  --<span class="built_in">enable</span>-heartmonitor   Collects Heartbeats</span><br><span class="line">  --<span class="built_in">enable</span>-dav            WebDAV protocol handling. --<span class="built_in">enable</span>-dav also enables</span><br><span class="line">                          mod_dav_fs</span><br><span class="line">  --<span class="built_in">disable</span>-status        process/thread monitoring</span><br><span class="line">  --<span class="built_in">disable</span>-autoindex     directory listing</span><br><span class="line">  --<span class="built_in">enable</span>-asis           as-is filetypes</span><br><span class="line">  --<span class="built_in">enable</span>-info           server information</span><br><span class="line">  --<span class="built_in">enable</span>-suexec         <span class="built_in">set</span> uid and gid <span class="keyword">for</span> spawned processes</span><br><span class="line">  --<span class="built_in">enable</span>-cgid           CGI scripts. Enabled by default with threaded MPMs</span><br><span class="line">  --<span class="built_in">enable</span>-cgi            CGI scripts. Enabled by default with non-threaded</span><br><span class="line">                          MPMs</span><br><span class="line">  --<span class="built_in">enable</span>-dav-fs         DAV provider <span class="keyword">for</span> the filesystem. --<span class="built_in">enable</span>-dav also</span><br><span class="line">                          enables mod_dav_fs.</span><br><span class="line">  --<span class="built_in">enable</span>-dav-lock       DAV provider <span class="keyword">for</span> generic locking</span><br><span class="line">  --<span class="built_in">enable</span>-vhost-alias    mass virtual hosting module</span><br><span class="line">  --<span class="built_in">enable</span>-negotiation    content negotiation</span><br><span class="line">  --<span class="built_in">disable</span>-dir           directory request handling</span><br><span class="line">  --<span class="built_in">enable</span>-imagemap       server-side imagemaps</span><br><span class="line">  --<span class="built_in">enable</span>-actions        Action triggering on requests</span><br><span class="line">  --<span class="built_in">enable</span>-speling        correct common URL misspellings</span><br><span class="line">  --<span class="built_in">enable</span>-userdir        mapping of requests to user-specific directories</span><br><span class="line">  --<span class="built_in">disable</span>-alias         mapping of requests to different filesystem parts</span><br><span class="line">  --<span class="built_in">enable</span>-rewrite        rule based URL manipulation</span><br><span class="line">  --<span class="built_in">enable</span>-suexec-capabilities</span><br><span class="line">                          Use Linux capability bits not setuid root suexec</span><br><span class="line">  --<span class="built_in">enable</span>-v4-mapped      Allow IPv6 sockets to handle IPv4 connections</span><br><span class="line"></span><br><span class="line">Optional Packages:</span><br><span class="line">  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]</span><br><span class="line">  --without-PACKAGE       <span class="keyword">do</span> not use PACKAGE (same as --with-PACKAGE=no)</span><br><span class="line">  --with-included-apr     Use bundled copies of APR/APR-Util</span><br><span class="line">  --with-apr=PATH         prefix <span class="keyword">for</span> installed APR or the full path to</span><br><span class="line">                             apr-config</span><br><span class="line">  --with-apr-util=PATH    prefix <span class="keyword">for</span> installed APU or the full path to</span><br><span class="line">                             apu-config</span><br><span class="line">  --with-pcre=PATH        Use external PCRE library</span><br><span class="line">  --with-port=PORT        Port on <span class="built_in">which</span> to listen (default is 80)</span><br><span class="line">  --with-sslport=SSLPORT  Port on <span class="built_in">which</span> to securelisten (default is 443)</span><br><span class="line">  --with-distcache=PATH   Distcache installation directory</span><br><span class="line">  --with-z=PATH           use a specific zlib library</span><br><span class="line">  --with-libxml2=PATH     location <span class="keyword">for</span> libxml2</span><br><span class="line">  --with-brotli=PATH      Brotli installation directory</span><br><span class="line">  --with-lua=PATH         Path to the Lua 5.3/5.2/5.1 prefix</span><br><span class="line">  --with-ssl=PATH         OpenSSL installation directory</span><br><span class="line">  --with-nghttp2=PATH     nghttp2 installation directory</span><br><span class="line">  --with-jansson=PATH     jansson installation directory</span><br><span class="line">  --with-curl=PATH        curl installation directory</span><br><span class="line">  --with-mpm=MPM          Choose the process model <span class="keyword">for</span> Apache to use by</span><br><span class="line">                          default. MPM=&#123;event|worker|prefork|winnt&#125; This will</span><br><span class="line">                          be statically linked as the only available MPM</span><br><span class="line">                          unless --<span class="built_in">enable</span>-mpms-shared is also specified.</span><br><span class="line">  --with-module=module-type:module-file</span><br><span class="line">                          Enable module-file <span class="keyword">in</span> the modules/&lt;module-type&gt;</span><br><span class="line">                          directory.</span><br><span class="line">  --with-program-name     alternate executable name</span><br><span class="line">  --with-suexec-bin       Path to suexec binary</span><br><span class="line">  --with-suexec-caller    User allowed to call SuExec</span><br><span class="line">  --with-suexec-userdir   User subdirectory</span><br><span class="line">  --with-suexec-docroot   SuExec root directory</span><br><span class="line">  --with-suexec-uidmin    Minimal allowed UID</span><br><span class="line">  --with-suexec-gidmin    Minimal allowed GID</span><br><span class="line">  --with-suexec-logfile   Set the logfile</span><br><span class="line">  --with-suexec-syslog    Use syslog <span class="keyword">for</span> suexec logging</span><br><span class="line">  --with-suexec-safepath  Set the safepath</span><br><span class="line">  --with-suexec-umask     <span class="built_in">umask</span> <span class="keyword">for</span> suexec<span class="string">'d process</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Some influential environment variables:</span></span><br><span class="line"><span class="string">  CC          C compiler command</span></span><br><span class="line"><span class="string">  CFLAGS      C compiler flags</span></span><br><span class="line"><span class="string">  LDFLAGS     linker flags, e.g. -L&lt;lib dir&gt; if you have libraries in a</span></span><br><span class="line"><span class="string">              nonstandard directory &lt;lib dir&gt;</span></span><br><span class="line"><span class="string">  LIBS        libraries to pass to the linker, e.g. -l&lt;library&gt;</span></span><br><span class="line"><span class="string">  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I&lt;include dir&gt; if</span></span><br><span class="line"><span class="string">              you have headers in a nonstandard directory &lt;include dir&gt;</span></span><br><span class="line"><span class="string">  CPP         C preprocessor</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Use these variables to override the choices made by `configure'</span> or to <span class="built_in">help</span></span><br><span class="line">it to find libraries and programs with nonstandard names/locations.</span><br><span class="line"></span><br><span class="line">Report bugs to the package provider.</span><br></pre></td></tr></table></figure><h1 id="安装Mysql5-7"><a href="#安装Mysql5-7" class="headerlink" title="安装Mysql5.7"></a>安装Mysql5.7</h1><p>本博客下参考链接：<br><a href="https://hackycy.github.io/2018/09/07/Centos7%E5%AE%89%E8%A3%85Mysql5-7/">https://hackycy.github.io/2018/09/07/Centos7%E5%AE%89%E8%A3%85Mysql5-7/</a></p><h1 id="安装PHP5-6"><a href="#安装PHP5-6" class="headerlink" title="安装PHP5.6"></a>安装PHP5.6</h1><h2 id="Yum源安装"><a href="#Yum源安装" class="headerlink" title="Yum源安装"></a>Yum源安装</h2><p>查看Centos中是否有旧版本的PHP，如果有先进行卸载。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -qa | grep php</span><br><span class="line"></span><br><span class="line">php-common-5.4.16-46.el7.x86_64</span><br><span class="line">php-cli-5.4.16-46.el7.x86_64</span><br><span class="line">php-mysql-5.4.16-46.el7.x86_64</span><br><span class="line">php-pdo-5.4.16-46.el7.x86_64</span><br><span class="line">php-5.4.16-46.el7.x86_64</span><br></pre></td></tr></table></figure><p>然后使用<code>rpm -e</code>命令进行卸载</p><blockquote><p>如果包有依赖关系，所以卸载的顺序可按照提示现行卸载</p></blockquote><p>使用yum来安装php-fpm和比较新版本的php,nginx,MySQL-server的话， 首先得给yum添加几个源，CentOS默认的源里面软件比较旧，有些软件、库还没有。</p><p>需要先添加rpm源,php5.6可用第三方源：</p><p><code>rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</code></p><p><strong>安装php及其扩展</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install -y php56w.x86_64 php56w-cli.x86_64 php56w-common.x86_64 php56w-gd.x86_64 php56w-ldap.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-mysql.x86_64 php56w-pdo.x86_64 php56w-fpm</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y php56w.x86_64  php56w-bcmath.x86_64 php56w-common.x86_64  php56w-dba.x86_64 php56w-devel.x86_64 php56w-embedded.x86_64 php56w-enchant.x86_64 php56w-gd.x86_64 php56w-imap.x86_64 php56w-interbase.x86_64 php56w-interbase.x86_64 php56w-ldap.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-pdo.x86_64  php56w-mysql.x86_64 php56w-odbc.x86_64  php56w-opcache.x86_64 php56w-pecl-apcu.x86_64 php56w-phpdbg.x86_64 php56w-process.x86_64 php56w-xml.x86_64 php56w-pecl-imagick.x86_64</span><br></pre></td></tr></table></figure><p>php配置文件路径为<code>/etc/php.ini</code>。</p><p>也可以使用脚本查找</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo find / -name <span class="string">'php.ini'</span></span><br></pre></td></tr></table></figure><p>安装完毕后<code>php -v</code>查看版本。如果想安装5.5或者7.0版本则直接替换数字即可</p><p>例如：php7.0</p><p>yum源<code>rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install php70w.x86_64 php70w-cli.x86_64 php70w-common.x86_64 php70w-gd.x86_64 php70w-ldap.x86_64 php70w-mbstring.x86_64 php70w-mcrypt.x86_64 php70w-mysql.x86_64 php70w-pdo.x86_64 php70w-fpm</span><br></pre></td></tr></table></figure><p><strong>如果出现以下错误</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">error: Failed dependencies:</span><br><span class="line"></span><br><span class="line">epel-release &gt;= 7 is needed by webtatic-release-7-3.noarch</span><br></pre></td></tr></table></figure><p>则先安装<code>epel-release</code>,安装命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -ivh http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm</span><br></pre></td></tr></table></figure><h2 id="编译安装-1"><a href="#编译安装-1" class="headerlink" title="编译安装"></a>编译安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ yum install gcc -y</span><br><span class="line">$ yum install zlib zlib-dev -y</span><br><span class="line">$ yum install xml2 xml2-dev -y</span><br></pre></td></tr></table></figure><blockquote><p>PHP有两个库必须安装: zlib, xml2<br>编译安装:</p><ol><li>下载 zlib.tar.gz, xml2.tar.gz (忽略了版本号)</li><li>解压<br>tar -zxvf zlib.tar.gz<br>tar -zxvf xml.tar.gz</li><li>进入解压后的目录执行 ./configure –prefix=/usr/local<br>(安装目录默认可以不指定, 相关库会进去 /usr/local/include, /usr/local/lib, /usr/local/bin)</li><li>安装  make &amp;&amp; make install</li></ol></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /usr/src</span><br><span class="line">$ wget https://www.php.net/distributions/php-7.1.29.tar.gz</span><br><span class="line">$ <span class="built_in">cd</span> php-7.1.29</span><br><span class="line">$ ./configure </span><br><span class="line">$ make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>编译安装完成之后,需要从解压后的文件夹中把php.ini-development 或是 php.ini-production 重命名成php.ini 复制到php安装文件中的相应位置,可在phpinfo中查看 相应位置.把/usr/local/php/etc/php-fpm.conf.default  复制到当前文件夹下,保存未php-fpm.conf</p></blockquote><p>参数介绍</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">--prefix=/usr/local/php                      //指定 php 安装目录 </span><br><span class="line">--with-apxs2=/usr/local/apache/bin/apxs      //整合apache，</span><br><span class="line">                        //apxs功能是使用mod_so中的LoadModule指令，</span><br><span class="line">                       //加载指定模块到 apache，要求 apache 要打开SO模块</span><br><span class="line">--with-config-file-path=/usr/local/php/etc    //指定php.ini位置</span><br><span class="line">--with-MySQL=/usr/local/mysql                 //mysql安装目录，对mysql的支持</span><br><span class="line">--with-mysqli=/usr/local/mysql/bin/mysql_config</span><br><span class="line">                      //mysqli扩展技术不仅可以调用MySQL的存储过程、处理MySQL事务，</span><br><span class="line">                      //而且还可以使访问数据库工作变得更加稳定。</span><br><span class="line">--enable-safe-mode    //打开安全模式 </span><br><span class="line">--enable-ftp          //打开ftp的支持 </span><br><span class="line">--enable-zip          //打开对zip的支持 </span><br><span class="line"></span><br><span class="line">--with-bz2            //打开对bz2文件的支持 </span><br><span class="line">--with-jpeg-dir       //打开对jpeg图片的支持 </span><br><span class="line">--with-png-dir        //打开对png图片的支持 </span><br><span class="line">--with-freetype-dir   //打开对freetype字体库的支持 </span><br><span class="line">--without-iconv       //关闭iconv函数，各种字符集间的转换 </span><br><span class="line">--with-libXML-dir     //打开libxml2库的支持 </span><br><span class="line">--with-XMLrpc         //打开xml-rpc的c语言 </span><br><span class="line">--with-zlib-dir       //打开zlib库的支持 </span><br><span class="line">--with-gd             //打开gd库的支持 </span><br><span class="line">--enable-gd-native-ttf //支持TrueType字符串函数库 </span><br><span class="line">--with-curl            //打开curl浏览工具的支持 </span><br><span class="line">--with-curlwrappers    //运用curl工具打开url流 </span><br><span class="line">--with-ttf             //打开freetype1.*的支持，可以不加了 </span><br><span class="line">--with-xsl             //打开XSLT 文件支持，扩展了libXML2库 ，需要libxslt软件 </span><br><span class="line">--with-gettext         //打开gnu 的gettext 支持，编码库用到 </span><br><span class="line">--with-pear            //打开pear命令的支持，PHP扩展用的 </span><br><span class="line">--enable-calendar      //打开日历扩展功能 </span><br><span class="line">--enable-mbstring      //多字节，字符串的支持 </span><br><span class="line">--enable-bcmath        //打开图片大小调整,用到zabbix监控的时候用到了这个模块</span><br><span class="line">--enable-sockets       //打开 sockets 支持</span><br><span class="line">--enable-exif          //图片的元数据支持 </span><br><span class="line">--enable-magic-quotes  //魔术引用的支持 </span><br><span class="line">--disable-rpath        //关闭额外的运行库文件 </span><br><span class="line">--disable-debug        //关闭调试模式 </span><br><span class="line">--with-mime-magic=/usr/share/file/magic.mime  //魔术头文件位置</span><br></pre></td></tr></table></figure><p>CGI方式安装才用的参数:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">--enable-fpm                 //打上PHP-fpm 补丁后才有这个参数，CGI方式安装的启动程序</span><br><span class="line">--enable-fastCGI             //支持fastcgi方式启动PHP</span><br><span class="line">--enable-force-CGI-redirect  //重定向方式启动PHP</span><br><span class="line">--with-ncurses         //支持ncurses 屏幕绘制以及基于文本终端的图形互动功能的动态库</span><br><span class="line">--enable-pcntl         //freeTDS需要用到的，可能是链接mssql 才用到</span><br><span class="line">--with-mcrypt          //mcrypt算法的扩展</span><br><span class="line">--with-mhash           //mhash算法的扩展</span><br><span class="line"></span><br><span class="line">//以上函数库需要安装</span><br><span class="line"></span><br><span class="line">--with-gmp                     //应该是支持一种规范</span><br><span class="line">--enable-inline-optimization   //优化线程</span><br><span class="line">--with-openssl                 //openssl的支持，加密传输时用到的</span><br><span class="line">--enable-dbase                 //建立DBA 作为共享模块</span><br><span class="line">--with-pcre-dir=/usr/local/bin/pcre-config       //perl的正则库案安装位置</span><br><span class="line">--disable-dmalloc</span><br><span class="line">--with-gdbm            //dba的gdbm支持</span><br><span class="line">--enable-sigchild</span><br><span class="line">--enable-sysvsem</span><br><span class="line">--enable-sysvshm</span><br><span class="line">--enable-zend-multibyte  //支持zend的多字节</span><br><span class="line">--enable-mbregex</span><br><span class="line">--enable-wddx</span><br><span class="line">--enable-shmop</span><br><span class="line">--enable-soap</span><br></pre></td></tr></table></figure><p><strong>注意事项</strong></p><ul><li>指定了–with-apxs2=/usr/local/apache/bin/apxs以后，就不要再激活–enable-fpm和–enable-fastCGI，apxs是以php module的模式加载PHP的。</li><li>Mysql在编译了Mysql开发library以后，可以不用指定mysql的路径。</li><li>PHP编译存在基础的依赖的关系，编译PHP首先需要安装XML扩展，因为php5核心默认打开了XML的支持，其他的基础库，相应需要：GD -&gt; zlib, Png, Jpg, 如果需要支持其他，仍需要根据实际情况编译扩展库，ttf库需要freetype库的支持。</li><li>–enable-magic-quotes，是一个极其不推荐的参数，当然，如果你需要PHP为你做这些底下的工作，实际上他也没有很彻底的解决问题</li><li>需要单独安装的扩展<ul><li>gd库</li><li>ming的扩展</li><li>mhash和mcrypt的扩展</li></ul></li><li>apache 模块:–with-apache=DIR</li><li>正则表达式程序库: –with-system-regex</li></ul><p><a href="https://blog.51cto.com/wanwentao/647585" target="_blank" rel="noopener">https://blog.51cto.com/wanwentao/647585</a></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://blog.csdn.net/anycodes/article/details/11708479" target="_blank" rel="noopener">https://blog.csdn.net/anycodes/article/details/11708479</a></p><p><a href="https://blog.csdn.net/liubag/article/details/53138366" target="_blank" rel="noopener">https://blog.csdn.net/liubag/article/details/53138366</a></p><p><a href="https://blog.csdn.net/PP0897/article/details/56276690" target="_blank" rel="noopener">https://blog.csdn.net/PP0897/article/details/56276690</a></p><p><a href="https://blog.exfast.me/2016/05/centos-install-7-x-lamp-environment-linux-apache-mariadb-php/" target="_blank" rel="noopener">https://blog.exfast.me/2016/05/centos-install-7-x-lamp-environment-linux-apache-mariadb-php/</a></p><p><a href="https://blog.csdn.net/c1520006273/article/details/50491595" target="_blank" rel="noopener">https://blog.csdn.net/c1520006273/article/details/50491595</a></p><p><a href="https://unix.stackexchange.com/questions/66692/apache-installation-configuration-cant-find-pcre-pcre-config-for-libpcre-not/66694" target="_blank" rel="noopener">https://unix.stackexchange.com/questions/66692/apache-installation-configuration-cant-find-pcre-pcre-config-for-libpcre-not/66694</a></p><p><a href="https://stackoverflow.com/questions/18091991/error-while-compiling-apache-apr-make-file-not-found" target="_blank" rel="noopener">https://stackoverflow.com/questions/18091991/error-while-compiling-apache-apr-make-file-not-found</a></p><p><a href="https://stackoverflow.com/questions/9436860/apache-httpd-setup-and-installation" target="_blank" rel="noopener">https://stackoverflow.com/questions/9436860/apache-httpd-setup-and-installation</a></p><p><a href="https://blog.csdn.net/hejinyin/article/details/77701702" target="_blank" rel="noopener">https://blog.csdn.net/hejinyin/article/details/77701702</a></p><p><a href="https://blog.51cto.com/castiel/2051440" target="_blank" rel="noopener">https://blog.51cto.com/castiel/2051440</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;LAMP即：(Linux + Apache + Mysql + PHP)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;apache的特点和应用场合&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;apache功能强大、配置简单、速度快、应用广泛、性能稳定可靠，并可做代理服务器或负载均衡来使用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;apache的应用场合&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;使用apache运行静态HTML页、图片(处理静态小文件能力不及nginx)；&lt;br&gt;　　使用apache结合PHP引擎运行PHP、Perl等程序，LAMP被称之为经典组合；&lt;br&gt;　　使用apache结合tomcat/resin运行JSP、JAVA等程序，成为中小企业的首选；&lt;br&gt;　　使用apache做代理、负载均衡、rewrite规则过滤等。&lt;/p&gt;
    
    </summary>
    
      <category term="Apache" scheme="http://hackycy.github.io/categories/Apache/"/>
    
    
      <category term="Centos7" scheme="http://hackycy.github.io/tags/Centos7/"/>
    
      <category term="服务器运维" scheme="http://hackycy.github.io/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%90%E7%BB%B4/"/>
    
      <category term="LAMP" scheme="http://hackycy.github.io/tags/LAMP/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript-正则表达式基础</title>
    <link href="http://hackycy.github.io/2019/04/28/JavaScript-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9F%BA%E7%A1%80/"/>
    <id>http://hackycy.github.io/2019/04/28/JavaScript-正则表达式基础/</id>
    <published>2019-04-28T09:38:34.000Z</published>
    <updated>2019-04-28T09:39:21.721Z</updated>
    
    <content type="html"><![CDATA[<h1 id="正则表达式基础"><a href="#正则表达式基础" class="headerlink" title="正则表达式基础"></a>正则表达式基础</h1><a id="more"></a><h2 id="学习网站"><a href="#学习网站" class="headerlink" title="学习网站"></a>学习网站</h2><p><code>https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp</code></p><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><ul><li>正则表达式是为了解决字符串操作中一些比较麻烦的场景，比如字符串提取、字符串替换、字符串验证等<ul><li>常用于：表单验证：是否是一个数字、是一个电话号码、是一个邮箱。。。</li><li>字符串替换：</li><li>字符串查找</li></ul></li></ul><h2 id="正则表达式其实也是js里面的一个对象"><a href="#正则表达式其实也是js里面的一个对象" class="headerlink" title="正则表达式其实也是js里面的一个对象"></a>正则表达式其实也是js里面的一个对象</h2><h2 id="创建一个正则表达式"><a href="#创建一个正则表达式" class="headerlink" title="创建一个正则表达式"></a>创建一个正则表达式</h2><ul><li><code>var reg2=new RegExp(&quot;a&quot;);</code></li><li><code>var reg1=/a/;</code>   <ul><li>其中//是标记，a表示要匹配的字符</li></ul></li></ul><h2 id="正则表达式匹配"><a href="#正则表达式匹配" class="headerlink" title="正则表达式匹配"></a>正则表达式匹配</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/a/</span>;        <span class="comment">//匹配字符串中的a字符</span></span><br><span class="line">reg.test(<span class="string">"abc"</span>);        </span><br><span class="line"><span class="comment">//正则表达式的test用来检测字符串是否满足正则表达式的要求；</span></span><br><span class="line"><span class="comment">//由于"abc"中存在a，所以是符合要求的，所以这段代码的返回值为：true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isTrue = reg.test(<span class="string">"coke"</span>);   <span class="comment">//由于"coke"中不存在a字符，所以不符合条件   --&gt;isTrue:false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg2=<span class="regexp">/abc/</span>;     </span><br><span class="line">reg2.test(<span class="string">"adbcd"</span>); <span class="comment">//字符串中必然存在"abc"才符合要求，所以这段代码的返回值为false</span></span><br><span class="line"></span><br><span class="line">reg2.test(<span class="string">"1abc"</span>);  <span class="comment">//true</span></span><br><span class="line">reg2.test(<span class="string">"abc123"</span>);    <span class="comment">//true</span></span><br><span class="line">reg2.test(<span class="string">"abcabc"</span>);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="正则表达式特殊字符"><a href="#正则表达式特殊字符" class="headerlink" title="正则表达式特殊字符"></a>正则表达式特殊字符</h2><h3 id="字符类别"><a href="#字符类别" class="headerlink" title="字符类别"></a>字符类别</h3><ul><li><p>. 表示除了换行符(\r \n)以外的任意字符</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/./</span>;</span><br><span class="line">reg.test(<span class="string">"a"</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"."</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"\r"</span>); <span class="comment">//false</span></span><br><span class="line">reg.test(<span class="string">"1\r"</span>);    <span class="comment">//存在一个1，不是换行符，所以结果为：true</span></span><br><span class="line">reg.test(<span class="string">"\r\n"</span>);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//注意点：如果以后要匹配.字符，不要直接写.</span></span><br><span class="line"><span class="comment">//为了匹配qq邮箱，写了 /qq.com/ 这是一个错误的写法：</span></span><br><span class="line"><span class="comment">//=&gt;/qq.com/不仅匹配："qq.com"也匹配"qq3com" "qq@com"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解决方案：/qq\.com/  或者 /qq[.]com/</span></span><br></pre></td></tr></table></figure></li><li><p>\d 表示数字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\d/</span>;</span><br><span class="line">reg.test(<span class="string">"123abc"</span>); <span class="comment">//由于存在一个数字，所以结果为true</span></span><br><span class="line">reg.test(<span class="string">"abcde"</span>);  <span class="comment">//由于不存在任何数字，所以结果为false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//扩展：</span></span><br><span class="line"><span class="keyword">var</span> _reg=<span class="regexp">/\d\d/</span>;</span><br><span class="line">_reg.test(<span class="string">"1b"</span>);    <span class="comment">//不存在2个连续数字，所以结果为：false</span></span><br><span class="line">_reg.test(<span class="string">"a12c"</span>);  <span class="comment">//存在2个连续数字，结果为：true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//匹配手机号码：出现了连续11个数字</span></span><br><span class="line"><span class="keyword">var</span> isCellphoneNumber=<span class="regexp">/\d\d\d\d\d\d\d\d\d\d\d/</span>;</span><br></pre></td></tr></table></figure></li><li><p>案例：匹配手机号码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d\d\d\d\d\d\d\d\d\d\d/</span>;</span><br><span class="line">reg.test(<span class="string">"13532159091"</span>);    <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"17380889395"</span>);    <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"a7380889395"</span>);        <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>\D 是\d的取反结果，表示不是数字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\D/</span>;</span><br><span class="line">_reg.test(<span class="string">"123"</span>);   <span class="comment">//由于全是数字，所以结果为：false</span></span><br><span class="line">_reg.test(<span class="string">"123a"</span>);  <span class="comment">//存在一个字母，所以结果为：true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg2=<span class="regexp">/123\D5/</span>;</span><br><span class="line">_reg.test(<span class="string">"12345"</span>); <span class="comment">//false</span></span><br><span class="line">_reg.test(<span class="string">"123b5"</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p>\w 匹配字母、数字、下划线 ，三者满足其一即可</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\w/</span>;   </span><br><span class="line">reg.test(<span class="string">"123"</span>);    <span class="comment">//存在数字，结果为：true</span></span><br><span class="line">reg.test(<span class="string">"a"</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"1"</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"_"</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"-"</span>);  <span class="comment">//false</span></span><br><span class="line">reg.test(<span class="string">"."</span>);  <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">reg.test(<span class="string">"1."</span>);   <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"_\r\n"</span>);  <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"\r\n"</span>);   <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>\W 是\w的取反</p></li><li><p>\s 表示一个空白字符（例如：\r \n \t 空格 。。。）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\s/</span>;</span><br><span class="line">reg.test(<span class="string">"abc def"</span>);   <span class="comment">//存在一个空白，结果为：true</span></span><br><span class="line">reg.test(<span class="string">"abc\r123"</span>);   <span class="comment">//存在一个\r，结果为：true</span></span><br><span class="line">reg.test(<span class="string">"abc"</span>);    <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>\S 是\s的取反</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\S/</span>;</span><br><span class="line">reg.test(<span class="string">" \r \n "</span>);   <span class="comment">//全是空白字符，结果为false</span></span><br><span class="line">reg.test(<span class="string">"123 abc"</span>);    <span class="comment">//存在一个空白，结果为true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg3=<span class="regexp">/\s\S/</span>;</span><br><span class="line">reg3.test(<span class="string">" a"</span>);    <span class="comment">//true</span></span><br><span class="line">reg3.test(<span class="string">"a "</span>);    <span class="comment">//false</span></span><br><span class="line">reg3.test(<span class="string">"a b"</span>);   <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p>\ 转义字符</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/./</span>;    <span class="comment">//匹配除了换行符以外的任意字符</span></span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\./</span>;   <span class="comment">//匹配.字符</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\//</span>;   <span class="comment">//匹配一个正斜杠：/</span></span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/[/]/</span>;  <span class="comment">//。。。。。。。。。</span></span><br></pre></td></tr></table></figure></li><li><p>案例：匹配邮箱</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//asfas.com</span></span><br><span class="line"><span class="comment">//123ad.com</span></span><br><span class="line"><span class="comment">//ABC12.com</span></span><br><span class="line"><span class="comment">//abc_1.com</span></span><br><span class="line"><span class="keyword">var</span> reg =<span class="regexp">/\w\w\w\w\w\.com/</span>;</span><br></pre></td></tr></table></figure></li></ul><h3 id="字符集合"><a href="#字符集合" class="headerlink" title="字符集合"></a>字符集合</h3><ul><li><p>[]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/[1a2b3]/</span>; <span class="comment">//匹配一个字符，这个字符必须是：1/a/2/b/3其中一种，如果是就表示满足，如果不是就不满足</span></span><br><span class="line">reg.test(<span class="string">"a"</span>);      <span class="comment">//结果为：true</span></span><br><span class="line">reg.test(<span class="string">"3"</span>);      <span class="comment">//结果为：true</span></span><br><span class="line">reg.test(<span class="string">"fg5678"</span>); <span class="comment">//一个符合要求的字符都不存在，结果为：false</span></span><br><span class="line">reg.test(<span class="string">"a999999"</span>);    <span class="comment">//结果为：true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//升级版</span></span><br><span class="line"><span class="keyword">var</span> reg2=<span class="regexp">/[123][abc]/</span>;  <span class="comment">//为了匹配连续2个字符，第一个字符必须在1/2/3之内，第二个字符必须在a/b/c之内</span></span><br><span class="line">reg2.test(<span class="string">"2a"</span>);    <span class="comment">//true</span></span><br><span class="line">reg2.test(<span class="string">"3c"</span>);    <span class="comment">//true</span></span><br><span class="line">reg2.test(<span class="string">"1basdfasf"</span>); <span class="comment">//true</span></span><br><span class="line">reg2.test(<span class="string">"asdfasdf1c"</span>);    <span class="comment">//存在符合条件的1c，结果为：true</span></span><br><span class="line">reg2.test(<span class="string">"39"</span>);    <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg2=<span class="regexp">/[0-9]/</span>;   <span class="comment">//匹配数字0-9之间，任何一个数字 等价于：/\d/</span></span><br><span class="line"><span class="keyword">var</span> reg3=<span class="regexp">/[a-z]/</span>;   <span class="comment">//匹配小写字母</span></span><br><span class="line"><span class="keyword">var</span> reg4=<span class="regexp">/[A-Z]/</span>;   <span class="comment">//匹配大写字母</span></span><br><span class="line"><span class="keyword">var</span> reg5=<span class="regexp">/[a-zA-Z]/</span>;<span class="comment">//匹配所有字母</span></span><br><span class="line"><span class="keyword">var</span> reg6=<span class="regexp">/[A-Za-z]/</span>;<span class="comment">//..........</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg10=<span class="regexp">/[0-9abc]/</span>;</span><br><span class="line">reg10.test(<span class="string">"3"</span>);<span class="comment">//true</span></span><br><span class="line">reg10.test(<span class="string">"five"</span>);<span class="comment">//false</span></span><br><span class="line">reg10.test(<span class="string">"banana"</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p>[^]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/[^123]/</span>;   <span class="comment">//匹配一个字符，但是这个字符既不是1 并且 不是2 并且 不是3 </span></span><br><span class="line">reg.test(<span class="string">"a"</span>);      <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"3"</span>);      <span class="comment">//false</span></span><br><span class="line">reg.test(<span class="string">"123"</span>);    <span class="comment">//没有1，2，3以外的字符，结果为：false</span></span><br><span class="line">reg.test(<span class="string">"a123"</span>);   <span class="comment">//存在一个符合条件的a，所以结果为：true</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h3><ul><li>^ 表示字符串最左边</li><li>$ 表示字符串最右边<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/^abc/</span>;     <span class="comment">//表示以abc开头</span></span><br><span class="line">reg.test(<span class="string">"123abc123"</span>);  <span class="comment">//并不是以abc开头，结果为：false</span></span><br><span class="line">reg.test(<span class="string">"abc123"</span>);     <span class="comment">//以abc开头，结果为：true</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/abc$/</span>;     <span class="comment">//表示以abc结尾</span></span><br><span class="line">reg.test(<span class="string">"123abc"</span>); <span class="comment">//结果为：true</span></span><br><span class="line">reg.test(<span class="string">"abc123"</span>); <span class="comment">//结果为：false</span></span><br><span class="line">reg.test(<span class="string">"123bc"</span>);  <span class="comment">//结果为：false</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配一个手机号码 (11位)--&gt;(1)+(10位数字)</span></span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/1\d\d\d\d\d\d\d\d\d\d/</span>;</span><br><span class="line">reg.test(<span class="string">"13166668888a"</span>);   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg2=<span class="regexp">/^1\d\d\d\d\d\d\d\d\d\d$/</span>;</span><br><span class="line">reg2.test(<span class="string">"13166668888a"</span>);   <span class="comment">//false</span></span><br><span class="line">reg2.test(<span class="string">"13166668888"</span>);    <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg3=<span class="regexp">/^1[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/</span>;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/^abc$/</span>;    <span class="comment">//表示字符串abc</span></span><br><span class="line">reg.test(<span class="string">"abc"</span>);    <span class="comment">//结果为：true</span></span><br><span class="line">reg.test(<span class="string">"123abc"</span>); <span class="comment">//结果为：false</span></span><br></pre></td></tr></table></figure><h3 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h3><ul><li><p><code>*</code> 出现0次或多次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\d*/</span>;</span><br><span class="line">reg.test(<span class="string">"123"</span>);    <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"234"</span>);    <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg3=<span class="regexp">/1\d*/</span>;</span><br><span class="line">reg3.test(<span class="string">"1"</span>); <span class="comment">//true</span></span><br><span class="line">reg3.test(<span class="string">"123"</span>);   <span class="comment">//true</span></span><br><span class="line">reg3.test(<span class="string">"a123"</span>)   <span class="comment">//true</span></span><br><span class="line">reg3.test(<span class="string">"a123456b"</span>);   <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p><code>+</code> 出现1次或多次(至少一次)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/1\d+/</span>;</span><br><span class="line">reg.test(<span class="string">"1"</span>);      <span class="comment">//false</span></span><br><span class="line">reg.test(<span class="string">"123"</span>);    <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p><code>?</code> 出现0次或一次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/1\d?/</span>; </span><br><span class="line">reg.test(<span class="string">"12"</span>);     <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"1"</span>);      <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p><code>{3}</code> 出现3次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/1\w&#123;5&#125;/</span>;</span><br><span class="line">reg.test(<span class="string">"1abc"</span>);   <span class="comment">//false</span></span><br><span class="line">reg.test(<span class="string">"112345"</span>); <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"1abc12"</span>); <span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p><code>{3,}</code> 至少出现3次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/\d&#123;2,&#125;/</span>;</span><br><span class="line">reg.test(<span class="string">"12"</span>); <span class="comment">//true</span></span><br><span class="line">reg.test(<span class="string">"5"</span>);  <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p><code>{3,5}</code> 出现3-5次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/abc&#123;3&#125;/</span>;           <span class="comment">//表示匹配abccc</span></span><br><span class="line">reg.test(<span class="string">"123abccc123"</span>);    <span class="comment">//结果为：true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg3=<span class="regexp">/(abc)&#123;2&#125;/</span>;    <span class="comment">//匹配abcabc</span></span><br></pre></td></tr></table></figure></li><li><p><code>|</code> 或者</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/abc|123/</span>;  <span class="comment">//表示匹配abc或者123</span></span><br><span class="line"></span><br><span class="line">reg.test(<span class="string">"abc456"</span>); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg5=<span class="regexp">/^abc|123$/</span>;  <span class="comment">//匹配以abc开头，或者以123结尾</span></span><br><span class="line">reg5.test(<span class="string">"abcafsadfasd"</span>);<span class="comment">//true</span></span><br><span class="line">reg5.test(<span class="string">"afsdfasdf123"</span>);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg6=<span class="regexp">/^(abc|123)$/</span>;        <span class="comment">//匹配abc/123</span></span><br></pre></td></tr></table></figure></li><li><p><code>()</code> 分组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//010-88889999</span></span><br><span class="line"><span class="comment">//0576-12312312</span></span><br><span class="line"><span class="comment">//0895-1234567</span></span><br><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/(\d&#123;3,4&#125;)-(\d&#123;7,8&#125;)/</span>;  <span class="comment">//匹配电话号码</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="string">"021-33335555"</span>.match(<span class="regexp">/(\d&#123;3,4&#125;)-(\d&#123;7,8&#125;)/</span>)</span><br><span class="line">arr[<span class="number">0</span>]  <span class="comment">//全部</span></span><br><span class="line">arr[<span class="number">1</span>]  <span class="comment">//第一组：区号：021</span></span><br><span class="line">arr[<span class="number">2</span>]  <span class="comment">//第二组：号码：333355555</span></span><br></pre></td></tr></table></figure></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg=<span class="regexp">/(\d&#123;3,4&#125;)-(\d&#123;7,8&#125;)/</span>;</span><br><span class="line"><span class="string">"021-33335555"</span>.replace(<span class="regexp">/(\d&#123;3,4&#125;)-(\d&#123;7,8&#125;)/</span>,<span class="string">'区号是：$1'</span>)</span><br><span class="line"><span class="comment">//区号是：021</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"[object Array]"</span>;</span><br><span class="line"><span class="keyword">var</span> str2=<span class="string">"[object Object]"</span>;</span><br><span class="line"><span class="keyword">var</span> str3=<span class="string">'[object Function]'</span>;</span><br><span class="line"><span class="keyword">var</span> str4=<span class="string">'[object Date]'</span>;</span><br><span class="line"></span><br><span class="line">str.replace(<span class="string">"[object "</span>,<span class="string">""</span>).replace(<span class="string">"]"</span>,<span class="string">""</span>).toLowerCase();</span><br><span class="line"></span><br><span class="line">str.replace(<span class="regexp">/\[object /</span>,<span class="string">""</span>).replace(<span class="regexp">/\]/</span>,<span class="string">""</span>).toLowerCase();</span><br><span class="line"></span><br><span class="line"><span class="comment">//这样的话正则表达式只匹配一次，也就是说后面的]换不掉</span></span><br><span class="line">str.replace(<span class="regexp">/\[object |\]/</span>,<span class="string">""</span>).toLowerCase();</span><br><span class="line"><span class="comment">//如何解决？进行全局匹配</span></span><br><span class="line">str.replace(<span class="regexp">/\[object |\]/g</span>,<span class="string">""</span>).toLowerCase();</span><br><span class="line"></span><br><span class="line">str.replace(<span class="regexp">/[^\s]+\s/</span>,<span class="string">""</span>).replace(<span class="regexp">/\]/</span>,<span class="string">""</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;正则表达式基础&quot;&gt;&lt;a href=&quot;#正则表达式基础&quot; class=&quot;headerlink&quot; title=&quot;正则表达式基础&quot;&gt;&lt;/a&gt;正则表达式基础&lt;/h1&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="http://hackycy.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://hackycy.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>一次仿写jQuery库的简单代码</title>
    <link href="http://hackycy.github.io/2019/04/25/%E4%B8%80%E6%AC%A1%E4%BB%BF%E5%86%99jQuery%E5%BA%93%E7%9A%84%E7%AE%80%E5%8D%95%E4%BB%A3%E7%A0%81/"/>
    <id>http://hackycy.github.io/2019/04/25/一次仿写jQuery库的简单代码/</id>
    <published>2019-04-25T14:39:54.000Z</published>
    <updated>2019-04-25T14:42:16.015Z</updated>
    
    <content type="html"><![CDATA[<p><strong>功能的实现都很简单，但是是需要学着别人的思想</strong></p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//模块化：内部的东西对外是封闭的，只暴露出$,jQuery操作。</span></span></span><br><span class="line"><span class="javascript">        (<span class="function"><span class="keyword">function</span> (<span class="params">global</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">jQuery</span>(<span class="params">selector</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// //获取页面中所有指定的元素</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// const elements = document.querySelectorAll(selector);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(elements);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// //但是随着$()操作的增加，将会产生无数个css方法，浪费了很多的内存</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// elements.css = function()&#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     console.log('query css');</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// return elements;</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> _init = jQuery.prototype.init;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(jQuery.prototype);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> <span class="keyword">new</span> jQuery.prototype.init(selector);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 为了方便少写prototype单词，简化</span></span></span><br><span class="line"><span class="undefined">            jQuery.fn = jQuery.prototype = &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">constructor</span>: jQuery,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                init: <span class="function"><span class="keyword">function</span> (<span class="params">selector</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// // 把查找到的DO吗元素放在变量中</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// const elements = document.querySelectorAll(selector);</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// // this.elements = elements;</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// // 但是jQuery为了操作方便，所以将DOM元素放在了自己身上，也就是伪对象数组</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// for (let i = 0; i &lt; elements.length; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//     this[i] = elements[i];</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">// this.length = elements.length;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//判断如果是一个string，则查找</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (jQuery.type(selector) === <span class="string">'string'</span>) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">const</span> elements = <span class="built_in">document</span>.querySelectorAll(selector);</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// this.elements = elements;</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 但是jQuery为了操作方便，所以将DOM元素放在了自己身上，也就是伪对象数组</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; elements.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">this</span>[i] = elements[i];</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">this</span>.length = elements.length;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123; <span class="comment">//如果是一个对象，则直接赋值</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">this</span>[<span class="number">0</span>] = selector;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">this</span>.length = <span class="number">1</span>;</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// css(attr, value) &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     for (let i = 0; i &lt; this.length; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//         this[i].style[attr] = value;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            jQuery.fn.init.prototype = jQuery.fn;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// jQuery插件编写之路</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 无法使用箭头函数</span></span></span><br><span class="line"><span class="javascript">            jQuery.fn.extend = jQuery.extend = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (args.length &lt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">let</span> target, source = <span class="literal">null</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                source = [...args];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// $.extend | $.fn.extend</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (args.length == <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    target = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// args[0].extend</span></span></span><br><span class="line"><span class="undefined">                    target = args[0];</span></span><br><span class="line"><span class="undefined">                    source.splice(0, 1);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 判断当前是谁</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// if (this === jQuery) &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     target = args[0];</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     // 删除第一个元素</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     source.splice(0, 1);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125; else &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     target = this;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(target);</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(source);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// source.forEach((item,index) =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     for (const key in item) &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//         target[key] = item[key];</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">//for循环优化</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。 有兼容性问题</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">Object</span>.assign(target, ...source);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span> target;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">//添加一些工具类方法：$.xxx()</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//$.ajax  $.post $.get  $.type $.each</span></span></span><br><span class="line"><span class="undefined">            jQuery.extend(&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//$.each([1,3,5],function(index,value)&#123;&#125;)</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//$.each(&#123; age:18,height:200 &#125;,function(key,value)&#123;&#125;)</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//可以遍历数组和对象</span></span></span><br><span class="line"><span class="undefined">                each(target, callback) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//对象有两种，数组对象和普通数组</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//不仅仅可以遍历数组，也可以遍历伪数组</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//&#123; length:0 &#125;</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//&#123; 0:100,length:1 &#125;</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//&#123; 0:"a",1:"b",2:"c",length:3 &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> ((length <span class="keyword">in</span> target) &amp;&amp; target.length &gt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; target.length; i++) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                            callback.call(target[i], i, target[i]);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 普通对象</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// //获取到p1自身拥有的属性组成数组</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// Object.keys(target).forEach((value,index)=&gt;&#123;</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//     console.log(value,index);</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> (target.hasOwnProperty(key)) &#123;</span></span><br><span class="line"><span class="undefined">                                callback.call(target[key], key, target[key]);</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                type(target) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// console.log('type');</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> type = <span class="built_in">Object</span>.prototype.toString.call(target);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> type.replace(<span class="string">"[object "</span>, <span class="string">""</span>)</span></span><br><span class="line"><span class="javascript">                        .replace(<span class="string">"]"</span>, <span class="string">""</span>)</span></span><br><span class="line"><span class="undefined">                        .toLowerCase();</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ajax() &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">'ajax'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> events = [</span></span><br><span class="line"><span class="javascript">                <span class="comment">//&#123; ele:div1,type:"click",callback:function()&#123;&#125; &#125;,</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//&#123; ele:div1,type:"click",callback:function()&#123;&#125; &#125;</span></span></span><br><span class="line"><span class="undefined">            ];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            jQuery.fn.extend(&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 遍历自己</span></span></span><br><span class="line"><span class="undefined">                each(callback) &#123;</span></span><br><span class="line"><span class="javascript">                    jQuery.each(<span class="keyword">this</span>, callback);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//1、获取样式$("div").css("color")  只能获取到第一个div的颜色</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//2、设置样式</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//      $("div").css("color","red") 设置每一个div的字体颜色</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//      $("div").css(&#123; color:"red","backgroundColor","blue" &#125;)</span></span></span><br><span class="line"><span class="undefined">                css(...args) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (args.length === <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 一个参数时分两种情况，如果是一个字符串，则为获取属性，但是如果为一个对象则为设置样式</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (jQuery.type(args[<span class="number">0</span>]) === <span class="string">'string'</span>) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(this); this指向$("div"),init方法放回的元素</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//不管元素有多少个，只取第一个</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> $<span class="keyword">this</span> = <span class="keyword">this</span>[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> style = <span class="built_in">window</span>.getComputedStyle($<span class="keyword">this</span>, <span class="literal">null</span>);</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// console.log(style);</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span> style[args[<span class="number">0</span>]];</span></span><br><span class="line"><span class="javascript">                        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">// 设置样式,需要遍历选择器</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// jQuery.each(this, function()&#123;</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//     let $this = this;</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//     jQuery.each(args[0], function(key, value)&#123;</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//         $this.style[key] = value;</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//优化上述代码</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> _that = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="javascript">                            jQuery.each(args[<span class="number">0</span>], <span class="function"><span class="keyword">function</span> (<span class="params">key, value</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                                _that.css(key, value);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">//链式调用</span></span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 参数为两个，则为一个属性，一个属性值</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// 设置单个样式</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// let key = args[0];</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// let value = args[1];</span></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">this</span>.style[args[<span class="number">0</span>]] = args[<span class="number">1</span>];</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">//链式调用</span></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                show() &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.css(<span class="string">'display'</span>, <span class="string">'block'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                hide() &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.css(<span class="string">'display'</span>, <span class="string">'none'</span>);</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                toggle() &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">let</span> _that = <span class="keyword">this</span>; <span class="comment">//this -&gt; jQuery</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// this -&gt; dom </span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// if (jQuery(this).css('display') === 'block') &#123;</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//     jQuery(this).css('display', 'none');</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// &#125;else &#123;</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//     jQuery(this).css('display', 'block');</span></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//优化上述代码</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> $<span class="keyword">this</span> = jQuery(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="javascript">                        $<span class="keyword">this</span>.css(<span class="string">'display'</span>) === <span class="string">'block'</span> ? $<span class="keyword">this</span>.hide() : $<span class="keyword">this</span>.show();</span></span><br><span class="line"><span class="undefined">                    &#125;)</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 添加event</span></span></span><br><span class="line"><span class="undefined">                on(type, callback) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">this</span>.addEventListener(type, callback);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                        events.push(&#123;</span></span><br><span class="line"><span class="javascript">                            ele: <span class="keyword">this</span>,</span></span><br><span class="line"><span class="undefined">                            type: type,</span></span><br><span class="line"><span class="undefined">                            callback: callback</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">//链式编程</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="javascript">                <span class="comment">//解绑绑定：$("div").off("click")：表示解除当前元素的所有的单击事件</span></span></span><br><span class="line"><span class="undefined">                off(type) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> _that = <span class="keyword">this</span>;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">let</span> es = events.filter(<span class="function"><span class="keyword">function</span> (<span class="params">e, i</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(i, e);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//查看绑定的元素是否存在events数组中，并且有没有该元素绑定的事件,并且移除</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> isCurent =  e.ele === _that &amp;&amp; e.type === type</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> (isCurent) &#123;</span></span><br><span class="line"><span class="undefined">                                events.splice(i, 1);</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span> isCurent;</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> (es.length &lt;= <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">                        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="comment">//可能存在多次绑定</span></span></span><br><span class="line"><span class="javascript">                        es.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(e, _that);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">let</span> &#123; callback &#125; = e;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                            _that.removeEventListener(type, callback);</span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(events);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                    &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// function F(selector) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     // 把查找到的DO吗元素放在变量中</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     const elements = document.querySelectorAll(selector);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     // this.elements = elements;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     // 但是jQuery为了操作方便，所以将DOM元素放在了自己身上，也就是伪对象数组</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     for (let i = 0; i &lt; elements.length; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         this[i] = elements[i];</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     this.length = elements.length;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// F.prototype.css = function(attr, value) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     console.log(this.elements.length);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     for(let i=0; i&lt;this.elements.length; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         this.elements[i].style[attr] = value;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// F.prototype = &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     constructor: F,</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     css(attr, value) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         for (let i = 0; i &lt; this.length; i++) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//             this[i].style[attr] = value;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//         &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 相当于赋值给顶层对象window的属性</span></span></span><br><span class="line"><span class="undefined">            global.$ = global.jQuery = jQuery;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        &#125;)(<span class="built_in">window</span>); <span class="comment">//自调用函数</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log($);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('div').css('color', 'red');</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('.header').css('color', 'blue');</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// var p = &#123;&#125;;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $.extend(p, &#123; a: 1 &#125;, &#123; b: 2 &#125;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(p);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $.fn.extend(&#123; a: 0 &#125;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log($.fn);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $.each(&#123; a: 'a', b: 'b' &#125;, function (key, value) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     console.log(key, value);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $.each(&#123; 0: 100, 1: 200, 2: 300, length: 3 &#125;, function (key, value) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     console.log(key, value);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $.each([1, 2, 3], function (key, value) &#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     console.log(key, value);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log($.type(&#123; a: 1 &#125;));</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('div').css(&#123;</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     'color': 'red',</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//     'backgroundColor': 'blue'</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('div').css('color', 'red');</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('.header').hide();</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('div').toggle();</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.footer'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">'footer'</span>);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.header'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                alert(<span class="string">'header'</span>);</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.section'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.footer'</span>).off(<span class="string">'click'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">'remove'</span>)</span></span><br><span class="line"><span class="undefined">            &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// $('.header').off('click');</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span><span class="selector-pseudo">:first-child</span> &#123;</span></span><br><span class="line"><span class="undefined">            color: rebeccapurple;</span></span><br><span class="line"><span class="css">            <span class="comment">/* display: none; */</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span>ccc<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;功能的实现都很简单，但是是需要学着别人的思想&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="JavaScript" scheme="http://hackycy.github.io/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://hackycy.github.io/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>hexo next主题首页隐藏指定文章</title>
    <link href="http://hackycy.github.io/2019/04/23/hexo-next%E4%B8%BB%E9%A2%98%E9%A6%96%E9%A1%B5%E9%9A%90%E8%97%8F%E6%8C%87%E5%AE%9A%E6%96%87%E7%AB%A0/"/>
    <id>http://hackycy.github.io/2019/04/23/hexo-next主题首页隐藏指定文章/</id>
    <published>2019-04-23T04:24:19.000Z</published>
    <updated>2019-04-23T04:48:44.447Z</updated>
    
    <content type="html"><![CDATA[<p>因为博客下混合了我技术类和生活类的文章，但是首页我只想显示技术类，所以记录下做法。</p><a id="more"></a><p><strong>具体做法</strong></p><p>找到<code>themes⁩</code> ▸ <code>⁨next</code>⁩ ▸ <code>⁨layout</code>⁩文件夹下的<code>index.swig</code>文件</p><p><img src="index1.png" alt=""></p><p>定位修改<code>post_template.render</code></p><p>修改成以下代码,其中修改的是为文章的首页显示添加判断条件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if post.visible !== &apos;hide&apos; %&#125;</span><br><span class="line">   &#123;&#123; post_template.render(post, true) &#125;&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>即修改后</p><p><img src="index2.png" alt=""></p><p><strong>在新的post中添加visible字段来控制是否首页显示</strong></p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: post title</span><br><span class="line">date: 2019-04-23 12:24:19</span><br><span class="line">tags:</span><br><span class="line"><span class="code">    - hexo</span></span><br><span class="line">categories:</span><br><span class="line"><span class="code">    - hexo</span></span><br><span class="line">visible: hide</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">.........</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因为博客下混合了我技术类和生活类的文章，但是首页我只想显示技术类，所以记录下做法。&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://hackycy.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://hackycy.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>老司机带带我——翻车牌</title>
    <link href="http://hackycy.github.io/2019/04/23/%E8%80%81%E5%8F%B8%E6%9C%BA%E5%B8%A6%E5%B8%A6%E6%88%91%E2%80%94%E2%80%94%E7%BF%BB%E8%BD%A6%E7%89%8C/"/>
    <id>http://hackycy.github.io/2019/04/23/老司机带带我——翻车牌/</id>
    <published>2019-04-23T04:23:50.000Z</published>
    <updated>2019-05-07T15:40:40.478Z</updated>
    
    <content type="html"><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><div id="hbe-security">  <div class="hbe-input-container">  <input type="password" class="hbe-form-control" id="pass" placeholder="老司机不带你" />    <label for="pass">老司机不带你</label>    <div class="bottom-line"></div>  </div></div><div id="decryptionError" style="display: none;">Incorrect Password!</div><div id="noContentError" style="display: none;">No content to display!</div><div id="encrypt-blog" style="display:none">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</div><script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      老司机不带你
    
    </summary>
    
      <category term="程序人生" scheme="http://hackycy.github.io/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"/>
    
    
  </entry>
  
  <entry>
    <title>HTML5移动端自适应方案——媒体查询+rem方案</title>
    <link href="http://hackycy.github.io/2019/04/22/HTML5%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%87%AA%E9%80%82%E5%BA%94%E6%96%B9%E6%A1%88%E2%80%94%E2%80%94%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2-rem%E6%96%B9%E6%A1%88/"/>
    <id>http://hackycy.github.io/2019/04/22/HTML5移动端自适应方案——媒体查询-rem方案/</id>
    <published>2019-04-22T08:48:42.000Z</published>
    <updated>2019-04-22T08:49:44.306Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>虽然H5的页面与PC的Web页面相比简单了不少，但让我们头痛的事情是要想尽办法让页面能适配众多不同的终端设备。</p><a id="more"></a><blockquote><p>本文中不涉及一些viewport、dpr等的概念介绍，详细了解可以再查看本博客中另一篇文章有具体讲解这些概念。</p></blockquote><p><img src="devicesmetrics.png" alt=""></p><p>数据来源<a href="https://material.io/tools/devices/" target="_blank" rel="noopener">Device Metrics</a></p><p>早期移动端开发，对于终端设备适配问题只属于Android系列，只不过很多设计师常常忽略Android适配问题，只出一套iOS平台设计稿。但随着iPhone6，iPhone6+的出现，从此终端适配问题不再是Android系列了，也从这个时候让移动端适配全面进入到“杂屏”时代。</p><p><img src="shipei.png" alt=""></p><p>上图来自于paintcodeapp.com</p><h1 id="视觉稿"><a href="#视觉稿" class="headerlink" title="视觉稿"></a>视觉稿</h1><p>在前端开发之前，视觉MM会给我们一个psd文件，称之为视觉稿。</p><p>对于移动端开发而言，为了做到页面高清的效果，视觉稿的规范往往会遵循以下两点：</p><p>首先，选取一款手机的屏幕宽高作为基准(以前是iphone4的320×480，现在更多的是iphone6的375×667)。<br>对于retina屏幕(如: dpr=2)，为了达到高清效果，视觉稿的画布大小会是基准的2倍，也就是说像素点个数是原来的4倍（对iphone6而言：原先的375×667，就会变成750×1334）。</p><h1 id="设计师和前端开发的适配协作基本思路"><a href="#设计师和前端开发的适配协作基本思路" class="headerlink" title="设计师和前端开发的适配协作基本思路"></a>设计师和前端开发的适配协作基本思路</h1><p>出自手淘：</p><ul><li>选择一种尺寸作为设计和开发基准</li><li>定义一套适配规则，自动适配剩下的两种尺寸(其实不仅这两种，你懂的)</li><li>特殊适配效果给出设计效果</li></ul><p>手淘设计师常选择iPhone6作为基准设计尺寸，交付给前端的设计尺寸是按750px * 1334px为准(高度会随着内容多少而改变)。前端开发人员通过一套适配规则自动适配到其他的尺寸。</p><h1 id="EM和REM"><a href="#EM和REM" class="headerlink" title="EM和REM"></a>EM和REM</h1><p>使用REM+媒体查询方式进行编写自适应方案时，先来了解下EM和REM是什么？</p><h2 id="EM"><a href="#EM" class="headerlink" title="EM"></a>EM</h2><p>em是相对长度单位。相对于当前对象内文本的字体尺寸。如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸。</p><p><strong>EM的特点</strong></p><ul><li>em的值并不是固定的</li><li>em会继承父级元素的字体大小</li></ul><blockquote><p>注意：任意浏览器的默认字体高都是16px。所有未经调整的浏览器都符合: 1em=16px。那么12px=0.75em,10px=0.625em。为了简化font-size的换算，需要在css中的body选择器中声明Font-size=62.5%，这就使em值变为 16px*62.5%=10px, 这样12px=1.2em, 10px=1em, 也就是说只需要将你的原来的px数值除以10，然后换上em作为单位就行了。<br>所以我们在写CSS的时候，需要注意两点：</p><ol><li>body选择器中声明Font-size=62.5%；</li><li>将你的原来的px数值除以10，然后换上em作为单位；</li><li>重新计算那些被放大的字体的em数值。避免字体大小的重复声明。<br>也就是避免1.2 * 1.2= 1.44的现象。比如说你在#content中声明了字体大小为1.2em，那么在声明p的字体大小时就只能是1em，而不是1.2em, 因为此em非彼em，它因继承#content的字体高而变为了1em=12px。</li></ol></blockquote><h2 id="REM"><a href="#REM" class="headerlink" title="REM"></a>REM</h2><p><code>rem</code>是<code>CSS3</code>新增的一个相对单位（root em，根em），这个单位引起了广泛关注。这个单位与em有什么区别呢？区别在于使用rem为元素设定字体大小时，仍然是相对大小，但相对的只是HTML根元素。这个单位可谓集相对大小和绝对大小的优点于一身，通过它既可以做到只修改根元素就成比例地调整所有字体大小，又可以避免字体大小逐层复合的连锁反应。目前，除了IE8及更早版本外，所有浏览器均已支持rem。</p><p>简单的理解，rem就是相对于根元素<code>&lt;html&gt;</code>的<code>font-size</code>来做计算。而我们的方案中使用rem单位，是能轻易的根据<code>&lt;html&gt;</code>的<code>font-size</code>计算出元素的盒模型大小。而这个特色对我们来说是特别的有益处。</p><h1 id="媒体查询-Rem实现自适应方案"><a href="#媒体查询-Rem实现自适应方案" class="headerlink" title="媒体查询 + Rem实现自适应方案"></a>媒体查询 + Rem实现自适应方案</h1><p>放上代码中所使用的设计稿和图片，自行右键保存。图片来源<a href="https://github.com/amfe/article/issues/17" target="_blank" rel="noopener">手淘H5适配方案</a></p><p><img src="designpsd.jpeg" alt=""></p><p><img src="grayscale.jpeg" alt=""></p><p><img src="haibao.jpg" alt=""></p><p>该设计图是按照iPhone6作为基准设计尺寸，iPhone6的分辨率为<code>750pt * 1334pt</code>，iPhone6的DPR为2，则CSS像素则缩小为设计稿尺寸的<code>1/2</code>。既设计稿量出某宽为20px，则css像素则转为为10px。</p><p>首先按照设计稿尺寸还原页面，为了方便理解，首先使用px还原页面，在iPhone6下显示设计。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        * &#123;</span></span><br><span class="line"><span class="undefined">            padding: 0;</span></span><br><span class="line"><span class="undefined">            margin: 0;</span></span><br><span class="line"><span class="undefined">            box-sizing: border-box;</span></span><br><span class="line"><span class="undefined">            -webkit-tap-highlight-color: transparent;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        html,body &#123;</span></span><br><span class="line"><span class="undefined">            height: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        html,body &#123;</span></span><br><span class="line"><span class="undefined">            height: 100%;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f5294c</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        body &#123;</span></span><br><span class="line"><span class="undefined">            font-size: 14px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* background-color: #f5294c; */</span></span></span><br><span class="line"><span class="undefined">            min-width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.header</span> <span class="selector-tag">h1</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> &#123;</span></span><br><span class="line"><span class="undefined">            padding: 0 5px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="undefined">            padding: 5px 0;</span></span><br><span class="line"><span class="undefined">            display: table-cell;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.left</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="undefined">            width: 88px;</span></span><br><span class="line"><span class="undefined">            height: 88px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="undefined">            display: table-cell;</span></span><br><span class="line"><span class="undefined">            padding: 5px 8px 0 8px;</span></span><br><span class="line"><span class="undefined">            vertical-align: top;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">            font-size: 13px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">line-height</span>: 1<span class="selector-class">.25</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> &#123;</span></span><br><span class="line"><span class="undefined">            margin: 9px 0;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#f32a4c</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">            font-size: 10px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f32a4c</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fffffd</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.intro</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#ffb09b</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.buy</span> &#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            right: 9px;</span></span><br><span class="line"><span class="undefined">            bottom: 7px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">line-height</span>: 1<span class="selector-class">.25</span>;</span></span><br><span class="line"><span class="undefined">            font-size: 13px;</span></span><br><span class="line"><span class="undefined">            padding: 5px 18px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f42a4b</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fefffc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.buy</span> <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fefffc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 海报 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/haibao.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>编写后页面显示，当然这里是举例，有些像素为了方便计算，只是大概的测量了一下，这里使用的测量工具为<code>Mark Man</code>。</p><p><img src="px_h5.gif" alt=""></p><p>然后看看其他设备显示的效果，因为这里使用的是<code>流式布局</code>，即百分比布局，页面还没有说变形很严重，但是在iPhone5设备上或者更小的设备上显示就会显得页面元素偏大，而在一些ipad就显得更为难受了。(换成其他DPR下情况也是相同)。</p><p>这里不讲解媒体查询是什么和具体语法，详细了解可以查看<a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Media_queries" target="_blank" rel="noopener">MDN</a></p><p>而该方案就是基于rem的原理，针对不同屏幕尺寸的改变来改变根节点html的<code>font-size</code>的大小。</p><p>这里总结出了一个公式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font-size(rem) = 预设font-size(rem)基准值 / （设计稿宽度 / DPR） * 设备宽度</span><br></pre></td></tr></table></figure><p>该公式的原理就是先根据设计稿的尺寸和DPR求出设备的宽度，根据该设备的宽度下预设一个<code>font-size</code>的基准值，再求出该设备下的宽度与预设基准值的比值，然后其他设备下的设备宽度除以该基准值就可以求出其他设备下的html的<code>font-size</code>的值。所以上述公式是由下条公式变化得来的。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">font-size(rem) = 设备宽度 / （（设计稿宽度 / DPR） / 预设font-size(rem)基准值）</span><br></pre></td></tr></table></figure><p>按照本文中设计稿为iPhone6的尺寸设计，我们以设计稿下iPhone6为<code>375px</code>的html的<code>font-size</code>预设基准值为<code>100px</code>（方便计算）,即<code>1rem = 100px</code>，则其他设备像素下html的<code>font-size</code>的值为</p><ul><li>iPhone5的设备像素320px:<code>100 / (750 / 2) * 320 = 85.333px</code></li><li>iPhone6的设备像素375px:<code>100px</code></li><li>iPhone6Plus的设备像素414px:<code>100 / (750 / 2) * 414 = 110.4px</code></li></ul><p>只要以设计稿下预设的基准值再根据其他屏幕来换算计算出其他设备下的html的<code>font-size</code>大小即可。</p><p>页面中再根据<code>1rem = 100px</code>将页面中px单位换算成rem即可。再添加上根据设备宽度的媒体查询设置根节点的<code>font-size</code>大小。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* base-rem = 100px */</span></span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">320px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">85.333px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">360px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">96px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">375px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">100px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">414px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">110.4px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">480px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">128px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">540px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">144px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">media</span> (min-width: <span class="number">768px</span>) &#123;</span><br><span class="line">            <span class="selector-tag">html</span> &#123;</span><br><span class="line">                <span class="attribute">font-size</span>: <span class="number">204.8px</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>更改后整体页面代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0,user-scalable=no"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        * &#123;</span></span><br><span class="line"><span class="undefined">            padding: 0;</span></span><br><span class="line"><span class="undefined">            margin: 0;</span></span><br><span class="line"><span class="undefined">            box-sizing: border-box;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        html,body &#123;</span></span><br><span class="line"><span class="undefined">            height: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="comment">/* base-rem = 100px */</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">320px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">font-size</span>: 85<span class="selector-class">.333px</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">360px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="undefined">                font-size: 96px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">375px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="undefined">                font-size: 100px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">414px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">font-size</span>: 110<span class="selector-class">.4px</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">480px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="undefined">                font-size: 128px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">540px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="undefined">                font-size: 144px;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        @<span class="keyword">media</span> (min-width: <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="undefined">            html &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">font-size</span>: 204<span class="selector-class">.8px</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        html,body &#123;</span></span><br><span class="line"><span class="undefined">            height: 100%;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f5294c</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        body &#123;</span></span><br><span class="line"><span class="undefined">            font-size: 14px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="comment">/* background-color: #f5294c; */</span></span></span><br><span class="line"><span class="undefined">            min-width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.header</span> <span class="selector-tag">h1</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span>: 0 0<span class="selector-class">.05rem</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span>: 0<span class="selector-class">.05rem</span> 0;</span></span><br><span class="line"><span class="undefined">            display: table-cell;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.left</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">width</span>: 0<span class="selector-class">.88rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">height</span>: 0<span class="selector-class">.88rem</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="undefined">            display: table-cell;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span>: 0<span class="selector-class">.05rem</span> 0<span class="selector-class">.08rem</span> 0 0<span class="selector-class">.08rem</span>;</span></span><br><span class="line"><span class="undefined">            vertical-align: top;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">font-size</span>: 0<span class="selector-class">.13rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">line-height</span>: 1<span class="selector-class">.25</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">margin</span>: 0<span class="selector-class">.09rem</span> 0;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#f32a4c</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.price</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">font-size</span>: 0<span class="selector-class">.1rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f32a4c</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fffffd</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.right</span> <span class="selector-class">.intro</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#ffb09b</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.buy</span> &#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">right</span>: 0<span class="selector-class">.09rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">bottom</span>: 0<span class="selector-class">.07rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">line-height</span>: 1<span class="selector-class">.25</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">font-size</span>: 0<span class="selector-class">.13rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">padding</span>: 0<span class="selector-class">.05rem</span> 0<span class="selector-class">.18rem</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f42a4b</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fefffc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-id">#content</span> <span class="selector-class">.section</span> <span class="selector-class">.item</span> <span class="selector-class">.buy</span> <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fefffc</span>;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 海报 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/haibao.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"left"</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image/grayscale.jpeg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">srcset</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>Carter's1年式灰色长袖连体衣包脚爬服全棉鲸鱼男婴儿童装115G093<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"price"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span>&gt;</span>双11价<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>¥ 299<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>（满400 减 100）<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"intro"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">small</span>&gt;</span>一小时热卖1769件<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"buy"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"##"</span>&gt;</span>马上抢！<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>适配后</p><p><img src="rem_h5_dpr2.gif" alt="gif"></p><p>图片较大，可自行运行代码在dpr为1、2、3下再更改屏幕尺寸，运行结果良好，可谓够用。</p><p>为什么可谓够用，该方案有缺点：通过设备宽度范围区间这样的媒体查询来动态改变rem基准值，其实不够精确，比如：宽度为360px 和 宽度为320px的手机，因为屏宽在同一范围区间内(&lt;375px)，所以会被同等对待(rem基准值相同)，而事实上他们的屏幕宽度并不相等，它们的布局也应该有所不同。最终，结论就是：这样的做法，没有做到足够的精确，但是够用。</p><h1 id="Less优化"><a href="#Less优化" class="headerlink" title="Less优化"></a>Less优化</h1><p>如果项目中使用Less或者Sass等CSS预处理器可以更加简化代码的编写与计算量。</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//需要适配的设备宽度数组</span></span><br><span class="line"><span class="variable">@adapterDeviceWidthList:</span> <span class="number">320px</span>, <span class="number">360px</span>, <span class="number">375px</span>, <span class="number">414px</span>, <span class="number">480px</span>, <span class="number">540px</span>, <span class="number">640px</span>, <span class="number">750px</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">@psdWidth:</span> <span class="number">750</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">@psdDpr:</span> <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">@baseFontSize:</span> <span class="number">100px</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">@deviceLength:</span> length(<span class="variable">@adapterDeviceWidthList</span>);</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.adapterMixin</span>(<span class="variable">@index</span>) <span class="keyword">when</span> (<span class="variable">@index</span> &lt;= <span class="variable">@deviceLength</span>) &#123;</span><br><span class="line">    <span class="keyword">@media</span> (<span class="attribute">min-width</span>: extract(<span class="variable">@adapterDeviceWidthList</span>, <span class="variable">@index</span>)) &#123;</span><br><span class="line">        <span class="selector-tag">html</span> &#123;</span><br><span class="line">            <span class="attribute">font-size</span>: <span class="number">100</span> / (<span class="variable">@psdWidth</span> / <span class="variable">@psdDpr</span>) * extract(<span class="variable">@adapterDeviceWidthList</span>, <span class="variable">@index</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.adapterMixin</span>(<span class="variable">@index</span> + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.adapterMixin</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>生成的css为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">320px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">85.33333333px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">360px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">96px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">375px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">414px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">110.4px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">480px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">128px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">540px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">144px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">640px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">170.66666667px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">750px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用less维护起来就方便很多，只要维护<code>adapterDeviceWidthList</code>中设备的宽度即可，如果设计稿开始有变化更改变量即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;虽然H5的页面与PC的Web页面相比简单了不少，但让我们头痛的事情是要想尽办法让页面能适配众多不同的终端设备。&lt;/p&gt;
    
    </summary>
    
      <category term="HTML" scheme="http://hackycy.github.io/categories/HTML/"/>
    
    
      <category term="HTML" scheme="http://hackycy.github.io/tags/HTML/"/>
    
      <category term="移动端适配" scheme="http://hackycy.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>Less入门</title>
    <link href="http://hackycy.github.io/2019/04/15/Less%E5%85%A5%E9%97%A8/"/>
    <id>http://hackycy.github.io/2019/04/15/Less入门/</id>
    <published>2019-04-15T15:48:32.000Z</published>
    <updated>2019-05-06T09:15:16.009Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Less是什么"><a href="#Less是什么" class="headerlink" title="Less是什么"></a>Less是什么</h1><p>LESS 将 CSS 赋予了动态语言的特性，如 变量， 继承， 运算， 函数. LESS 既可以在 客户端 上运行 (支持IE 6+, Webkit, Firefox)，也可以借助Node.js或者Rhino在服务端运行。</p><p><a href="https://www.html.cn/doc/less/features/#mixin-guards-feature" target="_blank" rel="noopener">Less官方文档</a></p><a id="more"></a><h1 id="Less安装"><a href="#Less安装" class="headerlink" title="Less安装"></a>Less安装</h1><h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><p>引入你的<code>.less</code>样式文件的时候要设置<code>rel</code>属性值为<code>“stylesheet/less”</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.less"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下载<code>less.js</code>,<a href="https://www.html.cn/doc/less/" target="_blank" rel="noopener">下载地址</a>,在<head><meta name="generator" content="Hexo 3.8.0"> 中引入:</head></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"less.js"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意你的less样式文件一定要在引入less.js前先引入。<br>在浏览器中使用less.js开发是很好的，但不推荐用于生产环境中。</p></blockquote><p><strong>特别注意</strong></p><ul><li>确保包涵 <code>.less</code> 样式表在 <code>less.js</code> 脚本之前</li><li>当你引入多个 <code>.less</code> 样式表时，它们都是独立编译的。所以，在每个文件中定义的变量、混合、命名空间都不会被其它的文件共享。</li></ul><h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><p>在服务器端安装<code>LESS</code>的最简单方式就是通过<code>npm(node 的包管理器)</code>, 像这样:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install less</span><br></pre></td></tr></table></figure><p>如果你想下载最新稳定版本的 LESS，可以尝试像下面这样操作:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install less@latest</span><br></pre></td></tr></table></figure><h3 id="命令行使用"><a href="#命令行使用" class="headerlink" title="命令行使用"></a>命令行使用</h3><p>一旦安装完成，就可以在命令行中调用，例如:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lessc styles.less</span><br></pre></td></tr></table></figure><p>这样的话编译后的CSS将会输出到 ‘stdout’ 中，你可以选择将这个输出重定向到文件中:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ lessc styles.less &gt; styles.css</span><br></pre></td></tr></table></figure><p>查看版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ lessc -v</span><br><span class="line">$ lessc --version</span><br></pre></td></tr></table></figure><p>如果你想输出一个压缩后的CSS，只要加到<code>-x</code>选项即可。如果你想要更NB的压缩，你也可以选择使用 <a href="https://github.com/GoalSmashers/clean-css" target="_blank" rel="noopener">Clean CSS</a>压缩器，只要加上<code>--clean-css</code> 插件即可。</p><p>直接运行lessc，不带任何参数将可以看到所有的命令行参数或 查看<a href="https://www.html.cn/doc/less/usage/index.html" target="_blank" rel="noopener">用法</a>.</p><h3 id="代码中使用"><a href="#代码中使用" class="headerlink" title="代码中使用"></a>代码中使用</h3><p>你可以在Node中调用编译器，例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">'less'</span>);</span><br><span class="line"></span><br><span class="line">less.render(<span class="string">'.class &#123; width: (1 + 1) &#125;'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e, output</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(output.css);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>将会输出</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><ul><li>使用编译工具，比如 Koala 挺好用的（当然也有很多在线编译工具）</li><li>在项目中使用（比如Vue，需要安装less-loader）</li><li>客户端调试（存在跨域问题，不推荐这种方式）<ul><li>使用link标签引用less.min.js（官网下载），注意rel=”stylesheet/less”</li><li>这种方式不生成css文件，直接在浏览器查看</li></ul></li></ul></blockquote><h1 id="嵌套规则"><a href="#嵌套规则" class="headerlink" title="嵌套规则"></a>嵌套规则</h1><h2 id="less的嵌套规则类似HTML的结构，使得CSS代码清晰"><a href="#less的嵌套规则类似HTML的结构，使得CSS代码清晰" class="headerlink" title="less的嵌套规则类似HTML的结构，使得CSS代码清晰"></a>less的嵌套规则类似HTML的结构，使得CSS代码清晰</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*css 写法*/</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line"> <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// less写法</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="selector-tag">a</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="父元素选择符-amp"><a href="#父元素选择符-amp" class="headerlink" title="父元素选择符 &amp;"></a>父元素选择符 <code>&amp;</code></h2><ul><li>表示当前选择器的所有父选择器</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//css写法</span></span><br><span class="line"><span class="selector-class">.bgcolor</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#888888</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//less写法</span></span><br><span class="line"><span class="selector-class">.bgcolor</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>; </span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888888</span>;      </span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="改变选择器的顺序"><a href="#改变选择器的顺序" class="headerlink" title="改变选择器的顺序"></a>改变选择器的顺序</h2><ul><li>将&amp;放到当前选择器之后，会将当前选择器移到最前面</li><li>只需记住 “&amp; 代表当前选择器的所有父选择器”</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="selector-class">.color</span> <span class="selector-tag">&amp;</span>&#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.color</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="组合使用"><a href="#组合使用" class="headerlink" title="组合使用"></a>组合使用</h2><ul><li>将生成所有可能的选择器列表</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.div1</span>, <span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="selector-tag">&amp;</span> <span class="selector-tag">&amp;</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.div1</span>, <span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div1</span> <span class="selector-class">.div2</span>,</span><br><span class="line"><span class="selector-class">.div2</span> <span class="selector-class">.div1</span>,</span><br><span class="line"><span class="selector-class">.div1</span> <span class="selector-class">.div1</span>,</span><br><span class="line"><span class="selector-class">.div2</span> <span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h1><h2 id="变量的定义和使用"><a href="#变量的定义和使用" class="headerlink" title="变量的定义和使用"></a>变量的定义和使用</h2><ul><li>定义：@name: value; （@black: #000;）</li><li>使用场合分3种：<ul><li>常规使用：@name</li><li>作为选择器或属性名：@{name}</li><li>作为URL：”@{name}”</li></ul></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1.常规使用 */</span></span><br><span class="line"><span class="variable">@black:</span> <span class="number">#000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@black</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 2.作用选择器和属性名 */</span></span><br><span class="line"><span class="variable">@selName:</span> container;</span><br><span class="line"><span class="variable">@proName:</span> width;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.@&#123;selName&#125;</span> &#123;</span><br><span class="line">  <span class="attribute">@&#123;proName&#125;</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 3.作为URL */</span></span><br><span class="line"><span class="variable">@imgUrl:</span> <span class="string">"./images/logo.png"</span></span><br><span class="line"></span><br><span class="line">div &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#FFF</span> url(<span class="string">"@&#123;imgUrl&#125;"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#FFF</span> url(<span class="string">"./images/logo.png"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul><li>变量是延迟加载的，可以不预先声明</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@black</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@black:</span> <span class="number">#000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>变量的作用域<ul><li>less会从当前作用域没找到，将往上查找（类似js）</li><li>如果在某级作用域找到多个相同名称的变量，使用最后定义的那个（类似css）</li></ul></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> <span class="number">0</span>;</span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">    <span class="variable">@var:</span> <span class="number">1</span>;</span><br><span class="line">    <span class="selector-class">.brass</span> &#123;</span><br><span class="line">        <span class="variable">@var:</span> <span class="number">2</span>;</span><br><span class="line">        <span class="attribute">three</span>: <span class="variable">@var</span>;</span><br><span class="line">        <span class="variable">@var:</span> <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">one</span>: <span class="variable">@var</span>; <span class="comment">//类似js，无法访问.brass内部</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">    <span class="attribute">one</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class</span> <span class="selector-class">.brass</span> &#123;</span><br><span class="line">    <span class="attribute">three</span>: <span class="number">3</span>;  <span class="comment">//使用最后定义的 @var: 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="混合（mixins）"><a href="#混合（mixins）" class="headerlink" title="混合（mixins）"></a>混合（mixins）</h1><ul><li>混合：一种将一系列属性从一个规则集引入（“混入”）到另一个规则集的方式</li><li>混合是非常重要的一个概念，内容也偏多，可以尝试多看几遍！</li></ul><h2 id="普通混合"><a href="#普通混合" class="headerlink" title="普通混合"></a>普通混合</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//混合</span></span><br><span class="line"><span class="selector-class">.border</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="selector-class">.border</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.border</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="不带参数的混合"><a href="#不带参数的混合" class="headerlink" title="不带参数的混合"></a>不带参数的混合</h2><ul><li>从上面的代码发现，混合也被编译输出了</li><li>在混合名字后加上括号，编译后不再输出</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加括号但不带参数的混合</span></span><br><span class="line"><span class="selector-class">.border</span>() &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="selector-class">.border</span>;  <span class="comment">//加不加括号都可以</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="带参数的混合"><a href="#带参数的混合" class="headerlink" title="带参数的混合"></a>带参数的混合</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//带参数的混合</span></span><br><span class="line"><span class="selector-class">.border</span>(<span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="number">#fff</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="带参数且有默认值的混合"><a href="#带参数且有默认值的混合" class="headerlink" title="带参数且有默认值的混合"></a>带参数且有默认值的混合</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//带参数且有默认值的混合</span></span><br><span class="line"><span class="selector-class">.border</span>(<span class="variable">@color</span>: <span class="number">#fff</span>) &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="selector-class">.border</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="number">#000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: solid <span class="number">1px</span> <span class="number">#000000</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="带多个参数"><a href="#带多个参数" class="headerlink" title="带多个参数"></a>带多个参数</h2><ul><li>多个参数时，参数之间可以用分号或逗号分隔</li><li>注意逗号分隔的是“各个参数”还是“某个列表类型的参数”<ul><li>两个参数，并且每个参数都是逗号分隔的列表：.name(1,2,3; something, ele)</li><li>三个参数，并且每个参数都包含一个数字：.name(1,2,3)</li><li>使用分号，调用包含一个逗号分割的css列表（一个参数）： .name(1,2,3; )</li><li>逗号分割默认值（两个参数）：.name(@param1:red, blue)</li></ul></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//less编写</span></span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@color</span>, <span class="variable">@padding</span>: xxx, <span class="variable">@margin</span>: <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">color-3</span>: <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">padding-3</span>: <span class="variable">@padding</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>; something, ele);  <span class="comment">//2个参数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);                  <span class="comment">//3个参数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>; );                <span class="comment">//1个参数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="attribute">color-3</span>: <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">padding-3</span>: something, ele;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">  <span class="attribute">color-3</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">padding-3</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">3</span> <span class="number">3</span> <span class="number">3</span> <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="attribute">color-3</span>: <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">padding-3</span>: xxx;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="定义多个相同名称的混合"><a href="#定义多个相同名称的混合" class="headerlink" title="定义多个相同名称的混合"></a>定义多个相同名称的混合</h2><ul><li>less会根据参数进行调用相应的混合</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">color-1</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@color</span>; <span class="variable">@padding</span>: <span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">color-2</span>: <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">padding-2</span>: <span class="variable">@padding</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@color</span>; <span class="variable">@padding</span>: <span class="number">3</span>; <span class="variable">@margin</span>) &#123;</span><br><span class="line">  <span class="attribute">color-3</span>: <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">padding-3</span>: <span class="variable">@padding</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span> <span class="variable">@margin</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.some</span> <span class="selector-class">.selector</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">#008000</span>); <span class="comment">//第二个mixins也被调用了，因为 @padding 有默认值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.some</span> <span class="selector-class">.selector</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">#008000</span>, <span class="number">5</span>); <span class="comment">//只有第二个mixins被调用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.some</span> <span class="selector-class">.selector</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color-1</span>: <span class="number">#008000</span>;</span><br><span class="line">  <span class="attribute">color-2</span>: <span class="number">#008000</span>;</span><br><span class="line">  <span class="attribute">padding-2</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.some</span> <span class="selector-class">.selector</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color-2</span>: <span class="number">#008000</span>;</span><br><span class="line">  <span class="attribute">padding-2</span>: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="命名参数"><a href="#命名参数" class="headerlink" title="命名参数"></a>命名参数</h2><ul><li>引用mixin时可以通过参数名称而不是参数的位置来为mixin提供参数值，任何参数都通过名称来引用，这样就不必按照特定的顺序来使用参数</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@color</span>: black; <span class="variable">@margin</span>: <span class="number">10px</span>; <span class="variable">@padding</span>: <span class="number">20px</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="variable">@margin</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="variable">@padding</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="variable">@margin</span>:<span class="number">20</span>; <span class="variable">@color</span>: <span class="number">#33acfe</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">#efca44</span>; <span class="variable">@padding</span>: <span class="number">40px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#33acfe</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#efca44</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="arguments变量"><a href="#arguments变量" class="headerlink" title="@arguments变量"></a>@arguments变量</h2><ul><li>@arguments表示所有可变参数</li><li>参数的先后顺序就是括号内的顺序 ，在赋值时，值的位置和个数也是一一对应的</li><li>只有一个值，把值赋给第一个，两个值，赋给第一个和第二个……</li><li>若想赋给第一个和第三个，必须把第二个参数的默认值写上</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@x</span>: solid, <span class="variable">@c</span>: red) &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">21px</span> <span class="variable">@arguments</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(solid, black)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.div1</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">21px</span> solid <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.div2</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">21px</span> solid <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="匹配模式"><a href="#匹配模式" class="headerlink" title="匹配模式"></a>匹配模式</h2><ul><li>自定义一个字符，使用时加上那个字符，就调用相应的规则</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(all, <span class="variable">@w</span>: <span class="number">5px</span>) &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border</span>(t_l, <span class="variable">@w</span>: <span class="number">5px</span>) &#123;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border</span>(b_l, <span class="variable">@w</span>: <span class="number">5px</span>) &#123;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.border</span>(b_r, <span class="variable">@w</span>: <span class="number">5px</span>) &#123;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="variable">@w</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.border</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(all, <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-class">.border</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="得到混合中变量的返回值"><a href="#得到混合中变量的返回值" class="headerlink" title="得到混合中变量的返回值"></a>得到混合中变量的返回值</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.average</span>(<span class="variable">@x</span>, <span class="variable">@y</span>) &#123;</span><br><span class="line">  <span class="variable">@average</span>((<span class="variable">@x</span> + <span class="variable">@y</span>)/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.average</span>(<span class="number">16px</span>, <span class="number">50px</span>);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="variable">@average</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译结果</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">33px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1、将16px 和 50px 赋值给混合 .average进行计算</span></span><br><span class="line"><span class="comment">2、计算结果赋值给变量 @average</span></span><br><span class="line"><span class="comment">3、然后在div中调用@average的值</span></span><br><span class="line"><span class="comment">4、编译后就得到了average的值33px</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h1 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h1><ul><li>任何数值、颜色值和变量都可以进行运算</li></ul><h2 id="数值类运算"><a href="#数值类运算" class="headerlink" title="数值类运算"></a>数值类运算</h2><ul><li>less会自动推算数值的单位，不必每个值都加上单位</li><li>运算符之间必须以空格分开，存在优先级问题时注意使用括号</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wp</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: (<span class="number">450px</span> - <span class="number">50</span>)*<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.wp</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">900px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="颜色值运算"><a href="#颜色值运算" class="headerlink" title="颜色值运算"></a>颜色值运算</h2><ul><li>先将颜色值转换为rgb模式，运算完后再转换为16进制的颜色值并返回</li><li>注意：取值为0-255，所以计算时不能超过这个区间，超过默认使用0或255</li><li>注意：不能使用颜色名直接运算</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span> + <span class="number">8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//rgb(0,0,0) + 8</span></span><br><span class="line"><span class="comment">//rgb(8,8,8)</span></span><br><span class="line"><span class="comment">//十六进制：#080808</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#080808</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h1><ul><li>有时混合中嵌套了比较多的规则，而我们只需要其中一部分，可使用命名空间获取</li></ul><h2 id="使用-“-gt-”-符号"><a href="#使用-“-gt-”-符号" class="headerlink" title="使用 “&gt;” 符号"></a>使用 “&gt;” 符号</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//混合集</span></span><br><span class="line"><span class="selector-id">#bgcolor</span>() &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="selector-class">.a</span>() &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.b</span>() &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#ff0000</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bgcolor1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fdfee0</span>;</span><br><span class="line">  <span class="selector-id">#bgcolor</span>&gt;<span class="selector-class">.a</span>;     <span class="comment">//只使用.a()</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor2</span> &#123;</span><br><span class="line">  <span class="selector-id">#bgcolor</span>&gt;<span class="selector-class">.a</span>&gt;<span class="selector-class">.b</span>;  <span class="comment">//只使用.b()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.bgcolor1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fdfee0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor1</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor2</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="省略-“-gt-”，换成空格"><a href="#省略-“-gt-”，换成空格" class="headerlink" title="省略 “&gt;”，换成空格"></a>省略 “&gt;”，换成空格</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//混合集</span></span><br><span class="line"><span class="selector-id">#bgcolor</span>() &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="selector-class">.a</span>() &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.b</span>() &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#ff0000</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bgcolor1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fdfee0</span>;</span><br><span class="line">  <span class="selector-id">#bgcolor</span> <span class="selector-class">.a</span>;     <span class="comment">//只使用.a()</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor2</span> &#123;</span><br><span class="line">  <span class="selector-id">#bgcolor</span> <span class="selector-class">.a</span> <span class="selector-class">.b</span>;  <span class="comment">//只使用.b()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.bgcolor1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fdfee0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor1</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgcolor2</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="引入"><a href="#引入" class="headerlink" title="引入"></a>引入</h1><ul><li>引入一个或多个文件，这些文件定义的规则可在当前less文件中使用</li><li>使用@import</li></ul><h2 id="引入less文件"><a href="#引入less文件" class="headerlink" title="引入less文件"></a>引入less文件</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.less</span></span><br><span class="line"><span class="variable">@wp:</span> <span class="number">960px</span>;</span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前less文件</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"main"</span>; <span class="comment">//可以不加后缀</span></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@wp</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="引入css文件"><a href="#引入css文件" class="headerlink" title="引入css文件"></a>引入css文件</h2><ul><li>注意：不能混合css的规则到项目中，编译后原样输出“@import xxx.css”</li><li>并且引入时不能省略后缀名</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.css</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"main.css"</span> ;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@wp</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@wp</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"main.css"</span>;  <span class="comment">//原样输出,但有效，css有这条语句</span></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="带参数的引入"><a href="#带参数的引入" class="headerlink" title="带参数的引入"></a>带参数的引入</h2><ul><li>once：默认，只引入一次</li><li>reference：使用less文件但不输出，注意对比上面的例子（ 不使用会输出没有加括号的混合）</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@wp:</span> <span class="number">960px</span>;</span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前less文件</span></span><br><span class="line"><span class="keyword">@import</span> (reference) <span class="string">"main"</span>;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@wp</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>inline：在输出中包含less文件但是不能操作</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@wp:</span> <span class="number">960px</span>;</span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前less文件</span></span><br><span class="line"><span class="keyword">@import</span> (inline) <span class="string">"main"</span>; </span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@wp</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="variable">@wp:</span> <span class="number">960px</span>;    <span class="comment">//报错，@wp未知</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>less：将文件作为less文件对象，无论什么文件扩展名</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.css文件</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前less</span></span><br><span class="line"><span class="keyword">@import</span> (less) <span class="string">"main.css"</span>;</span><br><span class="line">  <span class="selector-class">.content</span> &#123;</span><br><span class="line"><span class="selector-class">.color</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff6600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>css：将文件作为css文件对象，无论什么文件扩展名</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当前less文件</span></span><br><span class="line"><span class="keyword">@import</span> (css) <span class="string">"main.less"</span>;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">"main.less"</span>;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>multiple：允许引入多次相同文件名的文件</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当前less</span></span><br><span class="line"><span class="keyword">@import</span> (multiple) <span class="string">"main.less"</span>;</span><br><span class="line"><span class="keyword">@import</span> (multiple) <span class="string">"main.less"</span>;</span><br><span class="line"><span class="keyword">@import</span> (multiple) <span class="string">"main.less"</span>;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@wp</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.color</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="important"><a href="#important" class="headerlink" title="!important"></a>!important</h1><ul><li>提升权重优先级为最高（尽量避免使用）</li><li>在调用的混合集后面追加 !important 关键字，混合集中所有属性都继承<code>!important</code></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.foo</span>(<span class="variable">@bg</span>: <span class="number">#fdfdfd</span>, <span class="variable">@color</span>: <span class="number">#900</span>) &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="variable">@bg</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.important</span> &#123;</span><br><span class="line">  <span class="selector-class">.foo</span>() !important</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.important</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fdfdfd</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#990000</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h1><h2 id="带条件的混合"><a href="#带条件的混合" class="headerlink" title="带条件的混合"></a>带条件的混合</h2><ul><li>比较运算符：&gt;, &gt;=, =, =&lt;, &lt;</li><li>格式：when() { }</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lightness() 是检测亮度的函数，用%度量</span></span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>) <span class="keyword">when</span>(lightness(<span class="variable">@a</span>) &gt;= <span class="number">50%</span> ) &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>) <span class="keyword">when</span>(lightness(<span class="variable">@a</span>) &lt; <span class="number">50%</span> ) &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@a</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">#ddd</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">#555</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dddddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: white;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#555555</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="类型检测函数"><a href="#类型检测函数" class="headerlink" title="类型检测函数"></a>类型检测函数</h2><ul><li>检测值的类型<ul><li>iscolor</li><li>isnumber</li><li>isstring</li><li>iskeyword</li><li>isurl</li></ul></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>: <span class="number">#fff</span>; <span class="variable">@b</span>: <span class="number">0</span>) <span class="keyword">when</span>(isnumber(<span class="variable">@b</span>)) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@a</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="variable">@b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>; <span class="variable">@b</span>: black) <span class="keyword">when</span>(iscolor(<span class="variable">@b</span>)) &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="variable">@a</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@b</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="单位检测函数"><a href="#单位检测函数" class="headerlink" title="单位检测函数"></a>单位检测函数</h2><ul><li>检测一个值除了数字是否是一个特定的单位<ul><li>ispixel</li><li>ispercentage</li><li>isem</li><li>isunit</li></ul></li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>) <span class="keyword">when</span>(ispixel(<span class="variable">@a</span>)) &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@a</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@a</span>) <span class="keyword">when</span>(ispercentage(<span class="variable">@a</span>)) &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">960px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="number">95%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.class1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">960px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">95%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h1><ul><li>混合可以调用自身，当一个混合递归调用自身就构成循环结构</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loop</span>(<span class="variable">@counter</span>) <span class="keyword">when</span>(<span class="variable">@counter</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="selector-class">.h</span><span class="variable">@&#123;counter&#125;</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: (<span class="number">10px</span>*<span class="variable">@counter</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.loop</span>((<span class="variable">@counter</span> - <span class="number">1</span>)); <span class="comment">//递归调用自身</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="selector-class">.loop</span>(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-class">.h5</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-class">.h4</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-class">.h3</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-class">.h2</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> <span class="selector-class">.h1</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="合并属性"><a href="#合并属性" class="headerlink" title="合并属性"></a>合并属性</h1><ul><li>将多条规则合并为一条</li></ul><h2 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h2><ul><li>在需要合并的属性的冒号之前加上 “+”，合并后用逗号分隔</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>() &#123;</span><br><span class="line">  <span class="selector-tag">box-shadow</span>+: <span class="selector-tag">inset</span> <span class="selector-tag">0</span> <span class="selector-tag">0</span> <span class="selector-tag">10px</span> <span class="selector-id">#555</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.myclass</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>;</span><br><span class="line">  <span class="selector-tag">box-shadow</span>+: <span class="selector-tag">0</span> <span class="selector-tag">0</span> <span class="selector-tag">20px</span> <span class="selector-tag">black</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.myclass</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#555</span>, <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> black; <span class="comment">//逗号分隔两个属性值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h2><ul><li>在需要合并的属性的冒号之前加上 “+_”，合并用空格分隔</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>() &#123;</span><br><span class="line">  <span class="selector-tag">background</span>+<span class="selector-tag">_</span>: <span class="selector-id">#f66</span>;</span><br><span class="line">  <span class="selector-tag">background</span>+<span class="selector-tag">_</span>: <span class="selector-tag">url</span>(<span class="string">"/sss.jpg"</span>) </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f66</span> url(<span class="string">"/sss.jpg"</span>); <span class="comment">//空格分隔</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="两种方式结合"><a href="#两种方式结合" class="headerlink" title="两种方式结合"></a>两种方式结合</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>() &#123;</span><br><span class="line">  <span class="selector-tag">background</span>+<span class="selector-tag">_</span>: <span class="selector-id">#f66</span>;</span><br><span class="line">  <span class="selector-tag">background</span>+: <span class="selector-tag">url</span>(<span class="string">"/sss.jpg"</span>);</span><br><span class="line">  <span class="selector-tag">background</span>+<span class="selector-tag">_</span>: <span class="selector-tag">no-repeat</span>;</span><br><span class="line">  <span class="selector-tag">background</span>+: <span class="selector-tag">center</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//编译输出</span></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f66</span>, url(<span class="string">"/sss.jpg"</span>)  no-repeat, center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="函数库"><a href="#函数库" class="headerlink" title="函数库"></a>函数库</h1><ul><li>less中封装了非常多函数库，例如颜色定义、颜色操作、颜色混合、字符串处理等等</li><li>例如color()：用于解析颜色，将代表颜色的字符串转换为颜色值</li></ul><p>更多参考：<a href="https://less.bootcss.com/functions/#functions-overview" target="_blank" rel="noopener">https://less.bootcss.com/functions/#functions-overview</a></p><h1 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h1><p>LESS 中的作用域跟其他编程语言非常类似，首先会从本地查找变量或者混合模块，如果没找到的话会去父级作用域中查找，直到找到为止.</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> red;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page</span> &#123;</span><br><span class="line">  <span class="variable">@var:</span> white;</span><br><span class="line">  <span class="selector-id">#header</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// white</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#footer</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@var</span>; <span class="comment">// red  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="避免编译"><a href="#避免编译" class="headerlink" title="避免编译"></a>避免编译</h1><p>有时候我们需要输出一些不正确的CSS语法或者使用一些 LESS不认识的专有语法.</p><p>要输出这样的值我们可以在字符串前加上一个 <code>~</code>, 例如:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="string">~"ms:alwaysHasItsOwnSyntax.For.Stuff()"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//output</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="attribute">ms</span>:alwaysHasItsOwnSyntax.For.Stuff();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><ul><li><code>/**/</code> 可以使用，会被编译</li><li><code>//</code> 可以使用，但不会被编译到css中，会自动过滤掉。</li><li><code>less</code>不认识的内容 不会被编译</li></ul><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p>官方文档：<a href="https://www.html.cn/doc/less/features/" target="_blank" rel="noopener">https://www.html.cn/doc/less/features/</a></p><p><a href="http://www.bootcss.com/p/lesscss/#guide" target="_blank" rel="noopener">http://www.bootcss.com/p/lesscss/#guide</a></p><p><a href="https://www.jianshu.com/p/15ed47ff8b06" target="_blank" rel="noopener">https://www.jianshu.com/p/15ed47ff8b06</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Less是什么&quot;&gt;&lt;a href=&quot;#Less是什么&quot; class=&quot;headerlink&quot; title=&quot;Less是什么&quot;&gt;&lt;/a&gt;Less是什么&lt;/h1&gt;&lt;p&gt;LESS 将 CSS 赋予了动态语言的特性，如 变量， 继承， 运算， 函数. LESS 既可以在 客户端 上运行 (支持IE 6+, Webkit, Firefox)，也可以借助Node.js或者Rhino在服务端运行。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.html.cn/doc/less/features/#mixin-guards-feature&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Less官方文档&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="CSS" scheme="http://hackycy.github.io/categories/CSS/"/>
    
    
      <category term="CSS" scheme="http://hackycy.github.io/tags/CSS/"/>
    
      <category term="Less" scheme="http://hackycy.github.io/tags/Less/"/>
    
  </entry>
  
  <entry>
    <title>Android混淆(Proguard)详解</title>
    <link href="http://hackycy.github.io/2019/04/12/Android%E6%B7%B7%E6%B7%86-Proguard-%E8%AF%A6%E8%A7%A3/"/>
    <id>http://hackycy.github.io/2019/04/12/Android混淆-Proguard-详解/</id>
    <published>2019-04-12T09:11:12.000Z</published>
    <updated>2019-04-15T03:19:59.756Z</updated>
    
    <content type="html"><![CDATA[<h1 id="混淆的作用及好处"><a href="#混淆的作用及好处" class="headerlink" title="混淆的作用及好处"></a>混淆的作用及好处</h1><p>混淆属于整个应用程序开发生命周期偏后期阶段的技术了，所以要考虑应用的安全性及性能的问题，混淆就是为了这种需求产生的一种技术，简单说，混淆就是将关键字和关键类名，修改为无意义的字符以起到迷惑试图反编译去查看源码的人。在一定程度上能过滤掉一些入门反编译者，混淆是保障Android程序源码安全的第一道门槛，<br>以上谈了下混淆的作用，而混淆的好处除了能保证源码安全性之外就大概是通过修改关键字为无意义字符串，或者剔除某些辅助类，比如Log，从而减少文件大小。</p><a id="more"></a><h1 id="混淆的原理"><a href="#混淆的原理" class="headerlink" title="混淆的原理"></a>混淆的原理</h1><p><a href="https://www.guardsquare.com/en/products/proguard" target="_blank" rel="noopener">proguard官网</a></p><p>Java 是一种跨平台的、解释型语言，Java 源代码编译成中间”字节码”存储于 class 文件中。由于跨平台的需要，Java   字节码中包括了很多源代码信息，如变量名、方法名，并且通过这些名称来访问变量和方法，这些符号带有许多语义信息，很容易被反编译成 Java 源代码。为了防止这种现象，我们可以使用 Java 混淆器对 Java 字节码进行混淆。<br>混淆就是对发布出去的程序进行重新组织和处理，使得处理后的代码与处理前代码完成相同的功能，而混淆后的代码很难被反编译，即使反编译成功也很难得出程序的真正语义。被混淆过的程序代码，仍然遵照原来的档案格式和指令集，执行结果也与混淆前一样，只是混淆器将代码中的所有变量、函数、类的名称变为简短的英文字母代号，在缺乏相应的函数名和程序注释的况下，即使被反编译，也将难以阅读。同时混淆是不可逆的，在混淆的过程中一些不影响正常运行的信息将永久丢失，这些信息的丢失使程序变得更加难以理解。<br>混淆器的作用不仅仅是保护代码，它也有精简编译后程序大小的作用。由于以上介绍的缩短变量和函数名以及丢失部分信息的原因， 编译后 jar 文件体积大约能减少25%，这对当前费用较贵的无线网络传输是有一定意义的。</p><h1 id="混淆的具体使用"><a href="#混淆的具体使用" class="headerlink" title="混淆的具体使用"></a>混淆的具体使用</h1><p>模块(Module)下的build.gradle的配置</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android&#123;</span><br><span class="line">  buildTypes&#123;</span><br><span class="line">    release &#123; </span><br><span class="line">       <span class="comment">// 是否进行混淆  </span></span><br><span class="line">       minifyEnabled <span class="keyword">false</span>  </span><br><span class="line">       <span class="comment">// 混淆文件的位置，其中'proguard-android.txt'为sdk默认的混淆配置，</span></span><br><span class="line">       <span class="comment">//'proguard-rules.pro' 是该模块下的混淆配置</span></span><br><span class="line">       proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span>  </span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上是proguard在模块下build.gradle文件中的配置信息，其中<code>proguard-android.txt</code>为sdk默认的混淆配置，<code>proguard-rules.pro</code>是在默认配置的基础上针对本模块做出的针对性混淆处理。</p><ul><li>proguard-android.txt 这个文件是系统默认混淆文件一般不需要做修改</li><li>在 debug 版下也可以开启混淆做为测试</li><li>Gradle 2.2 之后，defaultProguardFile 没有使用 SDK 目录下的 proguard-android.txt，而是使用了 gradle 自带的 proguard-android.txt，不同的 gradle 版本带有不同的默认混淆文件，比如在项目根目录的 build/intermediates/proguard-files/proguard-android.txt-2.3.3，即为 gradle 自带的混淆文件。在 proguard-android.txt-2.3.3 文件中也写有说明，Gradle 2.2 之后自带混淆文件</li></ul><blockquote><p>注：proguard-android.txt的位置位于android-sdk/tools/proguard/proguard-android.txt</p></blockquote><h1 id="混淆规则"><a href="#混淆规则" class="headerlink" title="混淆规则"></a>混淆规则</h1><p>这个语法的作用是定义出 <strong>不需要</strong>混淆的源代码，那么编译时会自动将未定义的部分全都混淆。而如下是不需要混淆的</p><ul><li>Android 四大组件</li><li>native方法</li><li>Java 反射用到的类</li><li>自定义控件</li><li>枚举类</li><li>JavaBean</li><li>Parcelable、Serializable 序列化类</li><li>WebView 与 JS 交互所用到的类和方法</li></ul><h1 id="混淆基本指令"><a href="#混淆基本指令" class="headerlink" title="混淆基本指令"></a>混淆基本指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"># 代码混淆压缩比，在 0~7 之间</span><br><span class="line">-optimizationpasses 5</span><br><span class="line"></span><br><span class="line"># 混合时不使用大小写混合，混合后的类名为小写</span><br><span class="line">-dontusemixedcaseclassnames</span><br><span class="line"></span><br><span class="line"># 指定不忽略非公共库的类和类成员</span><br><span class="line">-dontskipnonpubliclibraryclasses</span><br><span class="line">-dontskipnonpubliclibraryclassmembers</span><br><span class="line"></span><br><span class="line"># 这句话能够使我们的项目混淆后产生映射文件</span><br><span class="line"># 包含有类名-&gt;混淆后类名的映射关系</span><br><span class="line">-verbose</span><br><span class="line"></span><br><span class="line"># 不做预校验，preverify是proguard的四个步骤之一，Android不需要preverify，去掉这一步能够加快混淆速度</span><br><span class="line">-dontpreverify</span><br><span class="line"></span><br><span class="line"># 保留Annotation不混淆</span><br><span class="line">-keepattributes *Annotation*,InnerClasses</span><br><span class="line"></span><br><span class="line"># 避免混淆泛型</span><br><span class="line">-keepattributes Signature</span><br><span class="line"></span><br><span class="line"># 抛出异常时保留代码行号</span><br><span class="line">-keepattributes SourceFile,LineNumberTable</span><br><span class="line"></span><br><span class="line"># 指定混淆是采用的算法，后面的参数是一个过滤器</span><br><span class="line"># 这个过滤器是 Google 推荐的算法，一般不做修改</span><br><span class="line">-optimizations !code/simplification/arithmetic,!code/simplification/cast,!field/*,!class/merging/*</span><br><span class="line"></span><br><span class="line"># 是否允许改变作用域的，可以提高优化效果</span><br><span class="line"># 但是，如果你的代码是一个库的话，最好不要配置这个选项，因为它可能会导致一些 private 变量被改成 public，谨慎使用</span><br><span class="line">#-allowaccessmodification</span><br><span class="line"></span><br><span class="line"># 指定一些接口可能会被合并，即使一些子类没有同时实现两个接口的方法。这种情况在java源码中是不允许存在的，但是在java字节码中是允许存在的。</span><br><span class="line"># 它的作用是通过合并接口减少类的数量，从而达到减少输出文件体积的效果。仅在 optimize 阶段有效。</span><br><span class="line"># 如果在开启后没有任何影响可以使用，这项配置对于一些虚拟机的65535方法数限制是有一定效果的，谨慎使用</span><br><span class="line">#-mergeinterfacesaggressively</span><br><span class="line"></span><br><span class="line"># 输出所有找不到引用和一些其它错误的警告，但是继续执行处理过程。不处理警告有些危险，所以在清楚配置的具体作用的时候再使用</span><br><span class="line">-ignorewarnings</span><br></pre></td></tr></table></figure><h1 id="详细指令"><a href="#详细指令" class="headerlink" title="详细指令"></a>详细指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">-include &#123;filename&#125;     #从给定的文件中读取配置参数</span><br><span class="line">-basedirectory &#123;directoryname&#125;    #指定基础目录为以后相对的档案名称</span><br><span class="line">-injars &#123;class_path&#125;    #指定要处理的应用程序jar,war,ear和目录</span><br><span class="line">-outjars &#123;class_path&#125;     #指定处理完后要输出的jar,war,ear和目录的名称</span><br><span class="line">-libraryjars &#123;classpath&#125;     #指定要处理的应用程序jar,war,ear和目录所需要的程序库文件</span><br><span class="line">-dontskipnonpubliclibraryclasses     #指定不去忽略非公共的库类。</span><br><span class="line">-dontskipnonpubliclibraryclassmembers     #指定不去忽略包可见的库类的成员。</span><br><span class="line"></span><br><span class="line"> #保留选项</span><br><span class="line">-keep &#123;Modifier&#125; &#123;class_specification&#125;     #保护指定的类文件和类的成员</span><br><span class="line">-keepclassmembers &#123;modifier&#125; &#123;class_specification&#125;     #保护指定类的成员，如果此类受到保护他们会保护的更好</span><br><span class="line">-keepclasseswithmembers &#123;class_specification&#125;     #保护指定的类和类的成员，但条件是所有指定的类和类成员是要存在。</span><br><span class="line">-keepnames &#123;class_specification&#125;     #保护指定的类和类的成员的名称（如果他们不会压缩步骤中删除）</span><br><span class="line">-keepclassmembernames &#123;class_specification&#125;     #保护指定的类的成员的名称（如果他们不会压缩步骤中删除）</span><br><span class="line">-keepclasseswithmembernames &#123;class_specification&#125;     #保护指定的类和类的成员的名称，如果所有指定的类成员出席（在压缩步骤之后）</span><br><span class="line">-printseeds &#123;filename&#125;     #列出类和类的成员-keep选项的清单，标准输出到给定的文件</span><br><span class="line"></span><br><span class="line"> #压缩</span><br><span class="line">-dontshrink     #不压缩输入的类文件</span><br><span class="line">-printusage &#123;filename&#125;</span><br><span class="line">-whyareyoukeeping &#123;class_specification&#125;</span><br><span class="line"></span><br><span class="line"> #优化</span><br><span class="line">-dontoptimize     #不优化输入的类文件</span><br><span class="line">-assumenosideeffects &#123;class_specification&#125;     #优化时假设指定的方法，没有任何副作用</span><br><span class="line">-allowaccessmodification     #优化时允许访问并修改有修饰符的类和类的成员</span><br><span class="line"></span><br><span class="line"> #混淆</span><br><span class="line">-dontobfuscate     #不混淆输入的类文件</span><br><span class="line">-printmapping &#123;filename&#125;</span><br><span class="line">-applymapping &#123;filename&#125;     #重用映射增加混淆</span><br><span class="line">-obfuscationdictionary &#123;filename&#125;     #使用给定文件中的关键字作为要混淆方法的名称</span><br><span class="line">-overloadaggressively     #混淆时应用侵入式重载</span><br><span class="line">-useuniqueclassmembernames     #确定统一的混淆类的成员名称来增加混淆</span><br><span class="line">-flattenpackagehierarchy &#123;package_name&#125;     #重新包装所有重命名的包并放在给定的单一包中</span><br><span class="line">-repackageclass &#123;package_name&#125;     #重新包装所有重命名的类文件中放在给定的单一包中</span><br><span class="line">-dontusemixedcaseclassnames     #混淆时不会产生形形色色的类名</span><br><span class="line">-keepattributes &#123;attribute_name,...&#125;     #保护给定的可选属性，例如LineNumberTable, LocalVariableTable, SourceFile, Deprecated, Synthetic, Signature, and</span><br><span class="line"></span><br><span class="line"> #InnerClasses.</span><br><span class="line">-renamesourcefileattribute &#123;string&#125;     #设置源文件中给定的字符串常量</span><br></pre></td></tr></table></figure><h1 id="混淆日志"><a href="#混淆日志" class="headerlink" title="混淆日志"></a>混淆日志</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># APK 包内所有 class 的内部结构</span><br><span class="line">-dump proguard/class_files.txt</span><br><span class="line"># 未混淆的类和成员</span><br><span class="line">-printseeds proguard/seeds.txt</span><br><span class="line"># 列出从 APK 中删除的代码</span><br><span class="line">-printusage proguard/unused.txt</span><br><span class="line"># 混淆前后的映射，这个文件在追踪异常的时候是有用的</span><br><span class="line">-printmapping proguard/mapping.txt</span><br></pre></td></tr></table></figure><h1 id="其他自定义混淆规则"><a href="#其他自定义混淆规则" class="headerlink" title="其他自定义混淆规则"></a>其他自定义混淆规则</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># JavaBean 实体类不能混淆，一般会将实体类统一放到一个包下，you.package.path 请改成你自己的项目路径</span><br><span class="line">-keep public class com.frame.mvp.entity.** &#123;</span><br><span class="line">    *;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 网页中的 JavaScript 进行交互，you.package.path 请改成你自己的项目路径</span><br><span class="line">#-keepclassmembers class you.package.path.JSInterface &#123;</span><br><span class="line">#    &lt;methods&gt;;</span><br><span class="line">#&#125;</span><br><span class="line"></span><br><span class="line"># 需要通过反射来调用的类，没有可忽略，you.package.path 请改成你自己的项目路径</span><br><span class="line">#-keep class you.package.path.** &#123; *; &#125;</span><br></pre></td></tr></table></figure><h1 id="一些不是很常用但比较实用的混淆命令"><a href="#一些不是很常用但比较实用的混淆命令" class="headerlink" title="一些不是很常用但比较实用的混淆命令"></a>一些不是很常用但比较实用的混淆命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># 所有重新命名的包都重新打包，并把所有的类移动到所给定的包下面。如果没有指定 packagename，那么所有的类都会被移动到根目录下</span><br><span class="line"># 如果需要从目录中读取资源文件，移动包的位置可能会导致异常，谨慎使用</span><br><span class="line"># you.package.path 请改成你自己的项目路径</span><br><span class="line">-flatternpackagehierarchy</span><br><span class="line"></span><br><span class="line"># 所有重新命名过的类都重新打包，并把他们移动到指定的packagename目录下。如果没有指定 packagename，同样把他们放到根目录下面。</span><br><span class="line"># 这项配置会覆盖-flatternpackagehierarchy的配置。它可以代码体积更小，并且更加难以理解。</span><br><span class="line"># you.package.path 请改成你自己的项目路径</span><br><span class="line">-repackageclasses you.package.path</span><br><span class="line"></span><br><span class="line"># 指定一个文本文件用来生成混淆后的名字。默认情况下，混淆后的名字一般为 a、b、c 这种。</span><br><span class="line"># 通过使用配置的字典文件，可以使用一些非英文字符做为类名。成员变量名、方法名。字典文件中的空格，标点符号，重复的词，还有以&apos;#&apos;开头的行都会被忽略。</span><br><span class="line"># 需要注意的是添加了字典并不会显著提高混淆的效果，只不过是更不利与人类的阅读。正常的编译器会自动处理他们，并且输出出来的jar包也可以轻易的换个字典再重新混淆一次。</span><br><span class="line"># 最有用的做法一般是选择已经在类文件中存在的字符串做字典，这样可以稍微压缩包的体积。</span><br><span class="line"># 字典文件的格式：一行一个单词，空行忽略，重复忽略</span><br><span class="line">-obfuscationdictionary</span><br><span class="line"></span><br><span class="line"># 指定一个混淆类名的字典，字典格式与 -obfuscationdictionary 相同</span><br><span class="line">#-classobfuscationdictionary</span><br><span class="line"># 指定一个混淆包名的字典，字典格式与 -obfuscationdictionary 相同</span><br><span class="line">-packageobfuscationdictionary</span><br><span class="line"></span><br><span class="line"># 混淆的时候大量使用重载，多个方法名使用同一个混淆名，但是他们的方法签名不同。这可以使包的体积减小一部分，也可以加大理解的难度。仅在混淆阶段有效。</span><br><span class="line"># 这个参数在 JDK 版本上有一定的限制，可能会导致一些未知的错误，谨慎使用</span><br><span class="line">-overloadaggressively</span><br><span class="line"></span><br><span class="line"># 方法同名混淆后亦同名，方法不同名混淆后亦不同名。不使用该选项时，类成员可被映射到相同的名称。因此该选项会增加些许输出文件的大小。</span><br><span class="line">-useuniqueclassmembernames</span><br><span class="line"></span><br><span class="line"># 指定在混淆的时候不使用大小写混用的类名。默认情况下，混淆后的类名可能同时包含大写字母和小写字母。</span><br><span class="line"># 这样生成jar包并没有什么问题。只有在大小写不敏感的系统（例如windows）上解压时，才会涉及到这个问题。</span><br><span class="line"># 因为大小写不区分，可能会导致部分文件在解压的时候相互覆盖。如果有在windows系统上解压输出包的需求的话，可以加上这个配置。</span><br><span class="line">-dontusemixedcaseclassnames</span><br></pre></td></tr></table></figure><h1 id="Android开发常用不需要混淆指令"><a href="#Android开发常用不需要混淆指令" class="headerlink" title="Android开发常用不需要混淆指令"></a>Android开发常用不需要混淆指令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"># Android 四大组件相关</span><br><span class="line">-keep public class * extends android.app.Activity</span><br><span class="line">-keep public class * extends android.app.Appliction</span><br><span class="line">-keep public class * extends android.app.Service</span><br><span class="line">-keep public class * extends android.content.BroadcastReceiver</span><br><span class="line">-keep public class * extends android.content.ContentProvider</span><br><span class="line">-keep public class * extends android.app.backup.BackupAgentHelper</span><br><span class="line">-keep public class * extends android.preference.Preference</span><br><span class="line">-keep public class * extends android.view.View</span><br><span class="line">-keep public class com.android.vending.licensing.ILicensingService</span><br><span class="line"></span><br><span class="line"># Fragment</span><br><span class="line">-keep public class * extends android.support.v4.app.Fragment</span><br><span class="line">-keep public class * extends android.app.Fragment</span><br><span class="line"></span><br><span class="line"># 保留support下的所有类及其内部类</span><br><span class="line">-keep class android.support.** &#123; *; &#125;</span><br><span class="line">-keep interface android.support.** &#123; *; &#125;</span><br><span class="line">-dontwarn android.support.**</span><br><span class="line"></span><br><span class="line"># 保留 R 下面的资源</span><br><span class="line">-keep class **.R$* &#123;*;&#125;</span><br><span class="line">-keepclassmembers class **.R$* &#123;</span><br><span class="line">    public static &lt;fields&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留本地 native 方法不被混淆</span><br><span class="line">-keepclasseswithmembernames class * &#123;</span><br><span class="line">    native &lt;methods&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留在 Activity 中的方法参数是 view 的方法，</span><br><span class="line"># 这样以来我们在 layout 中写的 onClick 就不会被影响</span><br><span class="line">-keepclassmembers class * extends android.app.Activity&#123;</span><br><span class="line">    public void *(android.view.View);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留枚举类不被混淆</span><br><span class="line">-keepclassmembers enum * &#123;</span><br><span class="line">    public static **[] values();</span><br><span class="line">    public static ** valueOf(java.lang.String);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留自定义控件（继承自View）不被混淆</span><br><span class="line">-keep public class * extends android.view.View&#123;</span><br><span class="line">    *** get*();</span><br><span class="line">    void set*(***);</span><br><span class="line">    public &lt;init&gt;(android.content.Context);</span><br><span class="line">    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);</span><br><span class="line">    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留 Parcelable 序列化类不被混淆</span><br><span class="line">-keep class * implements android.os.Parcelable &#123;</span><br><span class="line">  public static final android.os.Parcelable$Creator *;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 保留 Serializable 序列化的类不被混淆</span><br><span class="line">-keepclassmembers class * implements java.io.Serializable &#123;</span><br><span class="line">    static final long serialVersionUID;</span><br><span class="line">    private static final java.io.ObjectStreamField[] serialPersistentFields;</span><br><span class="line">    private void writeObject(java.io.ObjectOutputStream);</span><br><span class="line">    private void readObject(java.io.ObjectInputStream);</span><br><span class="line">    java.lang.Object writeReplace();</span><br><span class="line">    java.lang.Object readResolve();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 对于带有回调函数的 onXXEvent 的，不能被混淆</span><br><span class="line">-keepclassmembers class * &#123;</span><br><span class="line">    void *(**On*Event);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># WebView，没有使用 WebView 请注释掉</span><br><span class="line">-keepclassmembers class fqcn.of.javascript.interface.for.webview &#123;</span><br><span class="line">   public *;</span><br><span class="line">&#125;</span><br><span class="line">-keepclassmembers class * extends android.webkit.webViewClient &#123;</span><br><span class="line">    public void *(android.webkit.WebView, java.lang.String, android.graphics.Bitmap);</span><br><span class="line">    public boolean *(android.webkit.WebView, java.lang.String);</span><br><span class="line">&#125;</span><br><span class="line">-keepclassmembers class * extends android.webkit.webViewClient &#123;</span><br><span class="line">    public void *(android.webkit.webView, jav.lang.String);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 不混淆使用了 @Keep 注解相关的类</span><br><span class="line">-keep class android.support.annotation.Keep</span><br><span class="line"></span><br><span class="line">-keep @android.support.annotation.Keep class * &#123;*;&#125;</span><br><span class="line"></span><br><span class="line">-keepclasseswithmembers class * &#123;</span><br><span class="line">    @android.support.annotation.Keep &lt;methods&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-keepclasseswithmembers class * &#123;</span><br><span class="line">    @android.support.annotation.Keep &lt;fields&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-keepclasseswithmembers class * &#123;</span><br><span class="line">    @android.support.annotation.Keep &lt;init&gt;(...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 删除代码中 Log 相关的代码，如果删除了一些预料之外的代码，很容易就会导致代码崩溃，谨慎使用</span><br><span class="line">-assumenosideeffects class android.util.Log&#123;</span><br><span class="line">   public static boolean isLoggable(java.lang.String,int);</span><br><span class="line">   public static int v(...);</span><br><span class="line">   public static int i(...);</span><br><span class="line">   public static int w(...);</span><br><span class="line">   public static int d(...);</span><br><span class="line">   public static int e(...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 删除自定义Log工具</span><br><span class="line">-assumenosideeffects class com.example.Log.Logger&#123;</span><br><span class="line">   public static int v(...);</span><br><span class="line">   public static int i(...);</span><br><span class="line">   public static int w(...);</span><br><span class="line">   public static int d(...);</span><br><span class="line">   public static int e(...);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">-ignorewarnings                     # 忽略警告，避免打包时某些警告出现  </span><br><span class="line">-optimizationpasses 5               # 指定代码的压缩级别  </span><br><span class="line">-dontusemixedcaseclassnames         # 是否使用大小写混合  </span><br><span class="line">-dontskipnonpubliclibraryclasses    # 是否混淆第三方jar  </span><br><span class="line">-dontpreverify                      # 混淆时是否做预校验  </span><br><span class="line">-verbose                            # 混淆时是否记录日志  </span><br><span class="line">-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*        # 混淆时所采用的算法  </span><br><span class="line">  </span><br><span class="line">-libraryjars   libs/treecore.jar  </span><br><span class="line">  </span><br><span class="line">-dontwarn android.support.v4.**     #缺省proguard 会检查每一个引用是否正确，但是第三方库里面往往有些不会用到的类，没有正确引用。如果不配置的话，系统就会报错。  </span><br><span class="line">-dontwarn android.os.**  </span><br><span class="line">-keep class android.support.v4.** &#123; *; &#125;        # 保持哪些类不被混淆  </span><br><span class="line">-keep class com.baidu.** &#123; *; &#125;    </span><br><span class="line">-keep class vi.com.gdi.bgl.android.**&#123;*;&#125;  </span><br><span class="line">-keep class android.os.**&#123;*;&#125;  </span><br><span class="line">  </span><br><span class="line">-keep interface android.support.v4.app.** &#123; *; &#125;    </span><br><span class="line">-keep public class * extends android.support.v4.**    </span><br><span class="line">-keep public class * extends android.app.Fragment  </span><br><span class="line">  </span><br><span class="line">-keep public class * extends android.app.Activity  </span><br><span class="line">-keep public class * extends android.app.Application  </span><br><span class="line">-keep public class * extends android.app.Service  </span><br><span class="line">-keep public class * extends android.content.BroadcastReceiver  </span><br><span class="line">-keep public class * extends android.content.ContentProvider  </span><br><span class="line">-keep public class * extends android.support.v4.widget  </span><br><span class="line">-keep public class * extends com.sqlcrypt.database  </span><br><span class="line">-keep public class * extends com.sqlcrypt.database.sqlite  </span><br><span class="line">-keep public class * extends com.treecore.**  </span><br><span class="line">-keep public class * extends de.greenrobot.dao.**  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">-keepclasseswithmembernames class * &#123;       # 保持 native 方法不被混淆  </span><br><span class="line">    native &lt;methods&gt;;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keepclasseswithmembers class * &#123;            # 保持自定义控件类不被混淆  </span><br><span class="line">    public &lt;init&gt;(android.content.Context, android.util.AttributeSet);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keepclasseswithmembers class * &#123;            # 保持自定义控件类不被混淆  </span><br><span class="line">    public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keepclassmembers class * extends android.app.Activity &#123; //保持类成员  </span><br><span class="line">   public void *(android.view.View);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keepclassmembers enum * &#123;                  # 保持枚举 enum 类不被混淆  </span><br><span class="line">    public static **[] values();  </span><br><span class="line">    public static ** valueOf(java.lang.String);  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keep class * implements android.os.Parcelable &#123;    # 保持 Parcelable 不被混淆  </span><br><span class="line">  public static final android.os.Parcelable$Creator *;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">-keep class MyClass;                              # 保持自己定义的类不被混淆</span><br></pre></td></tr></table></figure><h1 id="资源混淆"><a href="#资源混淆" class="headerlink" title="资源混淆"></a>资源混淆</h1><p><code>AndResGuard</code>是一个帮助你缩小APK大小的工具，他的原理类似Java Proguard，但是只针对资源。他会将原本冗长的资源路径变短，例如将<code>res/drawable/wechat变为r/d/a</code>。</p><p><code>AndResGuard</code>不涉及编译过程，只需输入一个apk(无论签名与否，<code>debug</code>版，<code>release</code>版均可，在处理过程中会直接将原签名删除)，可得到一个实现资源混淆后的apk(若在配置文件中输入签名信息，可自动重签名并对齐，得到可直接发布的apk)以及对应资源ID的mapping文件。</p><p><a href="https://github.com/shwenzhang/AndResGuard/blob/master/README.zh-cn.md" target="_blank" rel="noopener">github</a></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=208135658&amp;idx=1&amp;sn=ac9bd6b4927e9e82f9fa14e396183a8f#rd" target="_blank" rel="noopener">原理</a></p><h1 id="丧心病狂的混淆操作"><a href="#丧心病狂的混淆操作" class="headerlink" title="丧心病狂的混淆操作"></a>丧心病狂的混淆操作</h1><p>原理：混淆是可以配置词典,<a href="https://mp.weixin.qq.com/s/ya0RiLuHfIBrPLkl2lTbaA" target="_blank" rel="noopener">原文链接</a></p><p>随便找一个开源项目上手</p><p><a href="https://github.com/kingwang666/GetApk" target="_blank" rel="noopener">https://github.com/kingwang666/GetApk</a></p><p>开启混淆</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;</span><br><span class="line">    debug &#123;</span><br><span class="line">        minifyEnabled <span class="keyword">true</span></span><br><span class="line">        proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到上面配置了混淆文件包含：<code>proguard-rules.pro</code></p><p>和moudule的build.gradle在同一目录，在里面可以添加你的词典配置：</p><p><img src="demo.png" alt=""></p><blockquote><p>强烈建议，开启混淆后，配置词典前，先打个包运行一下确定可以正常运行。</p></blockquote><p>最后上面的混淆词典，分别来自不同的开源项目：</p><p><a href="https://github.com/RockyQu/ProguardDictionary" target="_blank" rel="noopener">https://github.com/RockyQu/ProguardDictionary</a></p><p>包含使用Java关键词的词典。</p><p><a href="https://github.com/o2e/ProguardDictionaryGenerator" target="_blank" rel="noopener">https://github.com/o2e/ProguardDictionaryGenerator</a></p><p>包含最后那个全是非常神奇的字符的。</p><p><a href="https://github.com/WrBug/FrenziedProguard" target="_blank" rel="noopener">https://github.com/WrBug/FrenziedProguard</a></p><p>包含1il,中文，0oO的。</p><blockquote><p>放一个混淆后的apk地址，如果实在懒得run又想看看效果：<br><a href="http://wanandroid.com/blogimgs/57ed3c61-08ee-4a3f-b859-f3cd1d748437.apk" target="_blank" rel="noopener">http://wanandroid.com/blogimgs/57ed3c61-08ee-4a3f-b859-f3cd1d748437.apk</a></p></blockquote><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a href="https://www.jianshu.com/p/60e82aafcfd0" target="_blank" rel="noopener">https://www.jianshu.com/p/60e82aafcfd0</a></p><p><a href="https://rockycoder.cn/android/2018/03/15/Android-proguard-rules.html" target="_blank" rel="noopener">https://rockycoder.cn/android/2018/03/15/Android-proguard-rules.html</a></p><p><a href="https://juejin.im/post/5ae7edc7f265da0b776f7a95" target="_blank" rel="noopener">https://juejin.im/post/5ae7edc7f265da0b776f7a95</a></p><p><a href="https://www.imooc.com/learn/879" target="_blank" rel="noopener">https://www.imooc.com/learn/879</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;混淆的作用及好处&quot;&gt;&lt;a href=&quot;#混淆的作用及好处&quot; class=&quot;headerlink&quot; title=&quot;混淆的作用及好处&quot;&gt;&lt;/a&gt;混淆的作用及好处&lt;/h1&gt;&lt;p&gt;混淆属于整个应用程序开发生命周期偏后期阶段的技术了，所以要考虑应用的安全性及性能的问题，混淆就是为了这种需求产生的一种技术，简单说，混淆就是将关键字和关键类名，修改为无意义的字符以起到迷惑试图反编译去查看源码的人。在一定程度上能过滤掉一些入门反编译者，混淆是保障Android程序源码安全的第一道门槛，&lt;br&gt;以上谈了下混淆的作用，而混淆的好处除了能保证源码安全性之外就大概是通过修改关键字为无意义字符串，或者剔除某些辅助类，比如Log，从而减少文件大小。&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://hackycy.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://hackycy.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Mac应用程序无法打开或文件损坏的处理方法</title>
    <link href="http://hackycy.github.io/2019/04/12/Mac%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E6%88%96%E6%96%87%E4%BB%B6%E6%8D%9F%E5%9D%8F%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/"/>
    <id>http://hackycy.github.io/2019/04/12/Mac应用程序无法打开或文件损坏的处理方法/</id>
    <published>2019-04-12T08:23:11.000Z</published>
    <updated>2019-04-12T08:37:18.235Z</updated>
    
    <content type="html"><![CDATA[<p>今天安装一些软件时遇到了 <strong>无法打开或文件损坏的Mac应用程序</strong>，所以查了一下解决办法，记录在了博客下。</p><p>本人机器系统版本<code>Mojave 10.14.4</code></p><a id="more"></a><h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><p>大多数用户在安装 Mac 应用时，经常会遇到提示 “ XXX.app 已损坏，打不开。您应该将它移到废纸篓 ” 或 “ 打不开 XXX.app，因为它来自身份不明的开发者 ” ，如下图所示：</p><p><img src="f1.png" alt=""></p><p><img src="f2.png" alt=""></p><p><strong>1. 打开系统偏好设置界面，进入安全性与隐私</strong></p><p><img src="f3.jpeg" alt=""></p><p><strong>2. 点按左下角的锁头图标，解锁更改权限</strong></p><p><strong>3. 将允许从以下位置下载的应用，更改为 “ 任何来源 ” ，然后再打开应用即可</strong></p><p><img src="f4.jpeg" alt=""></p><p>若没有“任何来源”这个选项（<code>macOS Sierra 10.12</code>及以上的用户可能会遇到），按以下步骤执行：<br>打开终端<code>（Terminal.app）</code><br>拷贝粘贴<code>sudo spctl --master-disable</code>，按回车键</p><p>输入你的账户密码，按回车键确认执行（该密码不会显示，直接输入即可）</p><p><img src="f5.png" alt=""></p><p><img src="f6.png" alt=""></p><h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>如安装应用时，出现 “ 打不开 XXX.app，因为它来自身份不明的开发者 ” ，并提示你的软件在什么位置什么时间下载了磁盘影像。如图所示：</p><p><img src="f7.png" alt=""></p><p><strong>1、将软件放入“应用程序”后，点击软件 右键-打开 ，如图所示：</strong></p><p><img src="f8.png" alt=""></p><p><strong>2、弹出以下对话框后，你打开即可。</strong></p><p><img src="f9.png" alt=""></p><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a href="http://www.puasu.com/article/share/201805/10.html" target="_blank" rel="noopener">http://www.puasu.com/article/share/201805/10.html</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天安装一些软件时遇到了 &lt;strong&gt;无法打开或文件损坏的Mac应用程序&lt;/strong&gt;，所以查了一下解决办法，记录在了博客下。&lt;/p&gt;
&lt;p&gt;本人机器系统版本&lt;code&gt;Mojave 10.14.4&lt;/code&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="程序人生" scheme="http://hackycy.github.io/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/"/>
    
    
      <category term="Mac" scheme="http://hackycy.github.io/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>移动端前端开发之viewport</title>
    <link href="http://hackycy.github.io/2019/04/11/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%B9%8Bviewport/"/>
    <id>http://hackycy.github.io/2019/04/11/移动端前端开发之viewport/</id>
    <published>2019-04-11T09:13:02.000Z</published>
    <updated>2019-05-06T16:05:01.265Z</updated>
    
    <content type="html"><![CDATA[<h1 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h1><p>浏览器的<code>viewport</code>是可以看到Web内容的窗口区域，通常与渲染出的页面的大小不同，这种情况下，浏览器会提供滚动条以滚动访问所有内容。</p><p>窄屏幕设备（如移动设备）在一个虚拟窗口或视口中渲染页面，这个窗口或视口通常比屏幕宽；然后缩小渲染的结果，以便在一屏内显示所有内容。然后用户可以移动、缩放以查看页面的不同区域。例如，如果移动屏幕的宽度为640px，则可能会用980px的虚拟视口渲染页面，然后缩小页面以适应640px的窗口大小。</p><p>这样做是因为许多页面没有做移动端优化，在小窗口渲染时会乱掉（或看起来乱）。所以，这种虚拟视口是一种让未做移动端优化的网站在窄屏设备上看起来更好的办法。</p><a id="more"></a><h1 id="移动浏览器的问题"><a href="#移动浏览器的问题" class="headerlink" title="移动浏览器的问题"></a>移动浏览器的问题</h1><p>当我们将移​​动浏览器与桌面浏览器进行比较时，最明显的区别是屏幕尺寸。移动浏览器显示的桌面优化网站显着少于桌面浏览器; 通过缩小直到文本不可读的小，或者只显示适合屏幕的网站的一小部分。</p><p>移动屏幕远小于桌面屏幕; 考虑最大宽度为400px，有时候要少得多。（有些手机报告的宽度较大，但它们正在撒谎 - 或者至少给我们无用的信息。）</p><p>平板电脑设备的中间层，如iPad或传闻中的基于HP webOS的平板设备，将弥合桌面和移动设备之间的差距，但这不会改变根本问题。网站也必须在移动设备上运行，因此我们必须让它们在小屏幕上显示。</p><p>最重要的问题集中在CSS上，尤其是视口的尺寸。如果我们一对一地复制桌面模型，我们的CSS就会开始惨不忍睹。</p><p>让我们回到我们的侧边栏吧width: 10%。如果移动浏览器与桌面浏览器完全相同，那么它们最多只能生成40px宽的元素，而且这个元素太窄了。你的液体布局看起来会非常可怕。</p><p>解决问题的一种方法是为移动浏览器构建一个特殊网站。即使除了你是否应该这样做的根本问题之外，实际的问题是只有极少数的网站所有者被充分利用以满足移动设备的需求。</p><p>移动浏览器供应商希望为他们的客户提供最佳体验，现在这意味着“尽可能像桌面一样。”因此需要一些技巧。</p><h1 id="设备像素和CSS像素"><a href="#设备像素和CSS像素" class="headerlink" title="设备像素和CSS像素"></a>设备像素和CSS像素</h1><p>讲解viewport视口前先来了解一下这两个概念，这两个概念虽然都是说像素，但是此像素非彼像素。</p><h2 id="设备像素"><a href="#设备像素" class="headerlink" title="设备像素"></a>设备像素</h2><p><strong>设备像素</strong>（device pixel）是物理概念，顾名思义，显示屏是由一个个物理像素点组成的，通过控制每个像素点的颜色，使屏幕显示出不同的图像，屏幕从工厂出来那天起，它上面的物理像素点就固定不变了，单位pt。</p><blockquote><p>pt在css单位中属于真正的绝对单位，1pt = 1/72(inch),inch及英寸，而1英寸等于2.54厘米。<br>pt = 1/72(英寸), px = 1/dpi(英寸)</p></blockquote><p>不同的设备，其图像基本单位是不同的，比如显示器的点距，可以认为是显示器的物理像素。现在的液晶显示器的点距一般在0.25mm到0.29mm之间。而打印机的墨点，也可以认为是打印机的物理像素，300DPI就是0.085mm，600DPI就是0.042mm。</p><p><img src="dp.jpeg" alt=""></p><p><strong>注意</strong>，我们通常所说的显示器分辨率，其实是指桌面设定的分辨率，而不是显示器的物理分辨率。只不过现在液晶显示器成为主流，由于液晶的显示原理与CRT不同，只有在桌面分辨率与物理分辨率一致的情况下，显示效果最佳，所以现在我们的桌面分辨率几乎总是与显示器的物理分辨率一致了。</p><blockquote><p>即分辨率为<code>1136pt x 640pt</code>指屏幕上垂直有 1136 个物理像素，水平有 640 个物理像素</p></blockquote><h2 id="CSS像素"><a href="#CSS像素" class="headerlink" title="CSS像素"></a>CSS像素</h2><p><strong>CSS像素</strong>（css pixel）是Web编程概念，指的是CSS样式代码中使用的逻辑像素。</p><p>在CSS规范中，长度单位分为两类：绝对（absolute）单位和相对（relative）单位。而px是一个相对单位，相对于设备像素。</p><p><strong>CSS像素的相对性</strong></p><p>举个例子理解：</p><p>使用PC端浏览器打开一个网页，网页中有一个宽400px的盒子（块级元素）。浏览器宽为800px，那么这个盒子的宽此时应该占据页面的一半。但是我们使用浏览器中页面放大功能，放大200%，也就是原来的两倍，那么此时该盒子宽应该占满了整个页面。但是既没有调整浏览器窗口大小，也没有改变任何的css样式，但是该盒子却看上去放大了一倍。这是因为使用页面放大功能把css像素放大了两倍。</p><p>CSS像素与屏幕像素1：1同样大小时：</p><p><img src="csslizi1.png" alt=""></p><p>CSS像素(黑色边框)开始被拉伸，此时1个CSS像素大于1个屏幕像素</p><p><img src="csslizi2.png" alt=""></p><p>默认情况下一个CSS像素应该是等同于一个物理像素的，但是浏览器放大的操作让一个CSS像素等于两倍的设备像素。</p><p>而在移动端中的高PPI的设备上，CSS像素在默认情况下就相当于多个设备像素，如iPhone5使用的是Retina视网膜屏幕，使用<code>2px * 2px</code>的设备像素代表<code>1px * 1px</code>的CSS像素。所以设备像素为<code>640pt * 1136pt</code>，而CSS像素为<code>320px * 568px</code>。</p><blockquote><p>设备独立像素（Device Independent Pixel）简写DIP</p></blockquote><p>设备独立像素也叫 <strong>密度无关像素</strong> ，可以认为是计算机坐标系统中的一个点，这个点表示一个可以由程序使用并控制的虚拟像素，可以由相关系统转换为物理像素。设备独立像素是一个整体概念，包括了css像素，比如:css像素，只是在android 机中，css像素不叫 “css像素了”，而叫“设备独立像素”。</p><blockquote><p>CSS像素 = 设备独立像素 = 逻辑像素</p></blockquote><h2 id="设备像素与CSS像素的关系"><a href="#设备像素与CSS像素的关系" class="headerlink" title="设备像素与CSS像素的关系"></a>设备像素与CSS像素的关系</h2><p>了解它们间的关系时，先来了解两个概念：<code>ppi</code>和<code>dpr</code></p><blockquote><p>PPI像素密度(pixel per inch) | DPR设备像素比(device pixel ratio)</p></blockquote><h3 id="PPI屏幕密度"><a href="#PPI屏幕密度" class="headerlink" title="PPI屏幕密度"></a>PPI屏幕密度</h3><p><code>ppi</code>:表示每英寸所拥有的像素数目，数值越高，代表显示屏能够以越高的密度显示图像。即每英寸像素取值，更确切的说法应该是像素密度，也就是衡量单位物理面积内拥有像素值的情况。</p><p><code>ppi</code>的计算公式可以查阅资料<a href="https://zh.wikipedia.org/wiki/%E6%AF%8F%E8%8B%B1%E5%AF%B8%E5%83%8F%E7%B4%A0" target="_blank" rel="noopener">ppi计算公式</a>。</p><p><img src="ppicalc.png" alt=""></p><p>来算一下数学</p><p><img src="calclizi.png" alt=""></p><p>图中以屏幕尺寸为4寸的<code>iPhone 5s</code>为例，分辨率为<code>1136pt x 640pt</code>，代入公式像素密度为<code>326PPI</code>。计算结果会有出入。</p><blockquote><p>DPI: 每英寸多少点。如果是在当用于描述显示器设备时，ppi和dpi是同一概念，是相等的。</p></blockquote><h3 id="DPR设备像素比"><a href="#DPR设备像素比" class="headerlink" title="DPR设备像素比"></a>DPR设备像素比</h3><p>设备像素比（device pixel ratio）定义了设备像素和设备独立像素（CSS像素）的转换关系，即一个设备像素对应多少个设备独立像素（CSS像素）。</p><ul><li>与设备的关系：<code>DPR = 屏幕横向设备像素 / 设备PPI</code></li><li>与设备像素、CSS像素的关系：<code>DPR = 设备像素 / CSS像素</code></li><li>与 <strong>理想视口</strong>(下文将提到)的关系：<code>DPR = 屏幕横向设备像素 / 理想视口的宽度</code></li></ul><p>在一台移动终端中，设备像素的大小是固定的，不可变的。但是<code>设备独立像素dip</code>是可以被拉长或压缩的。</p><p><img src="whatisdip.png" alt=""></p><p>例如iPhone5s中使用的是Retina视网膜屏幕，即PPI超过300的都叫做超高密度屏幕，只不过苹果公司给了换了个高大上的名字：Retina视网膜屏幕。</p><p>但是在普通屏幕下1个设备像素等于一个CSS像素的设备已经很少了，比如 Iphone 5s 设备像素比为2，Iphone 6s 设备像素比为3。至于安卓机中的设备像素比就更多了，有1.3、1.5、2、3等等。</p><p><strong>如何理解DPR</strong></p><p>设备像素比(dpr) 是指在移动开发中1个css像素占用多少设备像素，如2代表1个css像素用2x2个设备像素来绘制。</p><p>设备像素比(dpr)，公式为<code>1px = (dpr)^2 * 1dp</code>，可以理解为1px由多少个设备像素组成；</p><h3 id="PPI和DPR的关系"><a href="#PPI和DPR的关系" class="headerlink" title="PPI和DPR的关系"></a>PPI和DPR的关系</h3><p>毕竟这些参数是外国人先发明的，他们会优先选择自己熟悉的计量单位作为显示设备的工厂标准参数，因此ppi就用作显示设备的工业标准；</p><p>告诉业界人士，ppi达到多少是高清屏，此时对应的dpr是多少，而不直接告诉你我现在的显示设备dpr是多少，毕竟人们直接听到像素分辨率会更加有反应。</p><p><strong>设备像素比与ppi相关，一般是ppi/160的整数倍：</strong></p><p><img src="ppireldpr.jpeg" alt=""></p><h3 id="设备像素和CSS像素的关系"><a href="#设备像素和CSS像素的关系" class="headerlink" title="设备像素和CSS像素的关系"></a>设备像素和CSS像素的关系</h3><p>以iPhone6/7/8为例：</p><blockquote><p>设备宽高为375pt × 667pt，可以理解为设备独立像素(或css像素)。<br>dpr为2，根据上面的计算公式，其物理像素就为750pt × 1334pt。</p></blockquote><p><img src="csspixel.png" alt=""></p><p>上图中可以看出，对于这样的css样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">width</span>: 2<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">height</span>: 2<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure><p>在不同的屏幕上(普通屏幕 vs retina屏幕)，css像素所呈现的大小(物理尺寸)是一致的，不同的是1个css像素所对应的物理像素个数是不一致的。</p><p>在普通屏幕下，1个css像素 对应 1个物理像素(1:1)。 在retina 屏幕下，1个css像素对应 4个物理像素(1:4)。</p><h2 id="window-devicePixelRatio"><a href="#window-devicePixelRatio" class="headerlink" title="window.devicePixelRatio"></a>window.devicePixelRatio</h2><p><code>window.devicePixelRatio</code>是设备上物理像素和设备独立像素(device-independent pixels (dips))的比例。<br>公式表示就是：<code>window.devicePixelRatio = 物理像素 / dips</code>。</p><p>dip或dp,（device independent pixels，设备独立像素）与屏幕密度有关。dip可以用来辅助区分视网膜设备还是非视网膜设备。</p><p>所有非视网膜屏幕的iphone在垂直的时候，宽度为320物理像素。当你使用<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;</code>的时候，会设置视窗布局宽度（不同于视觉区域宽度，不放大显示情况下，两者大小一致，见下图）为320px, 于是，页面很自然地覆盖在屏幕上。</p><p>这样，非视网膜屏幕的iphone上，屏幕物理像素320像素，独立像素也是320像素，因此，window.devicePixelRatio等于1.</p><p>而对于视网膜屏幕的iphone，如iphone4s, 纵向显示的时候，屏幕物理像素640像素。同样，当用户设置<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;</code>的时候，其视区宽度并不是640像素，而是320像素，这是为了有更好的阅读体验 – 更合适的文字大小。</p><p>这样，在视网膜屏幕的iphone上，屏幕物理像素640像素，独立像素还是320像素，因此，<code>window.devicePixelRatio</code>等于<code>2</code>.</p><blockquote><p>在css中，可以通过-webkit-device-pixel-ratio，webkit-min-device-pixel-ratio和-webkit-max-device-pixel-ratio进行媒体查询，对不同dpr的设备，做一些样式适配(这里只针对webkit内核的浏览器和webview)。</p></blockquote><p><strong>兼容性</strong></p><p>来自<a href="https://caniuse.com/#search=window.devicePixelRatio" target="_blank" rel="noopener">caniuse.com</a></p><p><img src="caniusedevicepixelratio.png" alt=""></p><p>喜忧参半。好的是Safari, Android WebKit, Chrome 22+(Android), Opera Mobile, BlackBerry WebKit, QQ, Palm WebKit, 及Dolfin都能正确实现该属性。</p><p>当然，大部分这些浏览器仍然运行在<code>devicePixelRatio</code>值应该为<code>1</code>的系统上，当它们移动到视网膜类似设备时候，可能就会遇到问题。</p><blockquote><p>注意：你可以为这个 window.devicePixelRatio 重新赋值，但并不会对最终的显示造成任何的影响。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.devicePixelRatio = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.devicePixelRatio); <span class="comment">//10</span></span><br></pre></td></tr></table></figure><h2 id="设计师和前端工程师之间如何协同"><a href="#设计师和前端工程师之间如何协同" class="headerlink" title="设计师和前端工程师之间如何协同"></a>设计师和前端工程师之间如何协同</h2><p>一般由设计师按照设备像素(device pixel)为单位制作设计稿。<br>前端工程师，参照相关的设备像素比(device pixel ratio)，进行换算以及编码。</p><h1 id="分辨率、像素和屏幕尺寸"><a href="#分辨率、像素和屏幕尺寸" class="headerlink" title="分辨率、像素和屏幕尺寸"></a>分辨率、像素和屏幕尺寸</h1><p><code>PPI</code>指的是像素密度。</p><p>分辨率是指一个块屏幕的像素尺寸。比如说<code>1334pt * 750pt</code>是iPhone6的分辨率。</p><p>屏幕尺寸是指显示屏幕对角线的尺寸，一般用英寸来表示。</p><p>询问别人一粒像素有多大是一个非常鸡贼的问题（小心面试遇到这样的题），虽然我们说像素是构成屏幕的发光的点，是物理的，但是像素在脱离了屏幕尺寸之后是没有大小可言的，你可以将 1920 * 1080 颗像素放到一台 40 寸的小米电视机里面，也可以将同样多的像素全部塞到一台 5.5 寸的 iPhone7 Plus 手机里面去，那么对于 40 寸的电视而言，每个像素颗粒当然会大于 5.5 寸的手机的像素。</p><p><img src="tvandphone.jpeg" alt=""></p><p>所以光看屏幕的分辨率对于设计师来说是不具备多少实际意义的，通过分辨率计算得出的像素密度（PPI）才是设计师要关心的问题，我们通过屏幕分辨率和屏幕尺寸就能计算出屏幕的像素密度的。</p><p>再次使用 iPhone（6~7）作为例子。我们知道该屏幕的横向物理尺寸为 2.3 英寸 ，且横向具有 750 颗像素，根据下面的公式，我们能够算出 iPhone（6~7）的屏幕是 326 PPI，意为每寸存在 326 颗像素。</p><p>其实不论我们怎么除，计算得出来的像素密度（PPI）都会是这个数，宽存在像素除以宽物理长度，高存在像素除以高物理长度，得数都接近于 326。</p><h1 id="viewport视口"><a href="#viewport视口" class="headerlink" title="viewport视口"></a>viewport视口</h1><p>在移动设备上的浏览器都会认为自己能让所有网站显示，即使不是为移动设备设计的网站。但是以浏览器可视区域为viewport的话，移动设备屏幕都不宽，所以那些为桌面浏览器设计的网站放到移动设备显示的时候，必然会因为viewport太窄而挤作一团，甚至布局也会乱掉。虽然市面上说某某手机分辨率达到<code>768 * 1024</code>，甚至到达2k屏的分辨率，那这么高的分辨率用来显示桌面网站应该没有问题吧。但是在上述文中<code>CSS像素</code>中的1px只是一个相对值，并不能够直接代表等于屏幕上的1px。手机分辨率越大，但是屏幕尺寸不变的情况下，css像素中的1px就回代表更多的物理像素，才能让1px的东西在屏幕上的大小与那些低分辨率的设备差不多，不然会因为太过于小而使得肉眼无法看清。</p><p>所以在移动设备下，浏览器的viewport可以分为三个：可视视口（visual viewport）、布局视口（layout viewport）和理想视口（ideal viewport）。（来自ppk大神观点）</p><h2 id="可视视口"><a href="#可视视口" class="headerlink" title="可视视口"></a>可视视口</h2><p>可视视口就是目前在屏幕上显示页面的一部分。用户可以滚动以更改用户自己所看到的部分，或者缩放以更改可视窗口的大小。</p><p><img src="visualviewport.jpg" alt=""></p><p>但是，CSS布局（尤其是百分比宽度）是相对于布局视口计算的， 布局视口比视觉视口宽得多。</p><p>因此，<code>&lt;html&gt;</code>元素最初采用布局视口的宽度，并且您的CSS被解释为屏幕明显比手机屏幕宽。这可确保您网站的布局与桌面浏览器上的布局相同。</p><p>布局视口有多宽？这与浏览器不同。<code>Safari iPhone</code>使用<code>980px</code>，<code>Opera</code>使用<code>850px</code>，<code>Android WebKit</code>使用<code>800px</code>和<code>IE</code>使用<code>974px</code>。</p><blockquote><p>可视视口的宽度可以通过<code>window.innerWidth</code>获取，但是在Android 2, Oprea mini 和 UC 8中无法正确获取。</p></blockquote><h2 id="布局视口"><a href="#布局视口" class="headerlink" title="布局视口"></a>布局视口</h2><p>一般移动设备的浏览器都默认设置了一个 viewport 元标签，定义一个虚拟的布局视口（layout viewport），用于解决早期的页面在手机上显示的问题。iOS, Android 基本都将这个视口分辨率设置为 980px，所以 PC 上的网页基本能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放网页。</p><p><strong>完全缩小的情况下：visual viewport = layout viewport</strong></p><p><img src="vv=lv.jpg" alt=""></p><p>浏览器选择了布局视口的尺寸，使其在完全缩小模式下完全覆盖屏幕（因此等于可视视口）.</p><p><strong>不完全缩小的情况下：layout viewport &gt; visual viewport</strong></p><p><img src="lv&gt;vv.jpg" alt=""></p><p>布局视口的宽度和高度等于在不完全缩小模式下可以在屏幕上显示的任何宽度和高度。当用户放大这些尺寸时保持不变。</p><p>在放大和缩小的过程中，<code>visual viewport</code>和<code>layout viewport</code>的宽，高都没发生任何的变化,变化的仅仅就像是用户拿着这个<code>visual viewport</code>去远离或者靠近<code>layout viewport</code>，在远离或者靠近的过程中，就会呈现出缩放的效果来。</p><blockquote><p>布局视口的宽度/高度可以通过<code>document.documentElement.clientWidth / Height</code>获取。</p></blockquote><h2 id="布局视口和可视视口的联系"><a href="#布局视口和可视视口的联系" class="headerlink" title="布局视口和可视视口的联系"></a>布局视口和可视视口的联系</h2><p>可以把<code>layout viewport</code>理解为一张完全遮住并且不能更边大小的白纸，把<code>visual viewport</code>理解为一个有边框的透视器，你可以通过这个透视器来查看这张白纸的内容。通过这个透视器你可以一点点的看到白纸部分内容，这里所能看到的就是<code>visual viewport</code>。你也可以靠近或者远离的方式来透视白纸（白纸静止不动），你看的内容可以变多或者变少，但是白纸<code>layout viewport</code>自身的大小和形状是不会发生改变的。</p><h2 id="理想视口"><a href="#理想视口" class="headerlink" title="理想视口"></a>理想视口</h2><p>布局视口的默认宽度并不是一个理想的宽度，于是 Apple 和其他浏览器厂商引入了理想视口的概念，它对设备而言是最理想的布局视口尺寸。显示在理想视口中的网站具有最理想的宽度，用户无需进行缩放。</p><blockquote><p>完美适配：首先不需要用户缩放和横向滚动条就能正常的查看网站的所有内容；第二，显示的文字的大小是合适，比如一段14px大小的文字，不会因为在一个高密度像素的屏幕里显示得太小而无法看清，理想的情况是这段14px的文字无论是在何种密度屏幕，何种分辨率下，显示出来的大小都是差不多的。当然，不只是文字，其他元素像图片什么的也是这个道理。</p></blockquote><p>理想视口的值其实就是屏幕分辨率的值，它对应的像素叫做设备逻辑像素（device independent pixel, dip）。dip 和设备的物理像素无关，一个 dip 在任意像素密度的设备屏幕上都占据相同的空间。如果用户没有进行<code>缩放</code>，那么一个 CSS 像素就等于一个 dip。</p><p><code>ideal viewport</code>并没有一个固定的尺寸，不同的设备拥有有不同的<code>ideal viewport</code>。所有的iphone的<code>ideal viewport</code>宽度都是320px，无论它的屏幕宽度是320还是640，也就是说，在iphone中，css中的320px就代表iphone屏幕的宽度。</p><p>但是安卓设备就比较复杂了，有320px的，有360px的，有384px的等等，关于不同的设备ideal viewport的宽度都为多少，可以到 <a href="http://viewportsizes.com" target="_blank" rel="noopener">http://viewportsizes.com</a> 去查看一下，里面收集了众多设备的理想宽度。</p><p>用下面的方法可以使布局视口与理想视口的宽度一致：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h2><p>两个视口都以CSS像素为单位进行测量。但是，当视觉视口尺寸随着缩放而变化时（如果放大，屏幕上的CSS像素较少），布局视口尺寸保持不变。（如果他们没有，您的页面将不断重排，因为重新计算百分比宽度。）</p><p>缩放是相对于<code>ideal viewport</code>缩放的，缩放值越大，当前viewport的宽度就会越小，反之亦然。例如在iphone中，<code>ideal viewport</code> 的宽度是320px，如果我们设置<code>initial-scale=2</code>，此时 viewport 的宽度会变为只有160px了，这也好理解，放大了一倍嘛，就是原来1px的东西变成2px了，但是1px变为2px并不是把原来的320px变为640px了，而是在实际宽度不变的情况下，1px变得跟原来的2px的长度一样了，所以放大2倍后原来需要320px才能填满的宽度现在只需要160px就做到了。因此，我们可以得出一个公式：</p><p><strong>视觉视口和缩放比例的关系为：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">visual viewport宽度 = ideal viewport宽度 / 当前缩放值</span><br><span class="line"></span><br><span class="line">当前缩放值 = 理想视口宽度  / 视觉视口宽度</span><br></pre></td></tr></table></figure><p>所以，当用户放大时，视觉视口将会变小，CSS 像素将跨越更多的物理像素。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>ppk大神把移动设备上的viewport分为 <strong>layout viewport</strong> 、 <strong>visual viewport</strong> 和 <strong>ideal viewport</strong> 三类，其中的<code>ideal viewport</code>是最适合移动设备的viewport，<code>ideal viewport</code>的宽度等于移动设备的屏幕宽度，只要在css中把某一元素的宽度设为<code>ideal viewport</code>的宽度(单位用px)，那么这个元素的宽度就是设备屏幕的宽度了，也就是宽度为100%的效果。<code>ideal viewport</code> 的意义在于，无论在何种分辨率的屏幕下，那些针对<code>ideal viewport</code>而设计的网站，不需要用户手动缩放，也不需要出现横向滚动条，都可以完美的呈现给用户。</p><h1 id="利用meta标签对viewport进行控制"><a href="#利用meta标签对viewport进行控制" class="headerlink" title="利用meta标签对viewport进行控制"></a>利用meta标签对viewport进行控制</h1><p>移动设备默认的viewport是layout viewport，也就是那个比屏幕要宽的viewport，但在进行移动设备网站的开发时，我们需要的是ideal viewport。那么怎么才能得到ideal viewport呢？这就该轮到meta标签出场了。</p><p>我们可以使用视口元标签（viewport meta 标签）来进行布局视口的设置。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>上述<code>meta</code>标签的作用是让当前viewport的宽度等于设备的宽度，同时不允许用户手动缩放。</p><p><code>meta viewport</code>标签首先是由苹果公司在其<code>safari</code>浏览器中引入的，目的就是解决移动设备的<code>viewport</code>问题。后来安卓以及各大浏览器厂商也都纷纷效仿，引入对meta viewport的支持，事实也证明这个东西还是非常有用的。</p><p>在苹果的规范中，meta viewport 有6个属性(暂且把content中的那些东西称为一个个属性和值)，如下：</p><table><thead><tr><th>属性</th><th>取值</th><th>描述</th></tr></thead><tbody><tr><td>width</td><td>正整数或device-width</td><td>定义视口的宽度，单位为像素</td></tr><tr><td>height</td><td>正整数或device-height</td><td>定义视口的高度，单位为像素，一般不用</td></tr><tr><td>initial-scale</td><td>[0.0-10.0]</td><td>定义初始缩放值</td></tr><tr><td>minimum-scale</td><td>[0.0-10.0]</td><td>定义放大最大比例，它必须小于或等于maximum-scale设置</td></tr><tr><td>maximum-scale</td><td>[0.0-10.0]</td><td>定义缩小最小比例，它必须大于或等于minimum-scale设置</td></tr><tr><td>user-scalable</td><td>yes / no</td><td>定义是否允许用户手动缩放页面，默认值 yes</td></tr></tbody></table><p><strong>有几点需要注意：</strong></p><ul><li>viewport 标签只对移动端浏览器有效，对 PC 端浏览器是无效的</li><li>当缩放比例为 100% 时，dip 宽度 = CSS 像素宽度 = 理想视口的宽度 = 布局视口的宽度</li><li>单独设置 initial-scale 或 width 都会有兼容性问题，所以设置布局视口为理想视口的最佳方法是同时设置这两个属性</li><li>即使设置了 user-scalable = no，在 Android Chrome 浏览器中也可以强制启用手动缩放</li></ul><p>这些属性可以同时使用，也可以单独使用或混合使用，多个属性同时使用时用逗号隔开就行了。</p><p>此外，在安卓中还支持<code>target-densitydpi</code> 这个私有属性，它表示目标设备的密度等级，作用是决定css中的1px代表多少物理像素。</p><table><thead><tr><th>属性</th><th>取值</th><th>描述</th></tr></thead><tbody><tr><td>target-densitydpi</td><td>high-dpi,medium-dpi,low-dpi,device-dpi</td><td>私有属性，它表示目标设备的密度等级，作用是决定css中的1px代表多少物理像素</td></tr></tbody></table><p>特别说明的是，当<code>target-densitydpi=device-dpi</code>时， css中的1px会等于物理像素中的1px。</p><p>因为这个属性只有安卓支持，并且安卓已经决定要废弃<code>&lt;strike&gt;target-densitydpi&lt;/strike&gt;</code>  这个属性了，所以这个属性我们要避免进行使用。</p><h1 id="动态改变meta-viewport标签"><a href="#动态改变meta-viewport标签" class="headerlink" title="动态改变meta viewport标签"></a>动态改变meta viewport标签</h1><h2 id="第一种方式："><a href="#第一种方式：" class="headerlink" title="第一种方式："></a>第一种方式：</h2><p>使用<code>document.write</code>来动态输出<code>meta viewport</code>标签，例如</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">'&lt;meta name="viewport" content="width=device-width,initial-scale=1"&gt;'</span>)</span><br></pre></td></tr></table></figure><h2 id="第二种方式"><a href="#第二种方式" class="headerlink" title="第二种方式"></a>第二种方式</h2><p>通过<code>setAttribute</code>来改变</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">id</span>=<span class="string">"testViewport"</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width = 380"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> mvp = <span class="built_in">document</span>.getElementById(<span class="string">'testViewport'</span>);</span></span><br><span class="line"><span class="javascript">mvp.setAttribute(<span class="string">'content'</span>,<span class="string">'width=480'</span>);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>安卓2.3自带浏览器上的一个<code>bug</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">alert(<span class="built_in">document</span>.documentElement.clientWidth); <span class="comment">//弹出600，正常情况应该弹出320</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=600"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">alert(<span class="built_in">document</span>.documentElement.clientWidth); <span class="comment">//弹出320，正常情况应该弹出600</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>测试的手机<code>ideal viewport</code>宽度为320px，第一次弹出的值是600,但这个值应该是第行meta标签的结果啊，然后第二次弹出的值是320，这才是第一行meta标签所达到的效果啊，所以在安卓2.3(或许是所有2.x版本中)的自带浏览器中，对<code>meta viewport</code>标签进行覆盖或更改，会出现让人非常迷糊的结果。</p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://segmentfault.com/a/1190000015884091" target="_blank" rel="noopener">https://segmentfault.com/a/1190000015884091</a></p><p><a href="https://www.quirksmode.org/mobile/viewports.html" target="_blank" rel="noopener">https://www.quirksmode.org/mobile/viewports.html</a></p><p><a href="https://www.quirksmode.org/mobile/viewports2.html" target="_blank" rel="noopener">https://www.quirksmode.org/mobile/viewports2.html</a></p><p><a href="https://www.quirksmode.org/mobile/metaviewport/" target="_blank" rel="noopener">https://www.quirksmode.org/mobile/metaviewport/</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Mobile/Viewport_meta_tag" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Mobile/Viewport_meta_tag</a></p><p><a href="https://www.jianshu.com/p/af6dad66e49a" target="_blank" rel="noopener">https://www.jianshu.com/p/af6dad66e49a</a></p><p><a href="http://viewportsizes.com" target="_blank" rel="noopener">http://viewportsizes.com</a></p><p><a href="https://juejin.im/post/5bb6c62be51d450e47142c60" target="_blank" rel="noopener">https://juejin.im/post/5bb6c62be51d450e47142c60</a></p><p><a href="https://www.jianshu.com/p/3d28f4959c5a" target="_blank" rel="noopener">https://www.jianshu.com/p/3d28f4959c5a</a></p><p><a href="https://stackoverflow.com/questions/6333927/difference-between-visual-viewport-and-layout-viewport" target="_blank" rel="noopener">https://stackoverflow.com/questions/6333927/difference-between-visual-viewport-and-layout-viewport</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h1&gt;&lt;p&gt;浏览器的&lt;code&gt;viewport&lt;/code&gt;是可以看到Web内容的窗口区域，通常与渲染出的页面的大小不同，这种情况下，浏览器会提供滚动条以滚动访问所有内容。&lt;/p&gt;
&lt;p&gt;窄屏幕设备（如移动设备）在一个虚拟窗口或视口中渲染页面，这个窗口或视口通常比屏幕宽；然后缩小渲染的结果，以便在一屏内显示所有内容。然后用户可以移动、缩放以查看页面的不同区域。例如，如果移动屏幕的宽度为640px，则可能会用980px的虚拟视口渲染页面，然后缩小页面以适应640px的窗口大小。&lt;/p&gt;
&lt;p&gt;这样做是因为许多页面没有做移动端优化，在小窗口渲染时会乱掉（或看起来乱）。所以，这种虚拟视口是一种让未做移动端优化的网站在窄屏设备上看起来更好的办法。&lt;/p&gt;
    
    </summary>
    
      <category term="HTML" scheme="http://hackycy.github.io/categories/HTML/"/>
    
    
      <category term="HTML" scheme="http://hackycy.github.io/tags/HTML/"/>
    
      <category term="移动端适配" scheme="http://hackycy.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>Android build.gradle配置详解</title>
    <link href="http://hackycy.github.io/2019/04/10/Android-build-gradle%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/"/>
    <id>http://hackycy.github.io/2019/04/10/Android-build-gradle配置详解/</id>
    <published>2019-04-10T04:21:25.000Z</published>
    <updated>2019-04-10T06:41:38.111Z</updated>
    
    <content type="html"><![CDATA[<p>AS是采用gradle来进行构建项目，而gradle是基于groovy语言。这里了解一下项目中gradle的详细配置。</p><a id="more"></a><p><img src="project.png" alt="一个最简单的项目结构"></p><h1 id="Project的build-gradle文件"><a href="#Project的build-gradle文件" class="headerlink" title="Project的build.gradle文件"></a>Project的build.gradle文件</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Top-level build file where you can add configuration options common to all sub-projects/modules.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()<span class="comment">//从Android Studio3.0后新增了google()配置，可以引用google上的开源项</span></span><br><span class="line">        jcenter()<span class="comment">//是一个类似于github的代码托管仓库，声明了jcenter()配置，可以轻松引用 jcenter上的开源项目</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:3.3.2'</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;<span class="comment">//这里是项目本身需要的依赖，比如项目所需的maven库</span></span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 运行gradle clean时，执行此处定义的task任务。</span></span><br><span class="line"><span class="comment">// 该任务继承自Delete，删除根目录中的build目录。</span></span><br><span class="line"><span class="comment">// 相当于执行Delete.delete(rootProject.buildDir)。</span></span><br><span class="line"><span class="comment">// gradle使用groovy语言，调用method时可以不用加（）。</span></span><br><span class="line"><span class="keyword">task</span> clean(type: <span class="keyword">Delete</span>) &#123;</span><br><span class="line">    <span class="keyword">delete</span> rootProject.buildDir</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>buildscript{}</code>闭包是gradle脚本执行所需要的依赖，分别是对应的maven库和插件<ul><li><code>repositories{}</code>闭包：配置远程仓库,该闭包中声明了jcenter()和google()的配置，其中jcenter是一个代码托管仓库，上面托管了很多Android开源项目，在这里配置了jcenter后我们可以在项目中方便引用jcenter上的开源项目，从Android Studio3.0后新增了google()配置，可以引用google上的开源项目</li><li><code>dependencies{}</code>闭包：配置构建工具,该闭包使用classpath声明了一个Gradle插件，由于Gradle并不只是用来构建Android项目，因此此处引入相关插件来构建Android项目，其中’3.0.0’为该插件的版本号，可以根据最新的版本号来调整</li></ul></li><li><code>allprojects{}</code>闭包是项目本身需要的依赖，比如项目所需要的maven库</li><li><code>task clean(type: Delete)</code>是运行gradle clean时，执行此处定义的task任务，该任务继承自Delete，删除根目录中的build目录。其中buildscript包含repositories闭包和dependencies闭包</li></ul><h1 id="Module的build-gradle文件"><a href="#Module的build-gradle文件" class="headerlink" title="Module的build.gradle文件"></a>Module的build.gradle文件</h1><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">    compileSdkVersion <span class="number">28</span></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        applicationId <span class="string">"cn.net.sweetlover.myapplication"</span></span><br><span class="line">        minSdkVersion <span class="number">15</span></span><br><span class="line">        targetSdkVersion <span class="number">28</span></span><br><span class="line">        versionCode <span class="number">1</span></span><br><span class="line">        versionName <span class="string">"1.0"</span></span><br><span class="line">        testInstrumentationRunner <span class="string">"android.support.test.runner.AndroidJUnitRunner"</span></span><br><span class="line">    &#125;</span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android-optimize.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    implementation <span class="keyword">fileTree</span>(dir: <span class="string">'libs'</span>, <span class="keyword">include</span>: [<span class="string">'*.jar'</span>])</span><br><span class="line">    implementation <span class="string">'com.android.support:appcompat-v7:28.0.0'</span></span><br><span class="line">    implementation <span class="string">'com.android.support.constraint:constraint-layout:1.1.3'</span></span><br><span class="line">    testImplementation <span class="string">'junit:junit:4.12'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test:runner:1.0.2'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-core:3.0.2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="apply-plugin"><a href="#apply-plugin" class="headerlink" title="apply plugin"></a>apply plugin</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明是Android程序，</span></span><br><span class="line"><span class="comment">//com.android.application 表示这是一个应用程序模块</span></span><br><span class="line"><span class="comment">//com.android.library 标识这是一个库模块</span></span><br><span class="line"><span class="comment">//而这区别：前者可以直接运行，后着是依附别的应用程序运行</span></span><br><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br></pre></td></tr></table></figure><p>apply plugin表示应用了一个插件，一般有两种值可选：</p><ul><li><code>com.android.application</code>，表示该模块为应用程序模块，可以直接运行，打包得到的是<code>apk</code>文件</li><li><code>com.android.library</code>，表示该模块为库模块，只能作为代码库依附与别的应用程序模块来运行，打包得到的是<code>aar</code>文件</li></ul><h2 id="android-闭包"><a href="#android-闭包" class="headerlink" title="android{}闭包"></a>android{}闭包</h2><p>这个闭包主要为了配置项目构建的各种属性：</p><h3 id="signingConfigs"><a href="#signingConfigs" class="headerlink" title="signingConfigs{}"></a>signingConfigs{}</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">signingConfigs &#123;<span class="comment">// 自动化打包配置</span></span><br><span class="line">        release &#123;<span class="comment">// 线上环境</span></span><br><span class="line">            keyAlias <span class="string">'test'</span></span><br><span class="line">            keyPassword <span class="string">'123456'</span></span><br><span class="line">            storeFile <span class="keyword">file</span>(<span class="string">'test.keystore'</span>)</span><br><span class="line">            storePassword <span class="string">'123456'</span></span><br><span class="line">        &#125;</span><br><span class="line">        debug &#123;<span class="comment">// 开发环境</span></span><br><span class="line">            keyAlias <span class="string">'test'</span></span><br><span class="line">            keyPassword <span class="string">'123456'</span></span><br><span class="line">            storeFile <span class="keyword">file</span>(<span class="string">'test.keystore'</span>)</span><br><span class="line">            storePassword <span class="string">'123456'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>可以手动添加签名配置，也可以通过<code>Project Structure</code>-&gt;<code>app</code>-&gt;<code>Singing</code>，点击下面<code>+</code>号填入配置信息即可生成代码配置。</p><p><img src="sign_auto.png" alt="AS配置"></p><p>签名配置完成后可以方便带签名打包，在module的<code>Build Variants</code>中有两个<code>Type</code>，分别是<code>debug</code>和<code>release</code>，可以选择任意一个类型进行打包，并且他们会利用各自配置的Key进行打包，执行 Run app或者<code>Build</code>-&gt;<code>Build apk</code>就会自动在<code>module name/app/build/outputs/apk</code>路径下生成Apk文件。另一种打包方式是Build-&gt;Generate Signed APK填写签名信息生成Apk。</p><h3 id="compileSdkVersion"><a href="#compileSdkVersion" class="headerlink" title="compileSdkVersion"></a>compileSdkVersion</h3><p>设置编译时用的Android版本</p><h3 id="buildToolsVersion"><a href="#buildToolsVersion" class="headerlink" title="buildToolsVersion"></a>buildToolsVersion</h3><p>设置编译时使用的构建工具的版本，Android Studio3.0后去除此项配置</p><h3 id="defaultConfig"><a href="#defaultConfig" class="headerlink" title="defaultConfig{}"></a>defaultConfig{}</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &#123;</span><br><span class="line">        applicationId <span class="string">"cn.net.sweetlover.myapplication"</span><span class="comment">//项目的包名</span></span><br><span class="line">        minSdkVersion <span class="number">16</span><span class="comment">//项目最低兼容的版本</span></span><br><span class="line">        targetSdkVersion <span class="number">27</span><span class="comment">//项目的目标版本</span></span><br><span class="line">        versionCode <span class="number">1</span><span class="comment">//版本号</span></span><br><span class="line">        versionName <span class="string">"1.0"</span><span class="comment">//版本名称</span></span><br><span class="line">        testInstrumentationRunner <span class="string">"android.support.test.runner.AndroidJUnitRunner"</span><span class="comment">//表明要使用AndroidJUnitRunner进行单元测试</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><code>applicationId</code>：指定了项目的包名。</li><li><code>minSdkVersion</code>:指定项目最低兼容的版本，如果设备小于这个版本或者大于maxSdkVersion(一般不用)将无法安装这个应用，这里指定为16，表示最低兼容到Android 4.1系统。</li><li><code>targetSdkVersion</code>:指定项目的目标版本，表示在该目标版本上已经做过充分测试，系统会为该应用启动一些对应该目标系统的最新功能特性，Android系统平台的行为变更，只有targetSdkVersion的属性值被设置为大于或等于该系统平台的API版本时，才会生效。例如，若指定targetSdkVersion值为22，则表示该程序最高只在Android5.1版本上做过充分测试，在Android6.0系统上（对应targetSdkVersion为23）拥有的新特性如系统运行时权限等功能就不会被启用。</li><li><code>versionCode</code>:表示版本号，一般每次打包上线时该值只能增加，打包后看不见。</li><li><code>versionName</code>:表示版本名称，展示在应用市场上。</li><li><code>testInstrumentationRunner</code>:<code>&quot;android.support.test.runner.AndroidJUnitRunner&quot;</code>表明要使用<code>AndroidJUnitRunner</code>进行单元测试。</li></ul><h3 id="buildTypes"><a href="#buildTypes" class="headerlink" title="buildTypes{}"></a>buildTypes{}</h3><p>这个闭包主要指定生成安装文件的主要配置，一般包含两个子闭包，一个是<code>debug</code>闭包，用于指定生成测试版安装文件的配置，可以忽略不写；另一个是<code>release</code>闭包，用于指定生成正式版安装文件的配置。两者能配置的参数相同，最大的区别默认属性配置不一样，两种模式支持的属性配置如下图：</p><p><img src="buildtype.png" alt=""></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;<span class="comment">// 生产/测试环境配置</span></span><br><span class="line">        release &#123;<span class="comment">// 生产环境</span></span><br><span class="line">            buildConfigField(<span class="string">"boolean"</span>, <span class="string">"LOG_DEBUG"</span>, <span class="string">"false"</span>)<span class="comment">//配置Log日志</span></span><br><span class="line">            buildConfigField(<span class="string">"String"</span>, <span class="string">"URL_PERFIX"</span>, <span class="string">"\"https://release.cn/\""</span>)<span class="comment">// 配置URL前缀</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span><span class="comment">//是否对代码进行混淆</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span><span class="comment">//指定混淆的规则文件</span></span><br><span class="line">            signingConfig signingConfigs.release<span class="comment">//设置签名信息</span></span><br><span class="line">            pseudoLocalesEnabled <span class="keyword">false</span><span class="comment">//是否在APK中生成伪语言环境，帮助国际化的东西，一般使用的不多</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span><span class="comment">//是否对APK包执行ZIP对齐优化，减小zip体积，增加运行效率</span></span><br><span class="line">            applicationIdSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">            versionNameSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">        &#125;</span><br><span class="line">        debug &#123;<span class="comment">// 测试环境</span></span><br><span class="line">            buildConfigField(<span class="string">"boolean"</span>, <span class="string">"LOG_DEBUG"</span>, <span class="string">"true"</span>)<span class="comment">//配置Log日志</span></span><br><span class="line">            buildConfigField(<span class="string">"String"</span>, <span class="string">"URL_PERFIX"</span>, <span class="string">"\"https://test.com/\""</span>)<span class="comment">// 配置URL前缀</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span><span class="comment">//是否对代码进行混淆</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span><span class="comment">//指定混淆的规则文件</span></span><br><span class="line">            signingConfig signingConfigs.debug<span class="comment">//设置签名信息</span></span><br><span class="line">            debuggable <span class="keyword">false</span><span class="comment">//是否支持断点调试</span></span><br><span class="line">            jniDebuggable <span class="keyword">false</span><span class="comment">//是否可以调试NDK代码</span></span><br><span class="line">            renderscriptDebuggable <span class="keyword">false</span><span class="comment">//是否开启渲染脚本就是一些c写的渲染方法</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span><span class="comment">//是否对APK包执行ZIP对齐优化，减小zip体积，增加运行效率</span></span><br><span class="line">            pseudoLocalesEnabled <span class="keyword">false</span><span class="comment">//是否在APK中生成伪语言环境，帮助国际化的东西，一般使用的不多</span></span><br><span class="line">            applicationIdSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">            versionNameSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><code>release{}</code>闭包和<code>debug{}</code>闭包两者能配置的参数相同，最大的区别默认属性配置不一样：</p><ul><li><code>minifyEnabled</code>:表明是否对代码进行混淆，true表示对代码进行混淆，false表示对代码不进行混淆，默认的是false。</li><li><code>proguardFiles</code>:指定混淆的规则文件，这里指定了<code>proguard-android.txt</code>文件和<code>proguard-rules.pro</code>文件两个文件，<code>proguard-android.txt</code>文件为默认的混淆文件，里面定义了一些通用的混淆规则。<code>proguard-rules.pro</code>文件位于当前项目的根目录下，可以在该文件中定义一些项目特有的混淆规则。</li><li><code>buildConfigField</code>:用于解决Beta版本服务和Release版本服务地址不同或者一些Log打印需求控制的。 <strong>例如：配置buildConfigField(“boolean”, “LOG_DEBUG”, “true”)</strong>，这个方法接收三个非空的参数，第一个：确定值的类型，第二个：指定key的名字，第三个：传值，调用的时候BuildConfig.LOG_DEBUG即可调用。</li><li><code>debuggable</code>:表示是否支持断点调试，release默认为false，debug默认为true。</li><li><code>jniDebuggable</code>:表示是否可以调试NDK代码，使用lldb进行c和c++代码调试，release默认为false。</li><li><code>signingConfig</code>:设置签名信息，通过<code>signingConfigs.release</code>或者<code>signingConfigs.debug</code>，配置相应的签名，但是添加此配置前必须先添加<code>signingConfigs</code>闭包，添加相应的签名信息。</li><li><code>renderscriptDebuggable</code>:表示是否开启渲染脚本就是一些c写的渲染方法，默认为false。</li><li><code>renderscriptOptimLevel</code>:表示渲染等级，默认是3。</li><li><code>pseudoLocalesEnabled</code>:是否在APK中生成伪语言环境，帮助国际化的东西，一般使用的不多。</li><li><code>applicationIdSuffix</code>:和defaultConfig中配置是一的，这里是在applicationId 中添加了一个后缀，一般使用的不多。</li><li><code>versionNameSuffix</code>:表示添加版本名称的后缀，一般使用的不多。</li><li><code>zipAlignEnabled</code>:表示是否对APK包执行ZIP对齐优化，减小zip体积，增加运行效率，release和debug默认都为true。</li></ul><h3 id="sourceSets"><a href="#sourceSets" class="headerlink" title="sourceSets{}"></a>sourceSets{}</h3><p>配置目录指向</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sourceSets</span> &#123;<span class="comment">//目录指向配置</span></span><br><span class="line">        main &#123;</span><br><span class="line">            jniLibs.srcDirs = [<span class="string">'libs'</span>]<span class="comment">//指定lib库目录</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>配置 <code>jniLibs.srcDirs = [&#39;libs&#39;]</code>，可以在<code>Android studio</code>的<code>Android</code>视图下生成<code>jniLibs</code>文件夹，可以方便我们存放jar包和库文件，其中<code>Android</code>视图下的<code>jniLibs</code>和<code>project</code>视图下的<code>libs</code>指向同一文件夹（app→libs），如下图所示：</p><p><img src="sourceset.png" alt=""></p><h3 id="packagingOptions"><a href="#packagingOptions" class="headerlink" title="packagingOptions{}"></a>packagingOptions{}</h3><p>打包时的相关配置</p><p>当项目中依赖的第三方库越来越多时，有可能会出现两个依赖库中存在同一个（名称）文件。如果这样，Gradle在打包时就会提示错误（警告）。那么就可以根据提示，然后使用以下方法将重复的文件剔除，比较常用的是通过exclude去除重复的文件，例如：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">packagingOptions&#123;</span><br><span class="line">        <span class="comment">//pickFirsts做用是 当有重复文件时 打包会报错 这样配置会使用第一个匹配的文件打包进入apk</span></span><br><span class="line">        <span class="comment">// 表示当apk中有重复的META-INF目录下有重复的LICENSE文件时  只用第一个 这样打包就不会报错</span></span><br><span class="line">        pickFirsts = [<span class="string">'META-INF/LICENSE'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment">//merges何必 当出现重复文件时 合并重复的文件 然后打包入apk</span></span><br><span class="line">        <span class="comment">//这个是有默认值得 merges = [] 这样会把默默认值去掉  所以我们用下面这种方式 在默认值后添加</span></span><br><span class="line">        merge <span class="string">'META-INF/LICENSE'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//这个是在同时使用butterknife、dagger2做的一个处理。同理，遇到类似的问题，只要根据gradle的提示，做类似处理即可。</span></span><br><span class="line">        <span class="keyword">exclude</span> <span class="string">'META-INF/services/javax.annotation.processing.Processor'</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="productFlavors"><a href="#productFlavors" class="headerlink" title="productFlavors{}"></a>productFlavors{}</h3><p>多渠道配置</p><p>这个配置是经常会使用到的，通常在适配多个渠道的时候，需要为特定的渠道做部分特殊的处理，比如设置不同的包名、应用名等。场景：当我们使用友盟统计时，通常需要设置一个渠道ID，那么我们就可以利用productFlavors来生成对应渠道信息的包，如：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">android &#123;  </span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        wandoujia &#123;</span><br><span class="line">            <span class="comment">//豌豆荚渠道包配置</span></span><br><span class="line">            manifestPlaceholders = [UMENG_CHANNEL_VALUE: <span class="string">"wandoujia"</span>]</span><br><span class="line">            <span class="comment">//manifestPlaceholders的使用在后续章节（AndroidManifest里的占位符）中介绍</span></span><br><span class="line">        &#125;</span><br><span class="line">        xiaomi &#123;</span><br><span class="line">            manifestPlaceholders = [UMENG_CHANNEL_VALUE: <span class="string">"xiaomi"</span>]</span><br><span class="line">            applicationId <span class="string">"com.wiky.gradle.xiaomi"</span> <span class="comment">//配置包名</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        _360 &#123;</span><br><span class="line">            manifestPlaceholders = [UMENG_CHANNEL_VALUE: <span class="string">"_360"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更简洁的方式：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">android &#123;  </span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        wandoujia &#123;&#125;</span><br><span class="line">        xiaomi &#123;&#125;</span><br><span class="line">        _360 &#123;&#125;</span><br><span class="line">       <span class="comment">//...</span></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    productFlavors.all &#123; </span><br><span class="line">        <span class="comment">//批量修改，类似一个循序遍历</span></span><br><span class="line">        flavor -&gt; flavor.manifestPlaceholders = [UMENG_CHANNEL_VALUE: name] </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>配置完之后，在命令行窗口中（Terminal）中输入<code>gradlew assembleRelease</code>（windows）即可开始打包，在Mac系统中对应指令是<code>./gradlew assembleRelease</code>。当然，如果想要debug版本的包，将指令中<code>assembleRelease</code>改为<code>assembleDebug</code>即可。最后生成的包还是在<code>app/build/outputs/apk</code>中，默认命名格式如<code>app-wandoujia-release-unsigned.apk</code>，在module的<code>Build Variants</code>中可以选择相应的渠道。<br>注：Android Studio3.0需在主app的build.gradle里面的</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">defaultConfig &#123;</span><br><span class="line">    targetSdkVersion：***</span><br><span class="line">    minSdkVersion ：***</span><br><span class="line">    versionCode：***</span><br><span class="line">    versionName ：***</span><br><span class="line">    <span class="comment">//版本名后面添加一句话，意思就是flavor dimension 它的维度就是该版本号，这样维度就是都是统一的了</span></span><br><span class="line">    flavorDimensions <span class="string">"versionCode"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="lintOptions"><a href="#lintOptions" class="headerlink" title="lintOptions{}"></a>lintOptions{}</h3><p>代码扫描分析</p><p>Lint 是Android Studio 提供的 代码扫描分析工具，它可以帮助我们发现代码结构/质量问题，同时提供一些解决方案，而且这个过程不需要我们手写测试用例。</p><p>Lint 发现的每个问题都有描述信息和等级（和测试发现 bug 很相似），我们可以很方便地定位问题，同时按照严重程度进行解决。</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//程序在编译的时候会检查lint，有任何错误提示会停止build，我们可以关闭这个开关</span></span><br><span class="line">    lintOptions &#123;</span><br><span class="line">        abortOnError <span class="keyword">false</span> <span class="comment">//即使报错也不会停止打包</span></span><br><span class="line">        checkReleaseBuilds <span class="keyword">false</span>  <span class="comment">//打包release版本的时候进行检测</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies{}"></a>dependencies{}</h2><p>该闭包定义了项目的依赖关系，一般项目都有三种依赖方式：本地依赖、库依赖和远程依赖。本地依赖可以对本地的jar包或目录添加依赖关系，库依赖可以对项目中的库模块添加依赖关系，远程依赖可以对jcener库上的开源项目添加依赖关系。从Android Studio3.0后<code>compile</code>引入库不在使用，而是通过<code>api</code>和<code>implementation</code>，<code>api</code>完全等同于以前的<code>compile</code>，用<code>api</code>引入的库整个项目都可以使用，用<code>implementation</code>引入的库只有对应的Module能使用，其他Module不能使用，由于之前的项目统一用<code>compile</code>依赖，导致的情况就是模块耦合性太高，不利于项目拆解，使用<code>implementation</code>之后虽然使用起来复杂了但是做到降低偶合兴提高安全性。</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    implementation <span class="keyword">fileTree</span>(<span class="keyword">include</span>: [<span class="string">'*.jar'</span>], dir: <span class="string">'libs'</span>)</span><br><span class="line">    implementation <span class="string">'com.android.support:appcompat-v7:28.0.0'</span></span><br><span class="line">    implementation <span class="string">'com.android.support.constraint:constraint-layout:1.1.3'</span></span><br><span class="line">    testImplementation <span class="string">'junit:junit:4.12'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test:runner:1.0.2'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-core:3.0.2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)</code>：<code>implementation fileTree</code>是一个本地依赖声明，表示将libs目录下所有.jar后缀的文件都添加到项目的构建路径当中。</p><p><code>testImplementation</code>和<code>androidTestImplementation</code>：表示声明测试用例库。</p><h2 id="完整配置"><a href="#完整配置" class="headerlink" title="完整配置"></a>完整配置</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明是Android程序，</span></span><br><span class="line"><span class="comment">//com.android.application 表示这是一个应用程序模块</span></span><br><span class="line"><span class="comment">//com.android.library 标识这是一个库模块</span></span><br><span class="line"><span class="comment">//而这区别：前者可以直接运行，后着是依附别的应用程序运行</span></span><br><span class="line">apply plugin: <span class="string">'com.android.application'</span></span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">    signingConfigs &#123;<span class="comment">// 自动化打包配置</span></span><br><span class="line">        release &#123;<span class="comment">// 线上环境</span></span><br><span class="line">            keyAlias <span class="string">'test'</span></span><br><span class="line">            keyPassword <span class="string">'123456'</span></span><br><span class="line">            storeFile <span class="keyword">file</span>(<span class="string">'test.jks'</span>)</span><br><span class="line">            storePassword <span class="string">'123456'</span></span><br><span class="line">        &#125;</span><br><span class="line">        debug &#123;<span class="comment">// 开发环境</span></span><br><span class="line">            keyAlias <span class="string">'test'</span></span><br><span class="line">            keyPassword <span class="string">'123456'</span></span><br><span class="line">            storeFile <span class="keyword">file</span>(<span class="string">'test.jks'</span>)</span><br><span class="line">            storePassword <span class="string">'123456'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    compileSdkVersion <span class="number">27</span><span class="comment">//设置编译时用的Android版本</span></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        applicationId <span class="string">"cn.net.sweetlover.myapplication"</span><span class="comment">//项目的包名</span></span><br><span class="line">        minSdkVersion <span class="number">16</span><span class="comment">//项目最低兼容的版本</span></span><br><span class="line">        targetSdkVersion <span class="number">27</span><span class="comment">//项目的目标版本</span></span><br><span class="line">        versionCode <span class="number">1</span><span class="comment">//版本号</span></span><br><span class="line">        versionName <span class="string">"1.0"</span><span class="comment">//版本名称</span></span><br><span class="line">        flavorDimensions <span class="string">"versionCode"</span></span><br><span class="line">        testInstrumentationRunner <span class="string">"android.support.test.runner.AndroidJUnitRunner"</span><span class="comment">//表明要使用AndroidJUnitRunner进行单元测试</span></span><br><span class="line">    &#125;</span><br><span class="line">    buildTypes &#123;<span class="comment">// 生产/测试环境配置</span></span><br><span class="line">        release &#123;<span class="comment">// 生产环境</span></span><br><span class="line">            buildConfigField(<span class="string">"boolean"</span>, <span class="string">"LOG_DEBUG"</span>, <span class="string">"false"</span>)<span class="comment">//配置Log日志</span></span><br><span class="line">            buildConfigField(<span class="string">"String"</span>, <span class="string">"URL_PERFIX"</span>, <span class="string">"\"https://release.cn/\""</span>)<span class="comment">// 配置URL前缀</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span><span class="comment">//是否对代码进行混淆</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span><span class="comment">//指定混淆的规则文件</span></span><br><span class="line">            signingConfig signingConfigs.release<span class="comment">//设置签名信息</span></span><br><span class="line">            pseudoLocalesEnabled <span class="keyword">false</span><span class="comment">//是否在APK中生成伪语言环境，帮助国际化的东西，一般使用的不多</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span><span class="comment">//是否对APK包执行ZIP对齐优化，减小zip体积，增加运行效率</span></span><br><span class="line">            applicationIdSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">            versionNameSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">        &#125;</span><br><span class="line">        debug &#123;<span class="comment">// 测试环境</span></span><br><span class="line">            buildConfigField(<span class="string">"boolean"</span>, <span class="string">"LOG_DEBUG"</span>, <span class="string">"true"</span>)<span class="comment">//配置Log日志</span></span><br><span class="line">            buildConfigField(<span class="string">"String"</span>, <span class="string">"URL_PERFIX"</span>, <span class="string">"\"https://test.com/\""</span>)<span class="comment">// 配置URL前缀</span></span><br><span class="line">            minifyEnabled <span class="keyword">false</span><span class="comment">//是否对代码进行混淆</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span><span class="comment">//指定混淆的规则文件</span></span><br><span class="line">            signingConfig signingConfigs.debug<span class="comment">//设置签名信息</span></span><br><span class="line">            debuggable <span class="keyword">false</span><span class="comment">//是否支持断点调试</span></span><br><span class="line">            jniDebuggable <span class="keyword">false</span><span class="comment">//是否可以调试NDK代码</span></span><br><span class="line">            renderscriptDebuggable <span class="keyword">false</span><span class="comment">//是否开启渲染脚本就是一些c写的渲染方法</span></span><br><span class="line">            zipAlignEnabled <span class="keyword">true</span><span class="comment">//是否对APK包执行ZIP对齐优化，减小zip体积，增加运行效率</span></span><br><span class="line">            pseudoLocalesEnabled <span class="keyword">false</span><span class="comment">//是否在APK中生成伪语言环境，帮助国际化的东西，一般使用的不多</span></span><br><span class="line">            applicationIdSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">            versionNameSuffix <span class="string">'test'</span><span class="comment">//在applicationId 中添加了一个后缀，一般使用的不多</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">sourceSets</span> &#123;<span class="comment">//目录指向配置</span></span><br><span class="line">        main &#123;</span><br><span class="line">            jniLibs.srcDirs = [<span class="string">'libs'</span>]<span class="comment">//指定lib库目录</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    packagingOptions&#123;<span class="comment">//打包时的相关配置</span></span><br><span class="line">        <span class="comment">//pickFirsts做用是 当有重复文件时 打包会报错 这样配置会使用第一个匹配的文件打包进入apk</span></span><br><span class="line">        <span class="comment">// 表示当apk中有重复的META-INF目录下有重复的LICENSE文件时  只用第一个 这样打包就不会报错</span></span><br><span class="line">        pickFirsts = [<span class="string">'META-INF/LICENSE'</span>]</span><br><span class="line"></span><br><span class="line">        <span class="comment">//merges何必 当出现重复文件时 合并重复的文件 然后打包入apk</span></span><br><span class="line">        <span class="comment">//这个是有默认值得 merges = [] 这样会把默默认值去掉  所以我们用下面这种方式 在默认值后添加</span></span><br><span class="line">        merge <span class="string">'META-INF/LICENSE'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//这个是在同时使用butterknife、dagger2做的一个处理。同理，遇到类似的问题，只要根据gradle的提示，做类似处理即可。</span></span><br><span class="line">        <span class="keyword">exclude</span> <span class="string">'META-INF/services/javax.annotation.processing.Processor'</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    productFlavors &#123;</span><br><span class="line">        wandoujia &#123;&#125;</span><br><span class="line">        xiaomi &#123;&#125;</span><br><span class="line">        _360 &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    productFlavors.all &#123;</span><br><span class="line">            <span class="comment">//批量修改，类似一个循序遍历</span></span><br><span class="line">        flavor -&gt; flavor.manifestPlaceholders = [IFLYTEK_CHANNEL: name]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//程序在编译的时候会检查lint，有任何错误提示会停止build，我们可以关闭这个开关</span></span><br><span class="line">    lintOptions &#123;</span><br><span class="line">        abortOnError <span class="keyword">false</span></span><br><span class="line">        <span class="comment">//即使报错也不会停止打包</span></span><br><span class="line">        checkReleaseBuilds <span class="keyword">false</span></span><br><span class="line">        <span class="comment">//打包release版本的时候进行检测</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="comment">//项目的依赖关系</span></span><br><span class="line">    implementation <span class="keyword">fileTree</span>(<span class="keyword">include</span>: [<span class="string">'*.jar'</span>], dir: <span class="string">'libs'</span>)</span><br><span class="line">    <span class="comment">//本地jar包依赖</span></span><br><span class="line">    implementation <span class="string">'com.android.support:appcompat-v7:27.1.1'</span></span><br><span class="line">    <span class="comment">//远程依赖</span></span><br><span class="line">    implementation <span class="string">'com.android.support.constraint:constraint-layout:1.1.2'</span></span><br><span class="line">    testImplementation <span class="string">'junit:junit:4.12'</span></span><br><span class="line">    <span class="comment">//声明测试用例库</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test:runner:1.0.2'</span></span><br><span class="line">    androidTestImplementation <span class="string">'com.android.support.test.espresso:espresso-core:3.0.2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="签名"><a href="#签名" class="headerlink" title="签名"></a>签名</h1><h2 id="AS一键生成"><a href="#AS一键生成" class="headerlink" title="AS一键生成"></a>AS一键生成</h2><p>1、AS菜单中<code>Build</code>-&gt;<code>Generate Signed APK</code>点击</p><p><img src="signcreate1.png" alt=""></p><p>2、点击<code>Create New...</code></p><blockquote><p>”Create new…”新建一个签名文件<br>”Choose existing…”选择一个已经存在的签名文件</p></blockquote><p>3、填写完整的签名信息。</p><p><img src="newkeystore.png" alt=""></p><p>填写完毕点击<code>OK</code></p><p><strong>参数介绍</strong></p><ul><li><code>Key store path</code> : 签名文件路径</li><li><code>Password</code> : 签名密码</li><li><code>Confirm</code> : 确认密码</li><li><code>Alias</code> : 别名</li><li><code>Validity ( years )</code> : 有限期 （年）</li><li><code>First and Last Name</code> : 全名</li><li><code>Organizational Unit</code> : 组织单位</li><li><code>Organization</code> : 组织</li><li><code>City or Locality</code> : 城市或地方</li><li><code>State or Province</code> : 州或省</li><li><code>Country Code(XX)</code> : 国家代码</li></ul><blockquote><p>这里密码统一填写“android”，别名写个“key”即可。其他的信息根据实际情况和需求填写，并不很重要。</p></blockquote><p>4、生成文件名后缀为<code>keystore</code></p><p><img src="lastcreate.png" alt=""></p><blockquote><p>选V1打包出来的app是jar的（一般这种就是当做第三方导入项目来用的），<br>选v2打包出来的APP是apk版本的（也就是可以直接在手机上安装的，可是上线的）；</p></blockquote><p>一般情况下两个同时选择即可。然后点击<code>Finish</code>完成生成签名。</p><p><strong>原因：</strong></p><p>v2的用途解释：<br>1.用于验证其完整性的APK的加密签名现在位于ZIP中央目录之前。<br>2.这个签名是在整个APK文件的二进制内容上计算和验证的，而不是在v1的归档文件中解压缩文件内容。<br>3.一个APK可以同时由v1和v2签名同时签署，所以它仍然可以向后兼容以前的Android版本。</p><p>但是只设置v2会引起7.0以下会直接安装完显示未安装，7.0以上则使用了V2的方式验证 </p><p>报错信息为：<code>INSTALL_PARSE_FAILED_NO_CERTIFICATES</code>。</p><p>同时设置V1和V2则所有机型都没问题。而只设置v1签名并不会影响什么，但是在7.0上不会使用更安全的验证方式</p><blockquote><p>如果你想在使用Android分级插件时禁用添加v1或v2的签名，你可以将这些行添加到你的signingConfig部分。<br>v1SigningEnabled false<br>v2SigningEnabled false</p></blockquote><h2 id="命令行生成"><a href="#命令行生成" class="headerlink" title="命令行生成"></a>命令行生成</h2><p>配置jdk后</p><p>运行命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -<span class="built_in">alias</span> forever -keyalg RSA -validity 10000 -keystore forever.keystore</span><br></pre></td></tr></table></figure></p><p><strong>这里关键文字的代表意义：</strong></p><ul><li>forever：keystore的别名alias</li><li>10000：keystore的有效天数</li><li>forever.keystore：keystore的名称</li></ul><p>1、第一次输入的秘钥库口令即为forever.keystore的密码<br>2、然后填写相关的信息<br>3、生成对应的forever.keystore，文件地址在cmd命令的对应路径下面</p><p><img src="cmdcreate.png" alt=""></p><h1 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h1><h2 id="Project的setting-gradle文件"><a href="#Project的setting-gradle文件" class="headerlink" title="Project的setting.gradle文件"></a>Project的setting.gradle文件</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="string">':app'</span></span><br></pre></td></tr></table></figure><p>setting.gradle 文件在 初始化过程中被执行，构建器通过<code>setting.gradle</code> 文件中的内容了解哪些模块将被<code>build</code>。</p><blockquote><p>注意：单模块项目不一定需要有 setting 文件，但一旦有多个模块，必须要有 setting 文件，同时也要写明所有要构建的模块，否则 gradle 不会 build 不包括的模块。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;AS是采用gradle来进行构建项目，而gradle是基于groovy语言。这里了解一下项目中gradle的详细配置。&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://hackycy.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://hackycy.github.io/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>IOS pch预编译头文件使用</title>
    <link href="http://hackycy.github.io/2019/04/08/IOS-pch%E9%A2%84%E7%BC%96%E8%AF%91%E5%A4%B4%E6%96%87%E4%BB%B6%E4%BD%BF%E7%94%A8/"/>
    <id>http://hackycy.github.io/2019/04/08/IOS-pch预编译头文件使用/</id>
    <published>2019-04-08T04:19:05.000Z</published>
    <updated>2019-04-08T04:44:22.856Z</updated>
    
    <content type="html"><![CDATA[<h1 id="PCH是什么"><a href="#PCH是什么" class="headerlink" title="PCH是什么"></a>PCH是什么</h1><p>PCH文件是一个标准的预编译头文件( Pre-Compiled Header)，在Xcode6之前的版本中，系统模板会在Supporting Files文件夹自动创建。但在Xcode6之后的版本中取消了这一文件，如果我们需要使用pch文件，则需要手动创建。去掉的主要的原因:</p><a id="more"></a><blockquote><p>1、去掉自动导入的系统框架类库的头文件，可以提高原文件的复用性，便于迁移。<br>2、一个体积大的Prefix Header会大大增加编译时间。</p></blockquote><p>再来看看pch的作用：</p><blockquote><p>1.存放一些全局的宏(整个项目中都用得上的宏)。<br>2.用来包含一些头文件(整个项目中都用得上的头文件)。<br>3.能自动打开或者关闭日志输出功能。</p></blockquote><p>如果你的pch文件确实很大，那那肯定影响编译速度，苹果去掉他可能是要加快编译时间增加用户体验。虽然失去了编程的便利性。事实上，正确运用pch文件时预编译后的头文件会被缓存起来，再次编译的时候就不需要重新编译pch文件中导入的内容，编译速度并不会降低很多。很重要的一点就是pch文件确实给我们编程带来便利，我们不用在每个文件内重复引用另一个文件；那怎样才能提高编译速度呢？降低编译速度的罪魁祸首就是大量的共用性不高的宏定义和头文件的引入。编译的时候整个工程范围地查找和替换这些宏定义字段，重复导入这些头文件，不慢就奇怪了。</p><h1 id="PCH创建"><a href="#PCH创建" class="headerlink" title="PCH创建"></a>PCH创建</h1><h2 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h2><p><img src="create_pch.png" alt="PCH文件创建"></p><p>点击创建，输入文件名即可。</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>在项目-&gt;<code>Build Settings</code>下</p><ul><li><p>找到该<code>Precompile Prefix Header</code>项设置为<code>YES</code>,这样的话pch会被预编译，预编译后的pch文件会被缓存起来，从而提高编译速度。当 <code>Precompile Prefix Header</code> 为<code>NO</code>时，那么pch不会被预编译，而是在每一个用到它导入的框架类库的<code>.m</code>文件中编译一次</p></li><li><p>找到<code>Prefix Header</code>项</p></li></ul><p><img src="pch_config.png" alt=""></p><p>双击可弹出输入框，给Prefix Header设置路径，只需要点击pch文件然后按住鼠标左键拖过来就行，但是<code>/Users/zjyzy/WorkPlace/xcode/AllDemo/BarDemo/BarDemo/PrefixHeader.pch</code>代表的是绝对路径，当用别的电脑时就不能识别了，这时就可以用到<code>$(SRCROOT)</code>来替换，在iOS中<code>$(SRCROOT)</code>代表的是项目根目录下，路径形式为：<br><code>$(SRCROOT)/当前工程名字/需要包含头文件所在文件夹</code><br>所以把路径改为:<br><code>$(SRCROOT)/BarDemo/PrefixHeader.pch</code></p><h1 id="PCH使用"><a href="#PCH使用" class="headerlink" title="PCH使用"></a>PCH使用</h1><p>一般来说在你向pch添加全局的头文件之前,必须添加以下代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __OBJC__</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>这个宏定义的作用是保证只有oc文件可以调用pch里面的头文件，一些非OC语言不能调用，比如.cpp,.mm。如果不加入，那么如果代码中带有.cpp,.mm文件，那么将报错。NSObjCRuntime.h  NSObject.h  NSZone.h将会报出编译异常。<br>这样你就可以在pch文件当中添加一些常用头文件、宏定义了。</p><h2 id="宏来自定义只能在debug环境下使用输出日志"><a href="#宏来自定义只能在debug环境下使用输出日志" class="headerlink" title="宏来自定义只能在debug环境下使用输出日志"></a>宏来自定义只能在debug环境下使用输出日志</h2><p>在pch文件下添加如下代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __OBJC__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DEBUG</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> TTLog(...) NSLog(__VA_ARGS__);</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> TTLog(...);</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><blockquote><p><code>TTLog</code>为自定义名称,在项目中输出则将<code>NSLog</code>替换为<code>TTLog</code>即可。</p></blockquote><p><strong>宏定义的debug /release切换，见下图操作步骤</strong></p><p><img src="rd.png" alt=""></p><p>在选择了<code>Edit Scheme</code>后<code>run info</code>中切换<code>debug/release</code>模式</p><p><img src="rd2.png" alt=""></p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://my.oschina.net/goboy/blog/1838003" target="_blank" rel="noopener">https://my.oschina.net/goboy/blog/1838003</a></p><p><a href="https://www.jianshu.com/p/a1d61f5cc454" target="_blank" rel="noopener">https://www.jianshu.com/p/a1d61f5cc454</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;PCH是什么&quot;&gt;&lt;a href=&quot;#PCH是什么&quot; class=&quot;headerlink&quot; title=&quot;PCH是什么&quot;&gt;&lt;/a&gt;PCH是什么&lt;/h1&gt;&lt;p&gt;PCH文件是一个标准的预编译头文件( Pre-Compiled Header)，在Xcode6之前的版本中，系统模板会在Supporting Files文件夹自动创建。但在Xcode6之后的版本中取消了这一文件，如果我们需要使用pch文件，则需要手动创建。去掉的主要的原因:&lt;/p&gt;
    
    </summary>
    
      <category term="Ios" scheme="http://hackycy.github.io/categories/Ios/"/>
    
    
      <category term="Ios" scheme="http://hackycy.github.io/tags/Ios/"/>
    
  </entry>
  
  <entry>
    <title>IOS状态栏、导航栏使用总结</title>
    <link href="http://hackycy.github.io/2019/04/04/IOS%E7%8A%B6%E6%80%81%E6%A0%8F%E3%80%81%E5%AF%BC%E8%88%AA%E6%A0%8F%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/"/>
    <id>http://hackycy.github.io/2019/04/04/IOS状态栏、导航栏使用总结/</id>
    <published>2019-04-04T07:08:36.000Z</published>
    <updated>2019-04-08T04:11:11.605Z</updated>
    
    <content type="html"><![CDATA[<p><strong>状态栏与导航栏的位置如下图</strong></p><a id="more"></a><p><strong>iOS7之前：</strong>状态栏与导航栏是分开的；<br><strong>iOS7之后：</strong>状态栏与导航栏合在一起；导航部分总高度(64)= 状态栏高度(20) +导航栏内容高度((44）</p><p><strong>iPhoneX以后：</strong>状态栏的高度变为44，导航栏部分总高度(88) = 状态栏(44) + 导航栏内容高度(44)</p><p><img src="statusbar.png" alt=""></p><p>我们可以通过<code>[UIApplication sharedApplication].statusBarFrame.size</code>获取状态栏的size（一般没有刘海时的高度为<code>20</code>，有刘海时的高度为44）。通过<code>self.navigationController.navigationBar.frame.size</code>来获取导航栏的size。</p><h1 id="状态栏"><a href="#状态栏" class="headerlink" title="状态栏"></a>状态栏</h1><p>状态栏内容包括信号、时间、电量等，只有两种颜色样式（黑或白）。</p><h2 id="状态栏显示和隐藏"><a href="#状态栏显示和隐藏" class="headerlink" title="状态栏显示和隐藏"></a>状态栏显示和隐藏</h2><p>全局控制：通过 <strong>info.plist</strong>设置，或者调用全局方法。<br>分页控制：在视图控制器里通过 <strong>prefersStatusBarHidden</strong>方法设置。</p><h3 id="全局控制"><a href="#全局控制" class="headerlink" title="全局控制"></a>全局控制</h3><p>默认设置或者手动设置 <strong>info.plist</strong>文件中<code>View controller-based status bar appearance</code>设置为<code>NO</code>，此时状态栏需要全局设置，有两种方式设置。</p><p><strong>方法1:</strong></p><p>依次进入<code>Targets</code>-&gt;<code>General</code>-&gt;<code>Deployment Info</code>，然后可进行进行设置如下:</p><p><img src="hidestatusbar.png" alt=""></p><p>在<code>info.plist</code>文件中添加<code>Status bar is initially hidden</code>设置为<code>YES</code>，则隐藏启动页状态栏，否则反之。和直接在项目中设置相同。</p><p><img src="statusbar_infop.png" alt=""></p><p><strong>方法2:</strong></p><p>代码设置：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//已过时</span></span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] setStatusBarHidden:<span class="literal">YES</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//推荐</span></span><br><span class="line">[<span class="built_in">UIApplication</span> sharedApplication].statusBarHidden = <span class="literal">YES</span>;</span><br></pre></td></tr></table></figure><p><strong>注意：</strong>使用代码控制全局的状态栏，代码的位置很重要；在AppDelegate中写入可以设置整个App页面的状态栏样式；<br>如果需要单独设置其中一个页面隐藏状态栏，需要在进入页面时设置隐藏，退出页面时设置显示，以保证不影响其他页面的状态栏样式。</p><h3 id="分页控制"><a href="#分页控制" class="headerlink" title="分页控制"></a>分页控制</h3><p>手动设置 <strong>info.plist</strong>文件中<code>View controller-based status bar appearance</code>设置为<code>YES</code>，此时全局状态设置是无效的，需要分页设置才能修改其样式，即：在每个视图控制器或者控制器基类中使用如下代码：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重写该方法</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)prefersStatusBarHidden &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;<span class="comment">//设置显示，YES为隐藏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="状态栏颜色"><a href="#状态栏颜色" class="headerlink" title="状态栏颜色"></a>状态栏颜色</h2><p>状态栏分前后两个部分，要分清。</p><ul><li>文字部分：就是指电池、时间等部分</li><li>背景部分：就是显示黑色或者图片的部分</li></ul><h3 id="文字部分"><a href="#文字部分" class="headerlink" title="文字部分"></a>文字部分</h3><p>简单来说，就是设置显示电池电量、时间、网络部分标示的颜色， 这里只能设置两种颜色：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//黑色</span></span><br><span class="line"><span class="built_in">UIStatusBarStyleDefault</span></span><br><span class="line"><span class="comment">//白色</span></span><br><span class="line"><span class="built_in">UIStatusBarStyleLightContent</span></span><br></pre></td></tr></table></figure><p>全局控制：通过 <strong>info.plist</strong>设置，或者调用全局方法。<br>分页控制：在视图控制器里通过 <strong>preferredStatusBarStyle</strong>方法设置。</p><h4 id="全局设置"><a href="#全局设置" class="headerlink" title="全局设置"></a>全局设置</h4><p>默认设置或者手动设置 <strong>info.plist</strong>文件中<code>View controller-based status bar appearance</code>设置为<code>NO</code>，此时状态栏需要全局设置，有两种方式设置。</p><p><strong>方法1:</strong></p><p>依次进入<code>Targets</code>-&gt;<code>General</code>-&gt;<code>Deployment Info</code>，然后可进行进行设置如下:</p><p><img src="statusbar_fontbg.png" alt=""></p><p><strong>方法2:</strong></p><p>代码设置:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UIStatusBarStyleDefault | UIStatusBarStyleLightContent</span></span><br><span class="line"><span class="comment">//UIStatusBarStyleDefault,黑色(默认)</span></span><br><span class="line"><span class="comment">//UIStatusBarStyleLightContent,白色</span></span><br><span class="line">[<span class="built_in">UIApplication</span> sharedApplication].statusBarStyle = <span class="built_in">UIStatusBarStyleLightContent</span>;</span><br></pre></td></tr></table></figure><h4 id="分页设置"><a href="#分页设置" class="headerlink" title="分页设置"></a>分页设置</h4><p>手动设置 <strong>info.plist</strong>文件中<code>View controller-based status bar appearance</code>设置为<code>YES</code>，此时全局状态设置是无效的，需要分页设置才能修改其样式，即：在每个视图控制器或者控制器基类中使用如下代码：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重写该方法</span></span><br><span class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">UIStatusBarStyleLightContent</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特别注意：</strong></p><p>但是，这里存在一个问题：如果当前视图控制器是<code>UINavigationController</code>的子视图控制器，<code>preferredStatusBarStyle</code>方法并不会被调用。这是因为导航控制器里的<code>preferredStatusBarStyle</code>才具有修改状态栏样式的能力。</p><p>解决方法：</p><ul><li>方法1:添加子类控制器</li></ul><p>我们需要使用自定义的子类导航控制器，在其中添加如下的代码：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIStatusBarStyle</span>)preferredStatusBarStyle &#123;</span><br><span class="line">    <span class="built_in">UIViewController</span> *topVC = <span class="keyword">self</span>.topViewController;</span><br><span class="line">    <span class="keyword">return</span> [topVC preferredStatusBarStyle];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>方法2:放弃preferredStatusBarStyle该方法</li></ul><p>直接不使用preferredStatusBarStyle方法，而是直接在当前视图控制器中调用如下方法修改状态栏。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//状态栏和导航栏背景色为白色，状态栏文字为黑色</span></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.barStyle = <span class="built_in">UIBarStyleDefault</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//状态栏和导航栏背景色为黑色，状态栏文字为白色</span></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.barStyle = <span class="built_in">UIBarStyleBlack</span>;</span><br></pre></td></tr></table></figure><h3 id="背景部分"><a href="#背景部分" class="headerlink" title="背景部分"></a>背景部分</h3><p>背景部分，简单来说，就是状态栏的背景颜色，其实系统状态栏的背景颜色一直是透明的状态，当有导航栏时，导航栏背景是什么颜色，状态栏就是什么颜色，没有导航栏时，状态栏背后的视图时什么颜色，它就是什么颜色。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置状态栏与到导航栏都是不透明</span></span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.translucent = <span class="literal">NO</span>;</span><br><span class="line"><span class="comment">// 这个方法是设置导航栏背景颜色，状态栏也会随之变色</span></span><br><span class="line">[<span class="keyword">self</span>.navigationController.navigationBar setBarTintColor:[<span class="built_in">UIColor</span> redColor]];</span><br></pre></td></tr></table></figure><p><strong>单独设置</strong></p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 设置状态栏背景颜色</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @param color 设置颜色</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="keyword">void</span>)setStatusBarBackgroundColor:(<span class="built_in">UIColor</span> *)color &#123;</span><br><span class="line">    <span class="built_in">UIView</span> *statusBar = [[[<span class="built_in">UIApplication</span> sharedApplication] valueForKey:<span class="string">@"statusBarWindow"</span>] valueForKey:<span class="string">@"statusBar"</span>];</span><br><span class="line">    <span class="keyword">if</span> ([statusBar respondsToSelector:<span class="keyword">@selector</span>(setBackgroundColor:)]) &#123;</span><br><span class="line">        statusBar.backgroundColor = color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>效果图</strong></p><p><img src="statusbar_bg.png" alt=""></p><blockquote><p>如果是单独设置某个页面的状态栏背景色，还需要在离开页面时恢复原样。</p></blockquote><h2 id="状态栏常用宏定义"><a href="#状态栏常用宏定义" class="headerlink" title="状态栏常用宏定义"></a>状态栏常用宏定义</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> mark - 设备参数</span></span><br><span class="line"><span class="comment">//屏幕宽</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_ScreenWidth   [[UIScreen mainScreen] bounds].size.width</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//屏幕高</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_ScreenHeight  [[UIScreen mainScreen] bounds].size.height</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断设备类型是否iPhoneX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_ISIphoneX    (([UIScreen mainScreen].bounds.size.height/[UIScreen mainScreen].bounds.size.width) &gt;= 2.16)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//导航栏高度</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_NavBarHeight (ZS_ISIphoneX ? 88.f : 64.f)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//状态栏高度</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_StatusBarHeight (ZS_ISIphoneX ? 44.f : 20.f)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//导航栏内容高度</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_NavBarContentHeight 44.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//标签栏高度</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ZS_TabBarHeight (ZS_ISIphoneX ? 49.f + 34.f : 49.f)</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：自iOS11之后，Apple引入Safe Area(安全区)的概念，这将是比宏定义更加有效的适配方法。</p></blockquote><h1 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h1><h2 id="导航栏样式"><a href="#导航栏样式" class="headerlink" title="导航栏样式"></a>导航栏样式</h2><p>设置导航栏样式可分为全局设置或分页设置</p><h3 id="全局设置-1"><a href="#全局设置-1" class="headerlink" title="全局设置"></a>全局设置</h3><p>全局设置在<code>AppDelegate</code>中设置，在整个app都会生效</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置导航栏背景颜色</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setBarTintColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置导航栏背景图片</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setBackgroundImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"bg"</span>] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置导航栏标题样式</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setTitleTextAttributes:[<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:</span><br><span class="line">                                                          [<span class="built_in">UIColor</span> redColor], <span class="built_in">NSForegroundColorAttributeName</span>,</span><br><span class="line">                                                          [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">25</span>], <span class="built_in">NSFontAttributeName</span>,</span><br><span class="line">                                                          <span class="literal">nil</span>]];</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置导航栏返回按钮的颜色</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setTintColor:[<span class="built_in">UIColor</span> redColor]];</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置导航栏隐藏</span></span><br><span class="line">[[<span class="built_in">UINavigationBar</span> appearance] setHidden:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure><h3 id="分页设置-1"><a href="#分页设置-1" class="headerlink" title="分页设置"></a>分页设置</h3><p>全局设置后，但是有几个页面需求不同，则也可以进行单独的分页设置。</p><p>分页设置的调用方法变为<code>self.navigationController.navigationBar</code>。<br>并且分页设置需要遵循： <strong>进入页面时修改，离开页面时还原</strong>的原则。</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入页面时设置颜色：灰色</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillAppear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillAppear:animated];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setBarTintColor:[<span class="built_in">UIColor</span> grayColor]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//离开页面时还原为全局设置：橙色</span></span><br><span class="line">- (<span class="keyword">void</span>)viewWillDisappear:(<span class="built_in">BOOL</span>)animated&#123;</span><br><span class="line">    [<span class="keyword">super</span> viewWillDisappear:animated];</span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setBarTintColor:[<span class="built_in">UIColor</span> orangeColor]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="导航栏引起的布局问题"><a href="#导航栏引起的布局问题" class="headerlink" title="导航栏引起的布局问题"></a>导航栏引起的布局问题</h2><p>当导航栏透明时会出现以下情况：</p><h3 id="内容偏移属性：automaticallyAdjustsScrollViewInsets"><a href="#内容偏移属性：automaticallyAdjustsScrollViewInsets" class="headerlink" title="内容偏移属性：automaticallyAdjustsScrollViewInsets"></a>内容偏移属性：automaticallyAdjustsScrollViewInsets</h3><p>automaticallyAdjustsScrollViewInsets是视图控制器的一个属性，默认为YES，用于优化滑动类视图(继承于UIScrollView的视图)在视图控制里的显示：</p><p>iOS系统的导航栏UINavigationBar与标签栏UITabBar默认都是半透明模糊效果，在这种情况下系统会对视图控制器的UI布局进行优化： <strong>视图控制器里面第一个被添加进去的视图是滑动类视图，并且其Frame是整个屏幕大小时，系统会自动调整其contenInset，以保证滑动视图里的内容不被UINavigationBar与UITabBar遮挡。</strong></p><p>但是对于普通的视图，此时我们仍然需要注意：非滑动视图的布局仍然要考虑导航栏和标签栏高度，注意不被遮挡，比如布局的时候加上导航栏高度，以免内容被导航栏遮挡。</p><p>我们可以通过一段代码来测试一下效果，在默认导航栏(半透明)的视图控制器里添加如下代码：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//UITextView是滑动视图，内容自动向下偏移，不会被导航栏覆盖</span></span><br><span class="line">    <span class="built_in">UITextView</span> *leftTextView = [[<span class="built_in">UITextView</span> alloc] init];</span><br><span class="line">    leftTextView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>,<span class="number">100</span>, <span class="number">675</span>);</span><br><span class="line">    leftTextView.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line">    leftTextView.text = <span class="string">@"君不见，黄河之水天上来，奔流到海不复回。君不见，高堂明镜悲白发，朝如青丝暮成雪。人生得意须尽欢，莫使金樽空对月。天生我材必有用，千金散尽还复来。"</span>;</span><br><span class="line">    leftTextView.font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">18</span>];</span><br><span class="line">    leftTextView.editable = <span class="literal">NO</span>;</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:leftTextView];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//UIView是非滑动视图，内容被导航栏部分覆盖</span></span><br><span class="line">    <span class="built_in">UIView</span> *rightView= [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">150</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    rightView.backgroundColor = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line">    [<span class="keyword">self</span>.view addSubview:rightView];</span><br></pre></td></tr></table></figure><p><img src="auto.png" alt="导航栏透明情况下，滑动视图自动偏移，普通视图被遮挡"></p><p>这里会发现非滑动视图会被导航栏遮挡，但是滑动视图即使延伸到了导航栏下，但是其内容部分却自动向下偏移了，没有被导航栏遮挡住，这是因为系统自动优化了其内边距。</p><p>其实，这种系统的优化也是可以控制关闭的，关闭优化之后，滑动视图就会和普通视图一样，如果还设置其布局的原点是(0,0),其内容就会被导航栏所覆盖，关键代码如下：</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//automaticallyAdjustsScrollViewInsets在11.0后失效，所以需要判断</span></span><br><span class="line"><span class="keyword">if</span> (@available(iOS <span class="number">11.0</span>,*)) &#123;</span><br><span class="line">       scrollView.contentInsetAdjustmentBehavior = <span class="built_in">UIScrollViewContentInsetAdjustmentNever</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       <span class="comment">//automaticallyAdjustsScrollViewIn，关闭自动偏移的系统优化</span></span><br><span class="line">       <span class="keyword">self</span>.automaticallyAdjustsScrollViewInsets = <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="边缘延伸属性：edgesForExtendedLayout"><a href="#边缘延伸属性：edgesForExtendedLayout" class="headerlink" title="边缘延伸属性：edgesForExtendedLayout"></a>边缘延伸属性：edgesForExtendedLayout</h3><p>edgesForExtendedLayout也是视图控制器的布局属性，默认值是UIRectEdgeAll，即：当前视图控制器里各种UI控件会忽略导航栏和标签的存在，布局时若设置其原点设置为(0,0)，视图会延伸显示到导航栏的下面被覆盖。</p><p>所以我们可以设置<code>self.edgesForExtendedLayout=UIRectEdgeNone</code>，此时视图控制器里内容就会避开导航栏和标签栏了.</p><h2 id="导航栏透明"><a href="#导航栏透明" class="headerlink" title="导航栏透明"></a>导航栏透明</h2><p>导航栏布局问题都是因为导航栏透明度影响，但是需求没有必要透明，那么视图控制器里的控件就会默认从(0,64)开始布局了，设置导航栏不透明的方法如下:</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.translucent= <span class="literal">NO</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;状态栏与导航栏的位置如下图&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Ios" scheme="http://hackycy.github.io/categories/Ios/"/>
    
    
      <category term="Ios" scheme="http://hackycy.github.io/tags/Ios/"/>
    
  </entry>
  
  <entry>
    <title>Android中MVC、MVP、MVVM介绍</title>
    <link href="http://hackycy.github.io/2019/04/01/Android%E4%B8%ADMVC%E3%80%81MVP%E3%80%81MVVM%E4%BB%8B%E7%BB%8D/"/>
    <id>http://hackycy.github.io/2019/04/01/Android中MVC、MVP、MVVM介绍/</id>
    <published>2019-04-01T14:19:32.000Z</published>
    <updated>2019-04-01T15:37:50.270Z</updated>
    
    <content type="html"><![CDATA[<p><strong>MVC,MVP,MVVM简单介绍</strong></p><a id="more"></a><h1 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h1><p><code>MVC</code>全名是<code>Model-View-Controller</code>，是模型(model)-视图(view)-控制器(controller)的缩写，一种软件设计的典范，用一种业务逻辑、数据、界面显示分离的方式来组织代码，在改进和个性化定制洁面以及用户交互的同时，不需要重新编写业务逻辑。其中<code>Model</code>层处理数据，业务逻辑等。<code>View</code>层处理界面的显示结果。<code>Controller</code>层起到桥梁的作用，来控制<code>View</code>层和<code>Model</code>层通信以此来达到分离视图显示和业务逻辑层。</p><p><img src="mvc.png" alt=""></p><p>我们往往把Android中界面部分的实现也理解为采用了MVC框架，常常把Activity理解为MVC模式中的Controller。</p><p><strong>看似没有什么特别的地方，但是由几个需要特别关注的关键点：</strong></p><ul><li>View是把控制权交给Controller，自己不执行业务逻辑。</li><li>Controller执行业务逻辑并且操作Model，但不会直接操作View，可以说它是对View无知的。</li><li>View和Model的同步消息是通过观察着模式进行，而同步操作是由View自己请求Model的数据然后对视图进行更新。</li></ul><h2 id="MVC的优缺点"><a href="#MVC的优缺点" class="headerlink" title="MVC的优缺点"></a>MVC的优缺点</h2><p><strong>优点</strong></p><ul><li>把业务逻辑全部分离到controller中，模块化程度高。当业务逻辑变更的时候，不需要更改view和model，只需要更改controller即可（swappable controller）。</li><li>观察者模式可以做到多视图同时更新</li></ul><p><strong>缺点</strong></p><ul><li>controller测试困难，因为视图同步操作是由view自己执行，而view只能在有UI的环境下运行。在没有UI的环境下对controller进行单元测试的时候，controller业务逻辑的正确性是无法验证的。controller更新model的时候，无法对view的更新操作进行断言。</li><li>view无法组件化。view是强依赖特定的model的，如果需要把这个view抽出来作为另外一个应用程序可服用的组件就困难了，因为不同的程序model是不一样的。</li></ul><h1 id="MVP"><a href="#MVP" class="headerlink" title="MVP"></a>MVP</h1><p><code>MVP</code>其实是<code>MVC</code>的一种演进版本，它更简单，将<code>MVC</code>中的<code>Controller</code>改为了<code>Presenter</code>，<code>View</code>通过接口与<code>Presenter</code>进行交互，降低耦合，方便进行单元测试。</p><ul><li><strong>View:</strong>负责绘制UI元素，与用户进行交互（Activity、View、Fragment都可以作为View层）</li><li><strong>Model:</strong>对数据的操作、对网络等的操作，和业务相关的逻辑处理</li><li><strong>Presenter:</strong>作为View与Model交互的中间纽带，处理与用户交互的逻辑。可以把Presenter理解为一个中间层的角色，它接受Model层的数据，并且处理之后传递给View层，还需要处理View层的用户<br>交互等操作。</li></ul><p><img src="mvp.png" alt=""></p><p><strong>关键点</strong></p><ul><li>View不再负责同步的逻辑，而是由Presenter负责。Presenter中既有业务逻辑也有同步逻辑。</li><li>View需要提供操作界面的接口给Presenter进行调用。（关键）</li></ul><p>对比在MVC中，Controller是不能操作View的，View也没有提供相应的接口。而在MVP当中，Presenter可以操作View，View需要提供一组对界面操作的接口给Presenter进行调用。Model仍然通过事件广播自己的变更，但由于Presenter监听而不是View。</p><h2 id="MVP（Passive-View）优缺点"><a href="#MVP（Passive-View）优缺点" class="headerlink" title="MVP（Passive View）优缺点"></a>MVP（Passive View）优缺点</h2><p><strong>优点</strong></p><ul><li>便于测试，Presenter对View是通过接口进行，在对Presenter进行不依赖UI环境的单元测试的时候，可以通过Mock一个View对象，这个对象只需要实现了View的接口即可。然后依赖注入到Presenter中，单元测试的时候就可以完整的测试Presenter业务逻辑的正确性。</li><li>View可以进行组件化。在MVP当中，View不依赖Model。这样就可以让View从特定的业务场景中脱离出来，可以说View可以做到对业务逻辑完全无知。它只需要提供一系列接口提供给上层接操作。这样就可以做到高度可复用的View组件。</li></ul><p><strong>缺点</strong></p><ul><li>Presenter中除了业务逻辑意外，还有大量的View-&gt;Model，Model-&gt;View的手动同步逻辑，造成Presenter比较笨重，维护起来会比较困难。</li></ul><h1 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h1><p><code>MVVM</code>模式（Mode-View-ViewModel），和<code>MVP</code>模式相比，<code>MVVM</code>模式用ViewModel替换了Presenter，其他层基本上与<code>MVP</code>模式一直，<code>ViewModel</code>可以理解成是<code>View</code>的数据模型和<code>Presenter</code>的合体。</p><p><code>MVVM</code>采用双向绑定（data-binding）。View的变动，自动反应在ViewModel，反之亦然。这种模式实际上是框架替应用开发者做了一些工作（相当于ViewModel类是由库帮我们生成的），开发者只需要较少代码就能实现比较复杂的交互。</p><p><img src="mvvm.png" alt=""></p><p><strong>MVVM调用关系</strong></p><p>MVVM的调用关系和MVP一样。但是，在ViewModel当中会有一个叫Binder，或者是Data-binding engine的东西。以前全部由Presenter负责的View和Model之间数据同步操作交由给Binder处理。你只需要在View的模版语法当中，指令式地声明View上的显示的内容是和Model的哪一块数据绑定的。当ViewModel对进行Model更新的时候，Binder会自动把数据更新到View上去，当用户对View进行操作（例如表单输入），Binder也会自动把数据更新到Model上去。这种方式称为：Two-way data-binding，双向数据绑定。可以简单而不恰当地理解为一个模版引擎，但是会根据数据变更实时渲染。</p><p><strong>关键点</strong></p><ul><li>MVVM把View和Model的同步逻辑自动化了。以前Presenter负责的View和Model同步不再手动地进行操作，而是交由框架所提供的Binder进行负责。</li><li>只需要告诉Binder，View显示的数据对应的是Model哪一部分即可。</li></ul><h2 id="MVVM优缺点"><a href="#MVVM优缺点" class="headerlink" title="MVVM优缺点"></a>MVVM优缺点</h2><p><strong>优点</strong></p><ul><li>提高可维护性。解决了MVP大量的手动View和Model同步的问题，提供双向绑定机制。提高了代码的可维护性。</li><li>简化测试。因为同步逻辑是交由Binder做的，View跟着Model同时变更，所以只需要保证Model的正确性，View就正确。大大减少了对View同步更新的测试。</li></ul><p><strong>缺点</strong></p><ul><li>过于简单的图形界面不适用，或说牛刀杀鸡。</li><li>对于大型的图形应用程序，视图状态较多，ViewModel的构建和维护的成本都会比较高。</li><li>数据绑定的声明是指令式地写在View的模版当中的，这些内容是没办法去打断点debug的。</li></ul><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>三者，都是后者解决前者遗留的问题，但每个存在必有其的理由。每种模式并不能因为用而用，而是根据业务的需求来定制。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;MVC,MVP,MVVM简单介绍&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Android" scheme="http://hackycy.github.io/categories/Android/"/>
    
    
      <category term="Android" scheme="http://hackycy.github.io/tags/Android/"/>
    
  </entry>
  
</feed>
